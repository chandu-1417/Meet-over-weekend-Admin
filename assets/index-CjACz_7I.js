var IR=Object.defineProperty;var CR=(n,t,e)=>t in n?IR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Dt=(n,t,e)=>CR(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function DR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hm={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function OR(){if(Rb)return _u;Rb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:u,ref:r!==void 0?r:null,props:o}}return _u.Fragment=t,_u.jsx=e,_u.jsxs=e,_u}var Ib;function MR(){return Ib||(Ib=1,Hm.exports=OR()),Hm.exports}var J=MR(),Fm={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function kR(){if(Cb)return Ct;Cb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function I(B,st,ct){this.props=B,this.context=st,this.refs=C,this.updater=ct||w}I.prototype.isReactComponent={},I.prototype.setState=function(B,st){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,st,"setState")},I.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=I.prototype;function U(B,st,ct){this.props=B,this.context=st,this.refs=C,this.updater=ct||w}var V=U.prototype=new M;V.constructor=U,A(V,I.prototype),V.isPureReactComponent=!0;var $=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function O(B,st,ct,lt,mt,It){return ct=It.ref,{$$typeof:n,type:B,key:st,ref:ct!==void 0?ct:null,props:It}}function R(B,st){return O(B.type,st,void 0,void 0,void 0,B.props)}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function N(B){var st={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ct){return st[ct]})}var L=/\/+/g;function z(B,st){return typeof B=="object"&&B!==null&&B.key!=null?N(""+B.key):st.toString(36)}function k(){}function Ft(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(k,k):(B.status="pending",B.then(function(st){B.status==="pending"&&(B.status="fulfilled",B.value=st)},function(st){B.status==="pending"&&(B.status="rejected",B.reason=st)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function yt(B,st,ct,lt,mt){var It=typeof B;(It==="undefined"||It==="boolean")&&(B=null);var _t=!1;if(B===null)_t=!0;else switch(It){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(B.$$typeof){case n:case t:_t=!0;break;case y:return _t=B._init,yt(_t(B._payload),st,ct,lt,mt)}}if(_t)return mt=mt(B),_t=lt===""?"."+z(B,0):lt,$(mt)?(ct="",_t!=null&&(ct=_t.replace(L,"$&/")+"/"),yt(mt,st,ct,"",function(ci){return ci})):mt!=null&&(D(mt)&&(mt=R(mt,ct+(mt.key==null||B&&B.key===mt.key?"":(""+mt.key).replace(L,"$&/")+"/")+_t)),st.push(mt)),1;_t=0;var Ue=lt===""?".":lt+":";if($(B))for(var ae=0;ae<B.length;ae++)lt=B[ae],It=Ue+z(lt,ae),_t+=yt(lt,st,ct,It,mt);else if(ae=b(B),typeof ae=="function")for(B=ae.call(B),ae=0;!(lt=B.next()).done;)lt=lt.value,It=Ue+z(lt,ae++),_t+=yt(lt,st,ct,It,mt);else if(It==="object"){if(typeof B.then=="function")return yt(Ft(B),st,ct,lt,mt);throw st=String(B),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Q(B,st,ct){if(B==null)return B;var lt=[],mt=0;return yt(B,lt,"","",function(It){return st.call(ct,It,mt++)}),lt}function at(B){if(B._status===-1){var st=B._result;st=st(),st.then(function(ct){(B._status===0||B._status===-1)&&(B._status=1,B._result=ct)},function(ct){(B._status===0||B._status===-1)&&(B._status=2,B._result=ct)}),B._status===-1&&(B._status=0,B._result=st)}if(B._status===1)return B._result.default;throw B._result}var ht=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function St(){}return Ct.Children={map:Q,forEach:function(B,st,ct){Q(B,function(){st.apply(this,arguments)},ct)},count:function(B){var st=0;return Q(B,function(){st++}),st},toArray:function(B){return Q(B,function(st){return st})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ct.Component=I,Ct.Fragment=e,Ct.Profiler=r,Ct.PureComponent=U,Ct.StrictMode=i,Ct.Suspense=f,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(B){return X.H.useMemoCache(B)}},Ct.cache=function(B){return function(){return B.apply(null,arguments)}},Ct.cloneElement=function(B,st,ct){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var lt=A({},B.props),mt=B.key,It=void 0;if(st!=null)for(_t in st.ref!==void 0&&(It=void 0),st.key!==void 0&&(mt=""+st.key),st)!ot.call(st,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&st.ref===void 0||(lt[_t]=st[_t]);var _t=arguments.length-2;if(_t===1)lt.children=ct;else if(1<_t){for(var Ue=Array(_t),ae=0;ae<_t;ae++)Ue[ae]=arguments[ae+2];lt.children=Ue}return O(B.type,mt,void 0,void 0,It,lt)},Ct.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Ct.createElement=function(B,st,ct){var lt,mt={},It=null;if(st!=null)for(lt in st.key!==void 0&&(It=""+st.key),st)ot.call(st,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(mt[lt]=st[lt]);var _t=arguments.length-2;if(_t===1)mt.children=ct;else if(1<_t){for(var Ue=Array(_t),ae=0;ae<_t;ae++)Ue[ae]=arguments[ae+2];mt.children=Ue}if(B&&B.defaultProps)for(lt in _t=B.defaultProps,_t)mt[lt]===void 0&&(mt[lt]=_t[lt]);return O(B,It,void 0,void 0,null,mt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(B){return{$$typeof:h,render:B}},Ct.isValidElement=D,Ct.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:at}},Ct.memo=function(B,st){return{$$typeof:g,type:B,compare:st===void 0?null:st}},Ct.startTransition=function(B){var st=X.T,ct={};X.T=ct;try{var lt=B(),mt=X.S;mt!==null&&mt(ct,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(St,ht)}catch(It){ht(It)}finally{X.T=st}},Ct.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Ct.use=function(B){return X.H.use(B)},Ct.useActionState=function(B,st,ct){return X.H.useActionState(B,st,ct)},Ct.useCallback=function(B,st){return X.H.useCallback(B,st)},Ct.useContext=function(B){return X.H.useContext(B)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(B,st){return X.H.useDeferredValue(B,st)},Ct.useEffect=function(B,st,ct){var lt=X.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(B,st)},Ct.useId=function(){return X.H.useId()},Ct.useImperativeHandle=function(B,st,ct){return X.H.useImperativeHandle(B,st,ct)},Ct.useInsertionEffect=function(B,st){return X.H.useInsertionEffect(B,st)},Ct.useLayoutEffect=function(B,st){return X.H.useLayoutEffect(B,st)},Ct.useMemo=function(B,st){return X.H.useMemo(B,st)},Ct.useOptimistic=function(B,st){return X.H.useOptimistic(B,st)},Ct.useReducer=function(B,st,ct){return X.H.useReducer(B,st,ct)},Ct.useRef=function(B){return X.H.useRef(B)},Ct.useState=function(B){return X.H.useState(B)},Ct.useSyncExternalStore=function(B,st,ct){return X.H.useSyncExternalStore(B,st,ct)},Ct.useTransition=function(){return X.H.useTransition()},Ct.version="19.1.0",Ct}var Db;function sy(){return Db||(Db=1,Fm.exports=kR()),Fm.exports}var H=sy();const re=DR(H);var qm={exports:{}},vu={},Gm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function NR(){return Ob||(Ob=1,function(n){function t(Q,at){var ht=Q.length;Q.push(at);t:for(;0<ht;){var St=ht-1>>>1,B=Q[St];if(0<r(B,at))Q[St]=at,Q[ht]=B,ht=St;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var at=Q[0],ht=Q.pop();if(ht!==at){Q[0]=ht;t:for(var St=0,B=Q.length,st=B>>>1;St<st;){var ct=2*(St+1)-1,lt=Q[ct],mt=ct+1,It=Q[mt];if(0>r(lt,ht))mt<B&&0>r(It,lt)?(Q[St]=It,Q[mt]=ht,St=mt):(Q[St]=lt,Q[ct]=ht,St=ct);else if(mt<B&&0>r(It,ht))Q[St]=It,Q[mt]=ht,St=mt;else break t}}return at}function r(Q,at){var ht=Q.sortIndex-at.sortIndex;return ht!==0?ht:Q.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],g=[],y=1,v=null,b=3,w=!1,A=!1,C=!1,I=!1,M=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(Q){for(var at=e(g);at!==null;){if(at.callback===null)i(g);else if(at.startTime<=Q)i(g),at.sortIndex=at.expirationTime,t(f,at);else break;at=e(g)}}function X(Q){if(C=!1,$(Q),!A)if(e(f)!==null)A=!0,ot||(ot=!0,z());else{var at=e(g);at!==null&&yt(X,at.startTime-Q)}}var ot=!1,O=-1,R=5,D=-1;function N(){return I?!0:!(n.unstable_now()-D<R)}function L(){if(I=!1,ot){var Q=n.unstable_now();D=Q;var at=!0;try{t:{A=!1,C&&(C=!1,U(O),O=-1),w=!0;var ht=b;try{e:{for($(Q),v=e(f);v!==null&&!(v.expirationTime>Q&&N());){var St=v.callback;if(typeof St=="function"){v.callback=null,b=v.priorityLevel;var B=St(v.expirationTime<=Q);if(Q=n.unstable_now(),typeof B=="function"){v.callback=B,$(Q),at=!0;break e}v===e(f)&&i(f),$(Q)}else i(f);v=e(f)}if(v!==null)at=!0;else{var st=e(g);st!==null&&yt(X,st.startTime-Q),at=!1}}break t}finally{v=null,b=ht,w=!1}at=void 0}}finally{at?z():ot=!1}}}var z;if(typeof V=="function")z=function(){V(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ft=k.port2;k.port1.onmessage=L,z=function(){Ft.postMessage(null)}}else z=function(){M(L,0)};function yt(Q,at){O=M(function(){Q(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var ht=b;b=at;try{return Q()}finally{b=ht}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=b;b=Q;try{return at()}finally{b=ht}},n.unstable_scheduleCallback=function(Q,at,ht){var St=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?St+ht:St):ht=St,Q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ht+B,Q={id:y++,callback:at,priorityLevel:Q,startTime:ht,expirationTime:B,sortIndex:-1},ht>St?(Q.sortIndex=ht,t(g,Q),e(f)===null&&Q===e(g)&&(C?(U(O),O=-1):C=!0,yt(X,ht-St))):(Q.sortIndex=B,t(f,Q),A||w||(A=!0,ot||(ot=!0,z()))),Q},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Q){var at=b;return function(){var ht=b;b=at;try{return Q.apply(this,arguments)}finally{b=ht}}}}($m)),$m}var Mb;function PR(){return Mb||(Mb=1,Gm.exports=NR()),Gm.exports}var Ym={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function LR(){if(kb)return sn;kb=1;var n=sy();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,y)},sn.flushSync=function(f){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=g,i.p=y,i.d.f()}},sn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},sn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},sn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},sn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},sn.requestFormReset=function(f){i.d.r(f)},sn.unstable_batchedUpdates=function(f,g){return f(g)},sn.useFormState=function(f,g,y){return u.H.useFormState(f,g,y)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var Nb;function VR(){if(Nb)return Ym.exports;Nb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ym.exports=LR(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function UR(){if(Pb)return vu;Pb=1;var n=PR(),t=sy(),e=VR();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return h(m),s;if(p===c)return h(m),a;p=p.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=p;else{for(var E=!1,S=m.child;S;){if(S===l){E=!0,l=m,c=p;break}if(S===c){E=!0,c=m,l=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===l){E=!0,l=p,c=m;break}if(S===c){E=!0,c=p,l=m;break}S=S.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Ft(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case X:return"Suspense";case ot:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case V:return(s.displayName||"Context")+".Provider";case U:return(s._context.displayName||"Context")+".Consumer";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:Ft(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return Ft(s(a))}catch{}}return null}var yt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},St=[],B=-1;function st(s){return{current:s}}function ct(s){0>B||(s.current=St[B],St[B]=null,B--)}function lt(s,a){B++,St[B]=s.current,s.current=a}var mt=st(null),It=st(null),_t=st(null),Ue=st(null);function ae(s,a){switch(lt(_t,a),lt(It,s),lt(mt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?eb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=eb(a),s=nb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ct(mt),lt(mt,s)}function ci(){ct(mt),ct(It),ct(_t)}function Rs(s){s.memoizedState!==null&&lt(Ue,s);var a=mt.current,l=nb(a,s.type);a!==l&&(lt(It,s),lt(mt,l))}function Li(s){It.current===s&&(ct(mt),ct(It)),Ue.current===s&&(ct(Ue),du._currentValue=ht)}var Ir=Object.prototype.hasOwnProperty,Cr=n.unstable_scheduleCallback,Dr=n.unstable_cancelCallback,cl=n.unstable_shouldYield,Sc=n.unstable_requestPaint,Nn=n.unstable_now,Hd=n.unstable_getCurrentPriorityLevel,hl=n.unstable_ImmediatePriority,La=n.unstable_UserBlockingPriority,Or=n.unstable_NormalPriority,Fd=n.unstable_LowPriority,Va=n.unstable_IdlePriority,fl=n.log,Ac=n.unstable_setDisableYieldValue,me=null,Qt=null;function wn(s){if(typeof fl=="function"&&Ac(s),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(me,s)}catch{}}var en=Math.clz32?Math.clz32:Mr,xc=Math.log,qd=Math.LN2;function Mr(s){return s>>>=0,s===0?32:31-(xc(s)/qd|0)|0}var kr=256,Nr=4194304;function Wn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ua(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,p=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~p,c!==0?m=Wn(c):(E&=S,E!==0?m=Wn(E):l||(l=S&~s,l!==0&&(m=Wn(l))))):(S=c&~p,S!==0?m=Wn(S):E!==0?m=Wn(E):l||(l=c&~s,l!==0&&(m=Wn(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function Pr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function dl(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(){var s=kr;return kr<<=1,(kr&4194048)===0&&(kr=256),s}function ml(){var s=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),s}function Vi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Ui(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function pl(s,a,l,c,m,p){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,P=s.expirationTimes,Y=s.hiddenUpdates;for(l=E&~l;0<l;){var tt=31-en(l),nt=1<<tt;S[tt]=0,P[tt]=-1;var K=Y[tt];if(K!==null)for(Y[tt]=null,tt=0;tt<K.length;tt++){var W=K[tt];W!==null&&(W.lane&=-536870913)}l&=~nt}c!==0&&hi(s,c,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(E&~a))}function hi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-en(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function yl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-en(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Is(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function za(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Cs(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:Tb(s.type))}function Rc(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var ce=Math.random().toString(36).slice(2),De="__reactFiber$"+ce,we="__reactProps$"+ce,Pn="__reactContainer$"+ce,_l="__reactEvents$"+ce,Gd="__reactListeners$"+ce,Ds="__reactHandles$"+ce,Ic="__reactResources$"+ce,Lr="__reactMarker$"+ce;function Os(s){delete s[De],delete s[we],delete s[_l],delete s[Gd],delete s[Ds]}function zi(s){var a=s[De];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Pn]||l[De]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=ab(s);s!==null;){if(l=s[De])return l;s=ab(s)}return a}s=l,l=s.parentNode}return null}function fi(s){if(s=s[De]||s[Pn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function di(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function hn(s){var a=s[Ic];return a||(a=s[Ic]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function _e(s){s[Lr]=!0}var vl=new Set,Ba={};function Xn(s,a){Bi(s,a),Bi(s+"Capture",a)}function Bi(s,a){for(Ba[s]=a,s=0;s<a.length;s++)vl.add(a[s])}var Cc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dc={},Vr={};function Oc(s){return Ir.call(Vr,s)?!0:Ir.call(Dc,s)?!1:Cc.test(s)?Vr[s]=!0:(Dc[s]=!0,!1)}function Ms(s,a,l){if(Oc(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function gi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function $e(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var Ur,Mc;function ji(s){if(Ur===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ur=a&&a[1]||"",Mc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+s+Mc}var ja=!1;function Ha(s,a){if(!s||ja)return"";ja=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(W){var K=W}Reflect.construct(s,[],nt)}else{try{nt.call()}catch(W){K=W}s.call(nt.prototype)}}else{try{throw Error()}catch(W){K=W}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var P=E.split(`
`),Y=S.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===Y.length)for(c=P.length-1,m=Y.length-1;1<=c&&0<=m&&P[c]!==Y[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==Y[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==Y[m]){var tt=`
`+P[c].replace(" at new "," at ");return s.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",s.displayName)),tt}while(1<=c&&0<=m);break}}}finally{ja=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ji(l):""}function bl(s){switch(s.tag){case 26:case 27:case 5:return ji(s.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Ha(s.type,!1);case 11:return Ha(s.type.render,!1);case 1:return Ha(s.type,!0);case 31:return ji("Activity");default:return""}}function Fa(s){try{var a="";do a+=bl(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function fn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Tl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $d(s){var a=Tl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){c=""+E,p.call(this,E)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function qa(s){s._valueTracker||(s._valueTracker=$d(s))}function El(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Tl(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function zr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Yd=/[\n"\\]/g;function Se(s){return s.replace(Yd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Sn(s,a,l,c,m,p,E,S){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+fn(a)):s.value!==""+fn(a)&&(s.value=""+fn(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?ks(s,E,fn(a)):l!=null?ks(s,E,fn(l)):c!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+fn(S):s.removeAttribute("name")}function Br(s,a,l,c,m,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+fn(l):"",a=a!=null?""+fn(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E)}function ks(s,a,l){a==="number"&&zr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Hi(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+fn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function te(s,a,l){if(a!=null&&(a=""+fn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+fn(l):""}function jr(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(yt(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=fn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Ln(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kc(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||Hr.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function wl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&kc(s,m,c)}else for(var p in a)a.hasOwnProperty(p)&&kc(s,p,a[p])}function Sl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(s){return Qd.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Fi=null;function Vn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qi=null,Gi=null;function Al(s){var a=fi(s);if(a&&(s=a.stateNode)){var l=s[we]||null;t:switch(s=a.stateNode,a.type){case"input":if(Sn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Se(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[we]||null;if(!m)throw Error(i(90));Sn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&El(c)}break t;case"textarea":te(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Hi(s,!!l.multiple,a,!1)}}}var mi=!1;function Nc(s,a,l){if(mi)return s(a,l);mi=!0;try{var c=s(a);return c}finally{if(mi=!1,(qi!==null||Gi!==null)&&(Rh(),qi&&(a=qi,s=Gi,Gi=qi=null,Al(a),s)))for(a=0;a<s.length;a++)Al(s[a])}}function Fr(s,a){var l=s.stateNode;if(l===null)return null;var c=l[we]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(Zn)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Un=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Un=!1}var pi=null,Ns=null,$i=null;function xl(){if($i)return $i;var s,a=Ns,l=a.length,c,m="value"in pi?pi.value:pi.textContent,p=m.length;for(s=0;s<l&&a[s]===m[s];s++);var E=l-s;for(c=1;c<=E&&a[l-c]===m[p-c];c++);return $i=m.slice(s,1<c?1-c:void 0)}function yi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function _i(){return!0}function Rl(){return!1}function ze(s){function a(l,c,m,p,E){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_i:Rl,this.isPropagationStopped=Rl,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),a}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=ze(Kt),Gr=y({},Kt,{view:0,detail:0}),Pc=ze(Gr),Ya,Ka,vi,$r=y({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==vi&&(vi&&s.type==="mousemove"?(Ya=s.screenX-vi.screenX,Ka=s.screenY-vi.screenY):Ka=Ya=0,vi=s),Ya)},movementY:function(s){return"movementY"in s?s.movementY:Ka}}),zn=ze($r),Lc=y({},$r,{dataTransfer:0}),Wd=ze(Lc),Yr=y({},Gr,{relatedTarget:0}),Qa=ze(Yr),Il=y({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=ze(Il),Vc=y({},Kt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Xa=ze(Vc),Xd=y({},Kt,{data:0}),Cl=ze(Xd),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=zc[s])?!!a[s]:!1}function Qr(){return Dl}var Bc=y({},Gr,{key:function(s){if(s.key){var a=Kr[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=yi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Uc[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(s){return s.type==="keypress"?yi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?yi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Za=ze(Bc),jc=y({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=ze(jc),Yi=y({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),Hc=ze(Yi),Fc=y({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),qc=ze(Fc),Gc=y({},$r,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=ze(Gc),dn=y({},Kt,{newState:0,oldState:0}),$c=ze(dn),Yc=[9,13,27,32],bi=Zn&&"CompositionEvent"in window,d=null;Zn&&"documentMode"in document&&(d=document.documentMode);var _=Zn&&"TextEvent"in window&&!d,T=Zn&&(!bi||d&&8<d&&11>=d),x=" ",q=!1;function Z(s,a){switch(s){case"keyup":return Yc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zt=!1;function Oe(s,a){switch(s){case"compositionend":return ut(a);case"keypress":return a.which!==32?null:(q=!0,x);case"textInput":return s=a.data,s===x&&q?null:s;default:return null}}function Bt(s,a){if(zt)return s==="compositionend"||!bi&&Z(s,a)?(s=xl(),$i=Ns=pi=null,zt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Be[s.type]:a==="textarea"}function Ki(s,a,l,c){qi?Gi?Gi.push(c):Gi=[c]:qi=c,a=kh(a,"onChange"),0<a.length&&(l=new $a("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var Ye=null,Ti=null;function Ml(s){W0(s,0)}function Kc(s){var a=di(s);if(El(a))return s}function y_(s,a){if(s==="change")return a}var __=!1;if(Zn){var Zd;if(Zn){var Jd="oninput"in document;if(!Jd){var v_=document.createElement("div");v_.setAttribute("oninput","return;"),Jd=typeof v_.oninput=="function"}Zd=Jd}else Zd=!1;__=Zd&&(!document.documentMode||9<document.documentMode)}function b_(){Ye&&(Ye.detachEvent("onpropertychange",T_),Ti=Ye=null)}function T_(s){if(s.propertyName==="value"&&Kc(Ti)){var a=[];Ki(a,Ti,s,Vn(s)),Nc(Ml,a)}}function sx(s,a,l){s==="focusin"?(b_(),Ye=a,Ti=l,Ye.attachEvent("onpropertychange",T_)):s==="focusout"&&b_()}function rx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Kc(Ti)}function ax(s,a){if(s==="click")return Kc(a)}function ox(s,a){if(s==="input"||s==="change")return Kc(a)}function lx(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var An=typeof Object.is=="function"?Object.is:lx;function kl(s,a){if(An(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Ir.call(a,m)||!An(s[m],a[m]))return!1}return!0}function E_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function w_(s,a){var l=E_(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=E_(l)}}function S_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?S_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function A_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=zr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=zr(s.document)}return a}function tg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var ux=Zn&&"documentMode"in document&&11>=document.documentMode,to=null,eg=null,Nl=null,ng=!1;function x_(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ng||to==null||to!==zr(c)||(c=to,"selectionStart"in c&&tg(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Nl&&kl(Nl,c)||(Nl=c,c=kh(eg,"onSelect"),0<c.length&&(a=new $a("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=to)))}function Wr(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var eo={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},ig={},R_={};Zn&&(R_=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Xr(s){if(ig[s])return ig[s];if(!eo[s])return s;var a=eo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in R_)return ig[s]=a[l];return s}var I_=Xr("animationend"),C_=Xr("animationiteration"),D_=Xr("animationstart"),cx=Xr("transitionrun"),hx=Xr("transitionstart"),fx=Xr("transitioncancel"),O_=Xr("transitionend"),M_=new Map,sg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sg.push("scrollEnd");function Jn(s,a){M_.set(s,a),Xn(a,[s])}var k_=new WeakMap;function Bn(s,a){if(typeof s=="object"&&s!==null){var l=k_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Fa(a)},k_.set(s,a),a)}return{value:s,source:a,stack:Fa(a)}}var jn=[],no=0,rg=0;function Qc(){for(var s=no,a=rg=no=0;a<s;){var l=jn[a];jn[a++]=null;var c=jn[a];jn[a++]=null;var m=jn[a];jn[a++]=null;var p=jn[a];if(jn[a++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}p!==0&&N_(l,m,p)}}function Wc(s,a,l,c){jn[no++]=s,jn[no++]=a,jn[no++]=l,jn[no++]=c,rg|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function ag(s,a,l,c){return Wc(s,a,l,c),Xc(s)}function io(s,a){return Wc(s,null,null,a),Xc(s)}function N_(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&a!==null&&(m=31-en(l),s=p.hiddenUpdates,c=s[m],c===null?s[m]=[a]:c.push(a),a.lane=l|536870912),p):null}function Xc(s){if(50<ru)throw ru=0,fm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var so={};function dx(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(s,a,l,c){return new dx(s,a,l,c)}function og(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qi(s,a){var l=s.alternate;return l===null?(l=xn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function P_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Zc(s,a,l,c,m,p){var E=0;if(c=s,typeof s=="function")og(s)&&(E=1);else if(typeof s=="string")E=mR(s,l,mt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=xn(31,l,a,m),s.elementType=D,s.lanes=p,s;case A:return Zr(l.children,m,p,a);case C:E=8,m|=24;break;case I:return s=xn(12,l,a,m|2),s.elementType=I,s.lanes=p,s;case X:return s=xn(13,l,a,m),s.elementType=X,s.lanes=p,s;case ot:return s=xn(19,l,a,m),s.elementType=ot,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case V:E=10;break t;case U:E=9;break t;case $:E=11;break t;case O:E=14;break t;case R:E=16,c=null;break t}E=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return a=xn(E,l,a,m),a.elementType=s,a.type=c,a.lanes=p,a}function Zr(s,a,l,c){return s=xn(7,s,c,a),s.lanes=l,s}function lg(s,a,l){return s=xn(6,s,null,a),s.lanes=l,s}function ug(s,a,l){return a=xn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var ro=[],ao=0,Jc=null,th=0,Hn=[],Fn=0,Jr=null,Wi=1,Xi="";function ta(s,a){ro[ao++]=th,ro[ao++]=Jc,Jc=s,th=a}function L_(s,a,l){Hn[Fn++]=Wi,Hn[Fn++]=Xi,Hn[Fn++]=Jr,Jr=s;var c=Wi;s=Xi;var m=32-en(c)-1;c&=~(1<<m),l+=1;var p=32-en(a)+m;if(30<p){var E=m-m%5;p=(c&(1<<E)-1).toString(32),c>>=E,m-=E,Wi=1<<32-en(a)+m|l<<m|c,Xi=p+s}else Wi=1<<p|l<<m|c,Xi=s}function cg(s){s.return!==null&&(ta(s,1),L_(s,1,0))}function hg(s){for(;s===Jc;)Jc=ro[--ao],ro[ao]=null,th=ro[--ao],ro[ao]=null;for(;s===Jr;)Jr=Hn[--Fn],Hn[Fn]=null,Xi=Hn[--Fn],Hn[Fn]=null,Wi=Hn[--Fn],Hn[Fn]=null}var gn=null,pe=null,$t=!1,ea=null,Ei=!1,fg=Error(i(519));function na(s){var a=Error(i(418,""));throw Vl(Bn(a,s)),fg}function V_(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[De]=s,a[we]=c,l){case"dialog":Pt("cancel",a),Pt("close",a);break;case"iframe":case"object":case"embed":Pt("load",a);break;case"video":case"audio":for(l=0;l<ou.length;l++)Pt(ou[l],a);break;case"source":Pt("error",a);break;case"img":case"image":case"link":Pt("error",a),Pt("load",a);break;case"details":Pt("toggle",a);break;case"input":Pt("invalid",a),Br(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),qa(a);break;case"select":Pt("invalid",a);break;case"textarea":Pt("invalid",a),jr(a,c.value,c.defaultValue,c.children),qa(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||tb(a.textContent,l)?(c.popover!=null&&(Pt("beforetoggle",a),Pt("toggle",a)),c.onScroll!=null&&Pt("scroll",a),c.onScrollEnd!=null&&Pt("scrollend",a),c.onClick!=null&&(a.onclick=Nh),a=!0):a=!1,a||na(s)}function U_(s){for(gn=s.return;gn;)switch(gn.tag){case 5:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:gn=gn.return}}function Pl(s){if(s!==gn)return!1;if(!$t)return U_(s),$t=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Im(s.type,s.memoizedProps)),l=!l),l&&pe&&na(s),U_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){pe=ei(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}pe=null}}else a===27?(a=pe,Ws(s.type)?(s=Mm,Mm=null,pe=s):pe=a):pe=gn?ei(s.stateNode.nextSibling):null;return!0}function Ll(){pe=gn=null,$t=!1}function z_(){var s=ea;return s!==null&&(_n===null?_n=s:_n.push.apply(_n,s),ea=null),s}function Vl(s){ea===null?ea=[s]:ea.push(s)}var dg=st(null),ia=null,Zi=null;function Ps(s,a,l){lt(dg,a._currentValue),a._currentValue=l}function Ji(s){s._currentValue=dg.current,ct(dg)}function gg(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function mg(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var E=m.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=m;for(var P=0;P<a.length;P++)if(S.context===a[P]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),gg(p.return,l,s),c||(E=null);break t}p=S.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(i(341));E.lanes|=l,p=E.alternate,p!==null&&(p.lanes|=l),gg(E,l,s),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===s){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Ul(s,a,l,c){s=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=m.type;An(m.pendingProps.value,E.value)||(s!==null?s.push(S):s=[S])}}else if(m===Ue.current){if(E=m.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(du):s=[du])}m=m.return}s!==null&&mg(a,s,l,c),a.flags|=262144}function eh(s){for(s=s.firstContext;s!==null;){if(!An(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function sa(s){ia=s,Zi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function nn(s){return B_(ia,s)}function nh(s,a){return ia===null&&sa(s),B_(s,a)}function B_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Zi===null){if(s===null)throw Error(i(308));Zi=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Zi=Zi.next=a;return l}var gx=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},mx=n.unstable_scheduleCallback,px=n.unstable_NormalPriority,ke={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pg(){return{controller:new gx,data:new Map,refCount:0}}function zl(s){s.refCount--,s.refCount===0&&mx(px,function(){s.controller.abort()})}var Bl=null,yg=0,oo=0,lo=null;function yx(s,a){if(Bl===null){var l=Bl=[];yg=0,oo=vm(),lo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return yg++,a.then(j_,j_),a}function j_(){if(--yg===0&&Bl!==null){lo!==null&&(lo.status="fulfilled");var s=Bl;Bl=null,oo=0,lo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function _x(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var H_=Q.S;Q.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&yx(s,a),H_!==null&&H_(s,a)};var ra=st(null);function _g(){var s=ra.current;return s!==null?s:oe.pooledCache}function ih(s,a){a===null?lt(ra,ra.current):lt(ra,a.pool)}function F_(){var s=_g();return s===null?null:{parent:ke._currentValue,pool:s}}var jl=Error(i(460)),q_=Error(i(474)),sh=Error(i(542)),vg={then:function(){}};function G_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function rh(){}function $_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(rh,rh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,K_(s),s;default:if(typeof a.status=="string")a.then(rh,rh);else{if(s=oe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,K_(s),s}throw Hl=a,jl}}var Hl=null;function Y_(){if(Hl===null)throw Error(i(459));var s=Hl;return Hl=null,s}function K_(s){if(s===jl||s===sh)throw Error(i(483))}var Ls=!1;function bg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Vs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Us(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Wt&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Xc(s),N_(s,null,l),a}return Wc(s,c,a,l),Xc(s)}function Fl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,yl(s,l)}}function Eg(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=E:p=p.next=E,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var wg=!1;function ql(){if(wg){var s=lo;if(s!==null)throw s}}function Gl(s,a,l,c){wg=!1;var m=s.updateQueue;Ls=!1;var p=m.firstBaseUpdate,E=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var P=S,Y=P.next;P.next=null,E===null?p=Y:E.next=Y,E=P;var tt=s.alternate;tt!==null&&(tt=tt.updateQueue,S=tt.lastBaseUpdate,S!==E&&(S===null?tt.firstBaseUpdate=Y:S.next=Y,tt.lastBaseUpdate=P))}if(p!==null){var nt=m.baseState;E=0,tt=Y=P=null,S=p;do{var K=S.lane&-536870913,W=K!==S.lane;if(W?(jt&K)===K:(c&K)===K){K!==0&&K===oo&&(wg=!0),tt!==null&&(tt=tt.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var At=s,bt=S;K=a;var ie=l;switch(bt.tag){case 1:if(At=bt.payload,typeof At=="function"){nt=At.call(ie,nt,K);break t}nt=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=bt.payload,K=typeof At=="function"?At.call(ie,nt,K):At,K==null)break t;nt=y({},nt,K);break t;case 2:Ls=!0}}K=S.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=m.callbacks,W===null?m.callbacks=[K]:W.push(K))}else W={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},tt===null?(Y=tt=W,P=nt):tt=tt.next=W,E|=K;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;W=S,S=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);tt===null&&(P=nt),m.baseState=P,m.firstBaseUpdate=Y,m.lastBaseUpdate=tt,p===null&&(m.shared.lanes=0),$s|=E,s.lanes=E,s.memoizedState=nt}}function Q_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function W_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Q_(l[s],a)}var uo=st(null),ah=st(0);function X_(s,a){s=as,lt(ah,s),lt(uo,a),as=s|a.baseLanes}function Sg(){lt(ah,as),lt(uo,uo.current)}function Ag(){as=ah.current,ct(uo),ct(ah)}var zs=0,Ot=null,ee=null,Ae=null,oh=!1,co=!1,aa=!1,lh=0,$l=0,ho=null,vx=0;function ve(){throw Error(i(321))}function xg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!An(s[l],a[l]))return!1;return!0}function Rg(s,a,l,c,m,p){return zs=p,Ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?Nv:Pv,aa=!1,p=l(c,m),aa=!1,co&&(p=J_(a,l,c,m)),Z_(s),p}function Z_(s){Q.H=gh;var a=ee!==null&&ee.next!==null;if(zs=0,Ae=ee=Ot=null,oh=!1,$l=0,ho=null,a)throw Error(i(300));s===null||je||(s=s.dependencies,s!==null&&eh(s)&&(je=!0))}function J_(s,a,l,c){Ot=s;var m=0;do{if(co&&(ho=null),$l=0,co=!1,25<=m)throw Error(i(301));if(m+=1,Ae=ee=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=xx,p=a(l,c)}while(co);return p}function bx(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?Yl(a):a,s=s.useState()[0],(ee!==null?ee.memoizedState:null)!==s&&(Ot.flags|=1024),a}function Ig(){var s=lh!==0;return lh=0,s}function Cg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Dg(s){if(oh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}oh=!1}zs=0,Ae=ee=Ot=null,co=!1,$l=lh=0,ho=null}function pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Ot.memoizedState=Ae=s:Ae=Ae.next=s,Ae}function xe(){if(ee===null){var s=Ot.alternate;s=s!==null?s.memoizedState:null}else s=ee.next;var a=Ae===null?Ot.memoizedState:Ae.next;if(a!==null)Ae=a,ee=s;else{if(s===null)throw Ot.alternate===null?Error(i(467)):Error(i(310));ee=s,s={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ae===null?Ot.memoizedState=Ae=s:Ae=Ae.next=s}return Ae}function Og(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(s){var a=$l;return $l+=1,ho===null&&(ho=[]),s=$_(ho,s,a),a=Ot,(Ae===null?a.memoizedState:Ae.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?Nv:Pv),s}function uh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Yl(s);if(s.$$typeof===V)return nn(s)}throw Error(i(438,String(s)))}function Mg(s){var a=null,l=Ot.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ot.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Og(),Ot.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=N;return a.index++,l}function ts(s,a){return typeof a=="function"?a(s):a}function ch(s){var a=xe();return kg(a,ee,s)}function kg(s,a,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=s.baseQueue,p=c.pending;if(p!==null){if(m!==null){var E=m.next;m.next=p.next,p.next=E}a.baseQueue=m=p,c.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{a=m.next;var S=E=null,P=null,Y=a,tt=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(jt&nt)===nt:(zs&nt)===nt){var K=Y.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===oo&&(tt=!0);else if((zs&K)===K){Y=Y.next,K===oo&&(tt=!0);continue}else nt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(S=P=nt,E=p):P=P.next=nt,Ot.lanes|=K,$s|=K;nt=Y.action,aa&&l(p,nt),p=Y.hasEagerState?Y.eagerState:l(p,nt)}else K={lane:nt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(S=P=K,E=p):P=P.next=K,Ot.lanes|=nt,$s|=nt;Y=Y.next}while(Y!==null&&Y!==a);if(P===null?E=p:P.next=S,!An(p,s.memoizedState)&&(je=!0,tt&&(l=lo,l!==null)))throw l;s.memoizedState=p,s.baseState=E,s.baseQueue=P,c.lastRenderedState=p}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Ng(s){var a=xe(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do p=s(p,E.action),E=E.next;while(E!==m);An(p,a.memoizedState)||(je=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,c]}function tv(s,a,l){var c=Ot,m=xe(),p=$t;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var E=!An((ee||m).memoizedState,l);E&&(m.memoizedState=l,je=!0),m=m.queue;var S=iv.bind(null,c,m,s);if(Kl(2048,8,S,[s]),m.getSnapshot!==a||E||Ae!==null&&Ae.memoizedState.tag&1){if(c.flags|=2048,fo(9,hh(),nv.bind(null,c,m,l,a),null),oe===null)throw Error(i(349));p||(zs&124)!==0||ev(c,a,l)}return l}function ev(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ot.updateQueue,a===null?(a=Og(),Ot.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function nv(s,a,l,c){a.value=l,a.getSnapshot=c,sv(a)&&rv(s)}function iv(s,a,l){return l(function(){sv(a)&&rv(s)})}function sv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!An(s,l)}catch{return!0}}function rv(s){var a=io(s,2);a!==null&&On(a,s,2)}function Pg(s){var a=pn();if(typeof s=="function"){var l=s;if(s=l(),aa){wn(!0);try{l()}finally{wn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:s},a}function av(s,a,l,c){return s.baseState=l,kg(s,ee,typeof c=="function"?c:ts)}function Tx(s,a,l,c,m){if(dh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Q.T!==null?l(!0):p.isTransition=!1,c(p),l=a.pending,l===null?(p.next=a.pending=p,ov(a,p)):(p.next=l.next,a.pending=l.next=p)}}function ov(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var p=Q.T,E={};Q.T=E;try{var S=l(m,c),P=Q.S;P!==null&&P(E,S),lv(s,a,S)}catch(Y){Lg(s,a,Y)}finally{Q.T=p}}else try{p=l(m,c),lv(s,a,p)}catch(Y){Lg(s,a,Y)}}function lv(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){uv(s,a,c)},function(c){return Lg(s,a,c)}):uv(s,a,l)}function uv(s,a,l){a.status="fulfilled",a.value=l,cv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,ov(s,l)))}function Lg(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,cv(a),a=a.next;while(a!==c)}s.action=null}function cv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function hv(s,a){return a}function fv(s,a){if($t){var l=oe.formState;if(l!==null){t:{var c=Ot;if($t){if(pe){e:{for(var m=pe,p=Ei;m.nodeType!==8;){if(!p){m=null;break e}if(m=ei(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){pe=ei(m.nextSibling),c=m.data==="F!";break t}}na(c)}c=!1}c&&(a=l[0])}}return l=pn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hv,lastRenderedState:a},l.queue=c,l=Ov.bind(null,Ot,c),c.dispatch=l,c=Pg(!1),p=jg.bind(null,Ot,!1,c.queue),c=pn(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=Tx.bind(null,Ot,m,p,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function dv(s){var a=xe();return gv(a,ee,s)}function gv(s,a,l){if(a=kg(s,a,hv)[0],s=ch(ts)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Yl(a)}catch(E){throw E===jl?sh:E}else c=a;a=xe();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(Ot.flags|=2048,fo(9,hh(),Ex.bind(null,m,l),null)),[c,p,s]}function Ex(s,a){s.action=a}function mv(s){var a=xe(),l=ee;if(l!==null)return gv(a,l,s);xe(),a=a.memoizedState,l=xe();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function fo(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Ot.updateQueue,a===null&&(a=Og(),Ot.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function hh(){return{destroy:void 0,resource:void 0}}function pv(){return xe().memoizedState}function fh(s,a,l,c){var m=pn();c=c===void 0?null:c,Ot.flags|=s,m.memoizedState=fo(1|a,hh(),l,c)}function Kl(s,a,l,c){var m=xe();c=c===void 0?null:c;var p=m.memoizedState.inst;ee!==null&&c!==null&&xg(c,ee.memoizedState.deps)?m.memoizedState=fo(a,p,l,c):(Ot.flags|=s,m.memoizedState=fo(1|a,p,l,c))}function yv(s,a){fh(8390656,8,s,a)}function _v(s,a){Kl(2048,8,s,a)}function vv(s,a){return Kl(4,2,s,a)}function bv(s,a){return Kl(4,4,s,a)}function Tv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Ev(s,a,l){l=l!=null?l.concat([s]):null,Kl(4,4,Tv.bind(null,a,s),l)}function Vg(){}function wv(s,a){var l=xe();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&xg(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function Sv(s,a){var l=xe();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&xg(a,c[1]))return c[0];if(c=s(),aa){wn(!0);try{s()}finally{wn(!1)}}return l.memoizedState=[c,a],c}function Ug(s,a,l){return l===void 0||(zs&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=R0(),Ot.lanes|=s,$s|=s,l)}function Av(s,a,l,c){return An(l,a)?l:uo.current!==null?(s=Ug(s,l,c),An(s,a)||(je=!0),s):(zs&42)===0?(je=!0,s.memoizedState=l):(s=R0(),Ot.lanes|=s,$s|=s,a)}function xv(s,a,l,c,m){var p=at.p;at.p=p!==0&&8>p?p:8;var E=Q.T,S={};Q.T=S,jg(s,!1,a,l);try{var P=m(),Y=Q.S;if(Y!==null&&Y(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var tt=_x(P,c);Ql(s,a,tt,Dn(s))}else Ql(s,a,c,Dn(s))}catch(nt){Ql(s,a,{then:function(){},status:"rejected",reason:nt},Dn())}finally{at.p=p,Q.T=E}}function wx(){}function zg(s,a,l,c){if(s.tag!==5)throw Error(i(476));var m=Rv(s).queue;xv(s,m,a,ht,l===null?wx:function(){return Iv(s),l(c)})}function Rv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ht},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Iv(s){var a=Rv(s).next.queue;Ql(s,a,{},Dn())}function Bg(){return nn(du)}function Cv(){return xe().memoizedState}function Dv(){return xe().memoizedState}function Sx(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Dn();s=Vs(l);var c=Us(a,s,l);c!==null&&(On(c,a,l),Fl(c,a,l)),a={cache:pg()},s.payload=a;return}a=a.return}}function Ax(s,a,l){var c=Dn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},dh(s)?Mv(a,l):(l=ag(s,a,l,c),l!==null&&(On(l,s,c),kv(l,a,c)))}function Ov(s,a,l){var c=Dn();Ql(s,a,l,c)}function Ql(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(dh(s))Mv(a,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var E=a.lastRenderedState,S=p(E,l);if(m.hasEagerState=!0,m.eagerState=S,An(S,E))return Wc(s,a,m,0),oe===null&&Qc(),!1}catch{}finally{}if(l=ag(s,a,m,c),l!==null)return On(l,s,c),kv(l,a,c),!0}return!1}function jg(s,a,l,c){if(c={lane:2,revertLane:vm(),action:c,hasEagerState:!1,eagerState:null,next:null},dh(s)){if(a)throw Error(i(479))}else a=ag(s,l,c,2),a!==null&&On(a,s,2)}function dh(s){var a=s.alternate;return s===Ot||a!==null&&a===Ot}function Mv(s,a){co=oh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function kv(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,yl(s,l)}}var gh={readContext:nn,use:uh,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},Nv={readContext:nn,use:uh,useCallback:function(s,a){return pn().memoizedState=[s,a===void 0?null:a],s},useContext:nn,useEffect:yv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,fh(4194308,4,Tv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return fh(4194308,4,s,a)},useInsertionEffect:function(s,a){fh(4,2,s,a)},useMemo:function(s,a){var l=pn();a=a===void 0?null:a;var c=s();if(aa){wn(!0);try{s()}finally{wn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=pn();if(l!==void 0){var m=l(a);if(aa){wn(!0);try{l(a)}finally{wn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=Ax.bind(null,Ot,s),[c.memoizedState,s]},useRef:function(s){var a=pn();return s={current:s},a.memoizedState=s},useState:function(s){s=Pg(s);var a=s.queue,l=Ov.bind(null,Ot,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Vg,useDeferredValue:function(s,a){var l=pn();return Ug(l,s,a)},useTransition:function(){var s=Pg(!1);return s=xv.bind(null,Ot,s.queue,!0,!1),pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Ot,m=pn();if($t){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),oe===null)throw Error(i(349));(jt&124)!==0||ev(c,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,yv(iv.bind(null,c,p,s),[s]),c.flags|=2048,fo(9,hh(),nv.bind(null,c,p,l,a),null),l},useId:function(){var s=pn(),a=oe.identifierPrefix;if($t){var l=Xi,c=Wi;l=(c&~(1<<32-en(c)-1)).toString(32)+l,a=""+a+"R"+l,l=lh++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=vx++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Bg,useFormState:fv,useActionState:fv,useOptimistic:function(s){var a=pn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=jg.bind(null,Ot,!0,l),l.dispatch=a,[s,a]},useMemoCache:Mg,useCacheRefresh:function(){return pn().memoizedState=Sx.bind(null,Ot)}},Pv={readContext:nn,use:uh,useCallback:wv,useContext:nn,useEffect:_v,useImperativeHandle:Ev,useInsertionEffect:vv,useLayoutEffect:bv,useMemo:Sv,useReducer:ch,useRef:pv,useState:function(){return ch(ts)},useDebugValue:Vg,useDeferredValue:function(s,a){var l=xe();return Av(l,ee.memoizedState,s,a)},useTransition:function(){var s=ch(ts)[0],a=xe().memoizedState;return[typeof s=="boolean"?s:Yl(s),a]},useSyncExternalStore:tv,useId:Cv,useHostTransitionStatus:Bg,useFormState:dv,useActionState:dv,useOptimistic:function(s,a){var l=xe();return av(l,ee,s,a)},useMemoCache:Mg,useCacheRefresh:Dv},xx={readContext:nn,use:uh,useCallback:wv,useContext:nn,useEffect:_v,useImperativeHandle:Ev,useInsertionEffect:vv,useLayoutEffect:bv,useMemo:Sv,useReducer:Ng,useRef:pv,useState:function(){return Ng(ts)},useDebugValue:Vg,useDeferredValue:function(s,a){var l=xe();return ee===null?Ug(l,s,a):Av(l,ee.memoizedState,s,a)},useTransition:function(){var s=Ng(ts)[0],a=xe().memoizedState;return[typeof s=="boolean"?s:Yl(s),a]},useSyncExternalStore:tv,useId:Cv,useHostTransitionStatus:Bg,useFormState:mv,useActionState:mv,useOptimistic:function(s,a){var l=xe();return ee!==null?av(l,ee,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Mg,useCacheRefresh:Dv},go=null,Wl=0;function mh(s){var a=Wl;return Wl+=1,go===null&&(go=[]),$_(go,s,a)}function Xl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function ph(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Lv(s){var a=s._init;return a(s._payload)}function Vv(s){function a(F,j){if(s){var G=F.deletions;G===null?(F.deletions=[j],F.flags|=16):G.push(j)}}function l(F,j){if(!s)return null;for(;j!==null;)a(F,j),j=j.sibling;return null}function c(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function m(F,j){return F=Qi(F,j),F.index=0,F.sibling=null,F}function p(F,j,G){return F.index=G,s?(G=F.alternate,G!==null?(G=G.index,G<j?(F.flags|=67108866,j):G):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function E(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function S(F,j,G,et){return j===null||j.tag!==6?(j=lg(G,F.mode,et),j.return=F,j):(j=m(j,G),j.return=F,j)}function P(F,j,G,et){var dt=G.type;return dt===A?tt(F,j,G.props.children,et,G.key):j!==null&&(j.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&Lv(dt)===j.type)?(j=m(j,G.props),Xl(j,G),j.return=F,j):(j=Zc(G.type,G.key,G.props,null,F.mode,et),Xl(j,G),j.return=F,j)}function Y(F,j,G,et){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=ug(G,F.mode,et),j.return=F,j):(j=m(j,G.children||[]),j.return=F,j)}function tt(F,j,G,et,dt){return j===null||j.tag!==7?(j=Zr(G,F.mode,et,dt),j.return=F,j):(j=m(j,G),j.return=F,j)}function nt(F,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=lg(""+j,F.mode,G),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return G=Zc(j.type,j.key,j.props,null,F.mode,G),Xl(G,j),G.return=F,G;case w:return j=ug(j,F.mode,G),j.return=F,j;case R:var et=j._init;return j=et(j._payload),nt(F,j,G)}if(yt(j)||z(j))return j=Zr(j,F.mode,G,null),j.return=F,j;if(typeof j.then=="function")return nt(F,mh(j),G);if(j.$$typeof===V)return nt(F,nh(F,j),G);ph(F,j)}return null}function K(F,j,G,et){var dt=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return dt!==null?null:S(F,j,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===dt?P(F,j,G,et):null;case w:return G.key===dt?Y(F,j,G,et):null;case R:return dt=G._init,G=dt(G._payload),K(F,j,G,et)}if(yt(G)||z(G))return dt!==null?null:tt(F,j,G,et,null);if(typeof G.then=="function")return K(F,j,mh(G),et);if(G.$$typeof===V)return K(F,j,nh(F,G),et);ph(F,G)}return null}function W(F,j,G,et,dt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return F=F.get(G)||null,S(j,F,""+et,dt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return F=F.get(et.key===null?G:et.key)||null,P(j,F,et,dt);case w:return F=F.get(et.key===null?G:et.key)||null,Y(j,F,et,dt);case R:var kt=et._init;return et=kt(et._payload),W(F,j,G,et,dt)}if(yt(et)||z(et))return F=F.get(G)||null,tt(j,F,et,dt,null);if(typeof et.then=="function")return W(F,j,G,mh(et),dt);if(et.$$typeof===V)return W(F,j,G,nh(j,et),dt);ph(j,et)}return null}function At(F,j,G,et){for(var dt=null,kt=null,pt=j,Tt=j=0,Fe=null;pt!==null&&Tt<G.length;Tt++){pt.index>Tt?(Fe=pt,pt=null):Fe=pt.sibling;var qt=K(F,pt,G[Tt],et);if(qt===null){pt===null&&(pt=Fe);break}s&&pt&&qt.alternate===null&&a(F,pt),j=p(qt,j,Tt),kt===null?dt=qt:kt.sibling=qt,kt=qt,pt=Fe}if(Tt===G.length)return l(F,pt),$t&&ta(F,Tt),dt;if(pt===null){for(;Tt<G.length;Tt++)pt=nt(F,G[Tt],et),pt!==null&&(j=p(pt,j,Tt),kt===null?dt=pt:kt.sibling=pt,kt=pt);return $t&&ta(F,Tt),dt}for(pt=c(pt);Tt<G.length;Tt++)Fe=W(pt,F,Tt,G[Tt],et),Fe!==null&&(s&&Fe.alternate!==null&&pt.delete(Fe.key===null?Tt:Fe.key),j=p(Fe,j,Tt),kt===null?dt=Fe:kt.sibling=Fe,kt=Fe);return s&&pt.forEach(function(er){return a(F,er)}),$t&&ta(F,Tt),dt}function bt(F,j,G,et){if(G==null)throw Error(i(151));for(var dt=null,kt=null,pt=j,Tt=j=0,Fe=null,qt=G.next();pt!==null&&!qt.done;Tt++,qt=G.next()){pt.index>Tt?(Fe=pt,pt=null):Fe=pt.sibling;var er=K(F,pt,qt.value,et);if(er===null){pt===null&&(pt=Fe);break}s&&pt&&er.alternate===null&&a(F,pt),j=p(er,j,Tt),kt===null?dt=er:kt.sibling=er,kt=er,pt=Fe}if(qt.done)return l(F,pt),$t&&ta(F,Tt),dt;if(pt===null){for(;!qt.done;Tt++,qt=G.next())qt=nt(F,qt.value,et),qt!==null&&(j=p(qt,j,Tt),kt===null?dt=qt:kt.sibling=qt,kt=qt);return $t&&ta(F,Tt),dt}for(pt=c(pt);!qt.done;Tt++,qt=G.next())qt=W(pt,F,Tt,qt.value,et),qt!==null&&(s&&qt.alternate!==null&&pt.delete(qt.key===null?Tt:qt.key),j=p(qt,j,Tt),kt===null?dt=qt:kt.sibling=qt,kt=qt);return s&&pt.forEach(function(RR){return a(F,RR)}),$t&&ta(F,Tt),dt}function ie(F,j,G,et){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var dt=G.key;j!==null;){if(j.key===dt){if(dt=G.type,dt===A){if(j.tag===7){l(F,j.sibling),et=m(j,G.props.children),et.return=F,F=et;break t}}else if(j.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&Lv(dt)===j.type){l(F,j.sibling),et=m(j,G.props),Xl(et,G),et.return=F,F=et;break t}l(F,j);break}else a(F,j);j=j.sibling}G.type===A?(et=Zr(G.props.children,F.mode,et,G.key),et.return=F,F=et):(et=Zc(G.type,G.key,G.props,null,F.mode,et),Xl(et,G),et.return=F,F=et)}return E(F);case w:t:{for(dt=G.key;j!==null;){if(j.key===dt)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){l(F,j.sibling),et=m(j,G.children||[]),et.return=F,F=et;break t}else{l(F,j);break}else a(F,j);j=j.sibling}et=ug(G,F.mode,et),et.return=F,F=et}return E(F);case R:return dt=G._init,G=dt(G._payload),ie(F,j,G,et)}if(yt(G))return At(F,j,G,et);if(z(G)){if(dt=z(G),typeof dt!="function")throw Error(i(150));return G=dt.call(G),bt(F,j,G,et)}if(typeof G.then=="function")return ie(F,j,mh(G),et);if(G.$$typeof===V)return ie(F,j,nh(F,G),et);ph(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(l(F,j.sibling),et=m(j,G),et.return=F,F=et):(l(F,j),et=lg(G,F.mode,et),et.return=F,F=et),E(F)):l(F,j)}return function(F,j,G,et){try{Wl=0;var dt=ie(F,j,G,et);return go=null,dt}catch(pt){if(pt===jl||pt===sh)throw pt;var kt=xn(29,pt,null,F.mode);return kt.lanes=et,kt.return=F,kt}finally{}}}var mo=Vv(!0),Uv=Vv(!1),qn=st(null),wi=null;function Bs(s){var a=s.alternate;lt(Ne,Ne.current&1),lt(qn,s),wi===null&&(a===null||uo.current!==null||a.memoizedState!==null)&&(wi=s)}function zv(s){if(s.tag===22){if(lt(Ne,Ne.current),lt(qn,s),wi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(wi=s)}}else js()}function js(){lt(Ne,Ne.current),lt(qn,qn.current)}function es(s){ct(qn),wi===s&&(wi=null),ct(Ne)}var Ne=st(0);function yh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Om(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Hg(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Fg={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=Dn(),m=Vs(c);m.payload=a,l!=null&&(m.callback=l),a=Us(s,m,c),a!==null&&(On(a,s,c),Fl(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=Dn(),m=Vs(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Us(s,m,c),a!==null&&(On(a,s,c),Fl(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Dn(),c=Vs(l);c.tag=2,a!=null&&(c.callback=a),a=Us(s,c,l),a!==null&&(On(a,s,l),Fl(a,s,l))}};function Bv(s,a,l,c,m,p,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,p,E):a.prototype&&a.prototype.isPureReactComponent?!kl(l,c)||!kl(m,p):!0}function jv(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&Fg.enqueueReplaceState(a,a.state,null)}function oa(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var _h=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Hv(s){_h(s)}function Fv(s){console.error(s)}function qv(s){_h(s)}function vh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Gv(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function qg(s,a,l){return l=Vs(l),l.tag=3,l.payload={element:null},l.callback=function(){vh(s,a)},l}function $v(s){return s=Vs(s),s.tag=3,s}function Yv(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;s.payload=function(){return m(p)},s.callback=function(){Gv(a,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){Gv(a,l,c),typeof m!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function Rx(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Ul(a,l,m,!0),l=qn.current,l!==null){switch(l.tag){case 13:return wi===null?gm():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===vg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),pm(s,c,m)),!1;case 22:return l.flags|=65536,c===vg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),pm(s,c,m)),!1}throw Error(i(435,l.tag))}return pm(s,c,m),gm(),!1}if($t)return a=qn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==fg&&(s=Error(i(422),{cause:c}),Vl(Bn(s,l)))):(c!==fg&&(a=Error(i(423),{cause:c}),Vl(Bn(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Bn(c,l),m=qg(s.stateNode,c,m),Eg(s,m),ye!==4&&(ye=2)),!1;var p=Error(i(520),{cause:c});if(p=Bn(p,l),su===null?su=[p]:su.push(p),ye!==4&&(ye=2),a===null)return!0;c=Bn(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=qg(l.stateNode,c,s),Eg(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ys===null||!Ys.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=$v(m),Yv(m,s,l,c),Eg(l,m),!1}l=l.return}while(l!==null);return!1}var Kv=Error(i(461)),je=!1;function Ke(s,a,l,c){a.child=s===null?Uv(a,null,l,c):mo(a,s.child,l,c)}function Qv(s,a,l,c,m){l=l.render;var p=a.ref;if("ref"in c){var E={};for(var S in c)S!=="ref"&&(E[S]=c[S])}else E=c;return sa(a),c=Rg(s,a,l,E,p,m),S=Ig(),s!==null&&!je?(Cg(s,a,m),ns(s,a,m)):($t&&S&&cg(a),a.flags|=1,Ke(s,a,c,m),a.child)}function Wv(s,a,l,c,m){if(s===null){var p=l.type;return typeof p=="function"&&!og(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Xv(s,a,p,c,m)):(s=Zc(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Zg(s,m)){var E=p.memoizedProps;if(l=l.compare,l=l!==null?l:kl,l(E,c)&&s.ref===a.ref)return ns(s,a,m)}return a.flags|=1,s=Qi(p,c),s.ref=a.ref,s.return=a,a.child=s}function Xv(s,a,l,c,m){if(s!==null){var p=s.memoizedProps;if(kl(p,c)&&s.ref===a.ref)if(je=!1,a.pendingProps=c=p,Zg(s,m))(s.flags&131072)!==0&&(je=!0);else return a.lanes=s.lanes,ns(s,a,m)}return Gg(s,a,l,c,m)}function Zv(s,a,l){var c=a.pendingProps,m=c.children,p=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|l:l,s!==null){for(m=a.child=s.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return Jv(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&ih(a,p!==null?p.cachePool:null),p!==null?X_(a,p):Sg(),zv(a);else return a.lanes=a.childLanes=536870912,Jv(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(ih(a,p.cachePool),X_(a,p),js(),a.memoizedState=null):(s!==null&&ih(a,null),Sg(),js());return Ke(s,a,m,l),a.child}function Jv(s,a,l,c){var m=_g();return m=m===null?null:{parent:ke._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&ih(a,null),Sg(),zv(a),s!==null&&Ul(s,a,c,!0),null}function bh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Gg(s,a,l,c,m){return sa(a),l=Rg(s,a,l,c,void 0,m),c=Ig(),s!==null&&!je?(Cg(s,a,m),ns(s,a,m)):($t&&c&&cg(a),a.flags|=1,Ke(s,a,l,m),a.child)}function t0(s,a,l,c,m,p){return sa(a),a.updateQueue=null,l=J_(a,c,l,m),Z_(s),c=Ig(),s!==null&&!je?(Cg(s,a,p),ns(s,a,p)):($t&&c&&cg(a),a.flags|=1,Ke(s,a,l,p),a.child)}function e0(s,a,l,c,m){if(sa(a),a.stateNode===null){var p=so,E=l.contextType;typeof E=="object"&&E!==null&&(p=nn(E)),p=new l(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Fg,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},bg(a),E=l.contextType,p.context=typeof E=="object"&&E!==null?nn(E):so,p.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Hg(a,l,E,c),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Fg.enqueueReplaceState(p,p.state,null),Gl(a,c,p,m),ql(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){p=a.stateNode;var S=a.memoizedProps,P=oa(l,S);p.props=P;var Y=p.context,tt=l.contextType;E=so,typeof tt=="object"&&tt!==null&&(E=nn(tt));var nt=l.getDerivedStateFromProps;tt=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,tt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==E)&&jv(a,p,c,E),Ls=!1;var K=a.memoizedState;p.state=K,Gl(a,c,p,m),ql(),Y=a.memoizedState,S||K!==Y||Ls?(typeof nt=="function"&&(Hg(a,l,nt,c),Y=a.memoizedState),(P=Ls||Bv(a,l,P,c,K,Y,E))?(tt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Y),p.props=c,p.state=Y,p.context=E,c=P):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,Tg(s,a),E=a.memoizedProps,tt=oa(l,E),p.props=tt,nt=a.pendingProps,K=p.context,Y=l.contextType,P=so,typeof Y=="object"&&Y!==null&&(P=nn(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==nt||K!==P)&&jv(a,p,c,P),Ls=!1,K=a.memoizedState,p.state=K,Gl(a,c,p,m),ql();var W=a.memoizedState;E!==nt||K!==W||Ls||s!==null&&s.dependencies!==null&&eh(s.dependencies)?(typeof S=="function"&&(Hg(a,l,S,c),W=a.memoizedState),(tt=Ls||Bv(a,l,tt,c,K,W,P)||s!==null&&s.dependencies!==null&&eh(s.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,W,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,W,P)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=W),p.props=c,p.state=W,p.context=P,c=tt):(typeof p.componentDidUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),c=!1)}return p=c,bh(s,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&c?(a.child=mo(a,s.child,null,m),a.child=mo(a,null,l,m)):Ke(s,a,l,m),a.memoizedState=p.state,s=a.child):s=ns(s,a,m),s}function n0(s,a,l,c){return Ll(),a.flags|=256,Ke(s,a,l,c),a.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yg(s){return{baseLanes:s,cachePool:F_()}}function Kg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Gn),s}function i0(s,a,l){var c=a.pendingProps,m=!1,p=(a.flags&128)!==0,E;if((E=p)||(E=s!==null&&s.memoizedState===null?!1:(Ne.current&2)!==0),E&&(m=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if($t){if(m?Bs(a):js(),$t){var S=pe,P;if(P=S){t:{for(P=S,S=Ei;P.nodeType!==8;){if(!S){S=null;break t}if(P=ei(P.nextSibling),P===null){S=null;break t}}S=P}S!==null?(a.memoizedState={dehydrated:S,treeContext:Jr!==null?{id:Wi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},P=xn(18,null,null,0),P.stateNode=S,P.return=a,a.child=P,gn=a,pe=null,P=!0):P=!1}P||na(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Om(S)?a.lanes=32:a.lanes=536870912,null;es(a)}return S=c.children,c=c.fallback,m?(js(),m=a.mode,S=Th({mode:"hidden",children:S},m),c=Zr(c,m,l,null),S.return=a,c.return=a,S.sibling=c,a.child=S,m=a.child,m.memoizedState=Yg(l),m.childLanes=Kg(s,E,l),a.memoizedState=$g,c):(Bs(a),Qg(a,S))}if(P=s.memoizedState,P!==null&&(S=P.dehydrated,S!==null)){if(p)a.flags&256?(Bs(a),a.flags&=-257,a=Wg(s,a,l)):a.memoizedState!==null?(js(),a.child=s.child,a.flags|=128,a=null):(js(),m=c.fallback,S=a.mode,c=Th({mode:"visible",children:c.children},S),m=Zr(m,S,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,mo(a,s.child,null,l),c=a.child,c.memoizedState=Yg(l),c.childLanes=Kg(s,E,l),a.memoizedState=$g,a=m);else if(Bs(a),Om(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var Y=E.dgst;E=Y,c=Error(i(419)),c.stack="",c.digest=E,Vl({value:c,source:null,stack:null}),a=Wg(s,a,l)}else if(je||Ul(s,a,l,!1),E=(l&s.childLanes)!==0,je||E){if(E=oe,E!==null&&(c=l&-l,c=(c&42)!==0?1:Is(c),c=(c&(E.suspendedLanes|l))!==0?0:c,c!==0&&c!==P.retryLane))throw P.retryLane=c,io(s,c),On(E,s,c),Kv;S.data==="$?"||gm(),a=Wg(s,a,l)}else S.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=P.treeContext,pe=ei(S.nextSibling),gn=a,$t=!0,ea=null,Ei=!1,s!==null&&(Hn[Fn++]=Wi,Hn[Fn++]=Xi,Hn[Fn++]=Jr,Wi=s.id,Xi=s.overflow,Jr=a),a=Qg(a,c.children),a.flags|=4096);return a}return m?(js(),m=c.fallback,S=a.mode,P=s.child,Y=P.sibling,c=Qi(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,Y!==null?m=Qi(Y,m):(m=Zr(m,S,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,S=s.child.memoizedState,S===null?S=Yg(l):(P=S.cachePool,P!==null?(Y=ke._currentValue,P=P.parent!==Y?{parent:Y,pool:Y}:P):P=F_(),S={baseLanes:S.baseLanes|l,cachePool:P}),m.memoizedState=S,m.childLanes=Kg(s,E,l),a.memoizedState=$g,c):(Bs(a),l=s.child,s=l.sibling,l=Qi(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=l,a.memoizedState=null,l)}function Qg(s,a){return a=Th({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Th(s,a){return s=xn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Wg(s,a,l){return mo(a,s.child,null,l),s=Qg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function s0(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),gg(s.return,a,l)}function Xg(s,a,l,c,m){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=m)}function r0(s,a,l){var c=a.pendingProps,m=c.revealOrder,p=c.tail;if(Ke(s,a,c.children,l),c=Ne.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&s0(s,l,a);else if(s.tag===19)s0(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(lt(Ne,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&yh(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),Xg(a,!1,m,l,p);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&yh(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Xg(a,!0,l,null,p);break;case"together":Xg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ns(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),$s|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Ul(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Qi(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Qi(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Zg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&eh(s)))}function Ix(s,a,l){switch(a.tag){case 3:ae(a,a.stateNode.containerInfo),Ps(a,ke,s.memoizedState.cache),Ll();break;case 27:case 5:Rs(a);break;case 4:ae(a,a.stateNode.containerInfo);break;case 10:Ps(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Bs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?i0(s,a,l):(Bs(a),s=ns(s,a,l),s!==null?s.sibling:null);Bs(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Ul(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return r0(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(Ne,Ne.current),c)break;return null;case 22:case 23:return a.lanes=0,Zv(s,a,l);case 24:Ps(a,ke,s.memoizedState.cache)}return ns(s,a,l)}function a0(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)je=!0;else{if(!Zg(s,l)&&(a.flags&128)===0)return je=!1,Ix(s,a,l);je=(s.flags&131072)!==0}else je=!1,$t&&(a.flags&1048576)!==0&&L_(a,th,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")og(c)?(s=oa(c,s),a.tag=1,a=e0(null,a,c,s,l)):(a.tag=0,a=Gg(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===$){a.tag=11,a=Qv(null,a,c,s,l);break t}else if(m===O){a.tag=14,a=Wv(null,a,c,s,l);break t}}throw a=Ft(c)||c,Error(i(306,a,""))}}return a;case 0:return Gg(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=oa(c,a.pendingProps),e0(s,a,c,m,l);case 3:t:{if(ae(a,a.stateNode.containerInfo),s===null)throw Error(i(387));c=a.pendingProps;var p=a.memoizedState;m=p.element,Tg(s,a),Gl(a,c,null,l);var E=a.memoizedState;if(c=E.cache,Ps(a,ke,c),c!==p.cache&&mg(a,[ke],l,!0),ql(),c=E.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=n0(s,a,c,l);break t}else if(c!==m){m=Bn(Error(i(424)),a),Vl(m),a=n0(s,a,c,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(pe=ei(s.firstChild),gn=a,$t=!0,ea=null,Ei=!0,l=Uv(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ll(),c===m){a=ns(s,a,l);break t}Ke(s,a,c,l)}a=a.child}return a;case 26:return bh(s,a),s===null?(l=cb(a.type,null,a.pendingProps,null))?a.memoizedState=l:$t||(l=a.type,s=a.pendingProps,c=Ph(_t.current).createElement(l),c[De]=a,c[we]=s,We(c,l,s),_e(c),a.stateNode=c):a.memoizedState=cb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Rs(a),s===null&&$t&&(c=a.stateNode=ob(a.type,a.pendingProps,_t.current),gn=a,Ei=!0,m=pe,Ws(a.type)?(Mm=m,pe=ei(c.firstChild)):pe=m),Ke(s,a,a.pendingProps.children,l),bh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&$t&&((m=c=pe)&&(c=nR(c,a.type,a.pendingProps,Ei),c!==null?(a.stateNode=c,gn=a,pe=ei(c.firstChild),Ei=!1,m=!0):m=!1),m||na(a)),Rs(a),m=a.type,p=a.pendingProps,E=s!==null?s.memoizedProps:null,c=p.children,Im(m,p)?c=null:E!==null&&Im(m,E)&&(a.flags|=32),a.memoizedState!==null&&(m=Rg(s,a,bx,null,null,l),du._currentValue=m),bh(s,a),Ke(s,a,c,l),a.child;case 6:return s===null&&$t&&((s=l=pe)&&(l=iR(l,a.pendingProps,Ei),l!==null?(a.stateNode=l,gn=a,pe=null,s=!0):s=!1),s||na(a)),null;case 13:return i0(s,a,l);case 4:return ae(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=mo(a,null,c,l):Ke(s,a,c,l),a.child;case 11:return Qv(s,a,a.type,a.pendingProps,l);case 7:return Ke(s,a,a.pendingProps,l),a.child;case 8:return Ke(s,a,a.pendingProps.children,l),a.child;case 12:return Ke(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Ps(a,a.type,c.value),Ke(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,sa(a),m=nn(m),c=c(m),a.flags|=1,Ke(s,a,c,l),a.child;case 14:return Wv(s,a,a.type,a.pendingProps,l);case 15:return Xv(s,a,a.type,a.pendingProps,l);case 19:return r0(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=Th(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Qi(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Zv(s,a,l);case 24:return sa(a),c=nn(ke),s===null?(m=_g(),m===null&&(m=oe,p=pg(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:c,cache:m},bg(a),Ps(a,ke,m)):((s.lanes&l)!==0&&(Tg(s,a),Gl(a,null,null,l),ql()),m=s.memoizedState,p=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ps(a,ke,c)):(c=p.cache,Ps(a,ke,c),c!==m.cache&&mg(a,[ke],l,!0))),Ke(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function is(s){s.flags|=4}function o0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!mb(a)){if(a=qn.current,a!==null&&((jt&4194048)===jt?wi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||a!==wi))throw Hl=vg,q_;s.flags|=8192}}function Eh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ml():536870912,s.lanes|=a,vo|=a)}function Zl(s,a){if(!$t)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function de(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function Cx(s,a,l){var c=a.pendingProps;switch(hg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(a),null;case 1:return de(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ji(ke),ci(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Pl(a)?is(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,z_())),de(a),null;case 26:return l=a.memoizedState,s===null?(is(a),l!==null?(de(a),o0(a,l)):(de(a),a.flags&=-16777217)):l?l!==s.memoizedState?(is(a),de(a),o0(a,l)):(de(a),a.flags&=-16777217):(s.memoizedProps!==c&&is(a),de(a),a.flags&=-16777217),null;case 27:Li(a),l=_t.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&is(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return de(a),null}s=mt.current,Pl(a)?V_(a):(s=ob(m,c,l),a.stateNode=s,is(a))}return de(a),null;case 5:if(Li(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&is(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return de(a),null}if(s=mt.current,Pl(a))V_(a);else{switch(m=Ph(_t.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[De]=a,s[we]=c;t:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break t;for(;m.sibling===null;){if(m.return===null||m.return===a)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;t:switch(We(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&is(a)}}return de(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&is(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(s=_t.current,Pl(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=gn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[De]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||tb(s.nodeValue,l)),s||na(a)}else s=Ph(s).createTextNode(c),s[De]=a,a.stateNode=s}return de(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Pl(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[De]=a}else Ll(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;de(a),m=!1}else m=z_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(es(a),a):(es(a),null)}if(es(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Eh(a,a.updateQueue),de(a),null;case 4:return ci(),s===null&&wm(a.stateNode.containerInfo),de(a),null;case 10:return Ji(a.type),de(a),null;case 19:if(ct(Ne),m=a.memoizedState,m===null)return de(a),null;if(c=(a.flags&128)!==0,p=m.rendering,p===null)if(c)Zl(m,!1);else{if(ye!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=yh(s),p!==null){for(a.flags|=128,Zl(m,!1),s=p.updateQueue,a.updateQueue=s,Eh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)P_(l,s),l=l.sibling;return lt(Ne,Ne.current&1|2),a.child}s=s.sibling}m.tail!==null&&Nn()>Ah&&(a.flags|=128,c=!0,Zl(m,!1),a.lanes=4194304)}else{if(!c)if(s=yh(p),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Eh(a,s),Zl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!$t)return de(a),null}else 2*Nn()-m.renderingStartTime>Ah&&l!==536870912&&(a.flags|=128,c=!0,Zl(m,!1),a.lanes=4194304);m.isBackwards?(p.sibling=a.child,a.child=p):(s=m.last,s!==null?s.sibling=p:a.child=p,m.last=p)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Nn(),a.sibling=null,s=Ne.current,lt(Ne,c?s&1|2:s&1),a):(de(a),null);case 22:case 23:return es(a),Ag(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(de(a),a.subtreeFlags&6&&(a.flags|=8192)):de(a),l=a.updateQueue,l!==null&&Eh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ct(ra),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ji(ke),de(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Dx(s,a){switch(hg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ji(ke),ci(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Li(a),null;case 13:if(es(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ll()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ct(Ne),null;case 4:return ci(),null;case 10:return Ji(a.type),null;case 22:case 23:return es(a),Ag(),s!==null&&ct(ra),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ji(ke),null;case 25:return null;default:return null}}function l0(s,a){switch(hg(a),a.tag){case 3:Ji(ke),ci();break;case 26:case 27:case 5:Li(a);break;case 4:ci();break;case 13:es(a);break;case 19:ct(Ne);break;case 10:Ji(a.type);break;case 22:case 23:es(a),Ag(),s!==null&&ct(ra);break;case 24:Ji(ke)}}function Jl(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var p=l.create,E=l.inst;c=p(),E.destroy=c}l=l.next}while(l!==m)}}catch(S){se(a,a.return,S)}}function Hs(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&s)===s){var E=c.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,m=a;var P=l,Y=S;try{Y()}catch(tt){se(m,P,tt)}}}c=c.next}while(c!==p)}}catch(tt){se(a,a.return,tt)}}function u0(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{W_(a,l)}catch(c){se(s,s.return,c)}}}function c0(s,a,l){l.props=oa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){se(s,a,c)}}function tu(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){se(s,a,m)}}function Si(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){se(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){se(s,a,m)}else l.current=null}function h0(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){se(s,s.return,m)}}function Jg(s,a,l){try{var c=s.stateNode;Xx(c,s.type,l,a),c[we]=a}catch(m){se(s,s.return,m)}}function f0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ws(s.type)||s.tag===4}function tm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||f0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ws(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function em(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Nh));else if(c!==4&&(c===27&&Ws(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(em(s,a,l),s=s.sibling;s!==null;)em(s,a,l),s=s.sibling}function wh(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&Ws(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(wh(s,a,l),s=s.sibling;s!==null;)wh(s,a,l),s=s.sibling}function d0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);We(a,c,l),a[De]=s,a[we]=l}catch(p){se(s,s.return,p)}}var ss=!1,be=!1,nm=!1,g0=typeof WeakSet=="function"?WeakSet:Set,He=null;function Ox(s,a){if(s=s.containerInfo,xm=jh,s=A_(s),tg(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var E=0,S=-1,P=-1,Y=0,tt=0,nt=s,K=null;e:for(;;){for(var W;nt!==l||m!==0&&nt.nodeType!==3||(S=E+m),nt!==p||c!==0&&nt.nodeType!==3||(P=E+c),nt.nodeType===3&&(E+=nt.nodeValue.length),(W=nt.firstChild)!==null;)K=nt,nt=W;for(;;){if(nt===s)break e;if(K===l&&++Y===m&&(S=E),K===p&&++tt===c&&(P=E),(W=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=W}l=S===-1||P===-1?null:{start:S,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Rm={focusedElem:s,selectionRange:l},jh=!1,He=a;He!==null;)if(a=He,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,He=s;else for(;He!==null;){switch(a=He,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var At=oa(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(At,p),c.__reactInternalSnapshotBeforeUpdate=s}catch(bt){se(l,l.return,bt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Dm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Dm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,He=s;break}He=a.return}}function m0(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Fs(s,l),c&4&&Jl(5,l);break;case 1:if(Fs(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(E){se(l,l.return,E)}else{var m=oa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(E){se(l,l.return,E)}}c&64&&u0(l),c&512&&tu(l,l.return);break;case 3:if(Fs(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{W_(s,a)}catch(E){se(l,l.return,E)}}break;case 27:a===null&&c&4&&d0(l);case 26:case 5:Fs(s,l),a===null&&c&4&&h0(l),c&512&&tu(l,l.return);break;case 12:Fs(s,l);break;case 13:Fs(s,l),c&4&&_0(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Bx.bind(null,l),sR(s,l))));break;case 22:if(c=l.memoizedState!==null||ss,!c){a=a!==null&&a.memoizedState!==null||be,m=ss;var p=be;ss=c,(be=a)&&!p?qs(s,l,(l.subtreeFlags&8772)!==0):Fs(s,l),ss=m,be=p}break;case 30:break;default:Fs(s,l)}}function p0(s){var a=s.alternate;a!==null&&(s.alternate=null,p0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Os(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var he=null,yn=!1;function rs(s,a,l){for(l=l.child;l!==null;)y0(s,a,l),l=l.sibling}function y0(s,a,l){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(me,l)}catch{}switch(l.tag){case 26:be||Si(l,a),rs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:be||Si(l,a);var c=he,m=yn;Ws(l.type)&&(he=l.stateNode,yn=!1),rs(s,a,l),uu(l.stateNode),he=c,yn=m;break;case 5:be||Si(l,a);case 6:if(c=he,m=yn,he=null,rs(s,a,l),he=c,yn=m,he!==null)if(yn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(l.stateNode)}catch(p){se(l,a,p)}else try{he.removeChild(l.stateNode)}catch(p){se(l,a,p)}break;case 18:he!==null&&(yn?(s=he,rb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),yu(s)):rb(he,l.stateNode));break;case 4:c=he,m=yn,he=l.stateNode.containerInfo,yn=!0,rs(s,a,l),he=c,yn=m;break;case 0:case 11:case 14:case 15:be||Hs(2,l,a),be||Hs(4,l,a),rs(s,a,l);break;case 1:be||(Si(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&c0(l,a,c)),rs(s,a,l);break;case 21:rs(s,a,l);break;case 22:be=(c=be)||l.memoizedState!==null,rs(s,a,l),be=c;break;default:rs(s,a,l)}}function _0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yu(s)}catch(l){se(a,a.return,l)}}function Mx(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new g0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new g0),a;default:throw Error(i(435,s.tag))}}function im(s,a){var l=Mx(s);a.forEach(function(c){var m=jx.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function Rn(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],p=s,E=a,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(Ws(S.type)){he=S.stateNode,yn=!1;break t}break;case 5:he=S.stateNode,yn=!1;break t;case 3:case 4:he=S.stateNode.containerInfo,yn=!0;break t}S=S.return}if(he===null)throw Error(i(160));y0(p,E,m),he=null,yn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)v0(a,s),a=a.sibling}var ti=null;function v0(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Rn(a,s),In(s),c&4&&(Hs(3,s,s.return),Jl(3,s),Hs(5,s,s.return));break;case 1:Rn(a,s),In(s),c&512&&(be||l===null||Si(l,l.return)),c&64&&ss&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ti;if(Rn(a,s),In(s),c&512&&(be||l===null||Si(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){t:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Lr]||p[De]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),We(p,c,l),p[De]=s,_e(p),c=p;break t;case"link":var E=db("link","href",m).get(c+(l.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(S,1);break e}}p=m.createElement(c),We(p,c,l),m.head.appendChild(p);break;case"meta":if(E=db("meta","content",m).get(c+(l.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(S,1);break e}}p=m.createElement(c),We(p,c,l),m.head.appendChild(p);break;default:throw Error(i(468,c))}p[De]=s,_e(p),c=p}s.stateNode=c}else gb(m,s.type,s.stateNode);else s.stateNode=fb(m,c,s.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?gb(m,s.type,s.stateNode):fb(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Jg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Rn(a,s),In(s),c&512&&(be||l===null||Si(l,l.return)),l!==null&&c&4&&Jg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Rn(a,s),In(s),c&512&&(be||l===null||Si(l,l.return)),s.flags&32){m=s.stateNode;try{Ln(m,"")}catch(W){se(s,s.return,W)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,Jg(s,m,l!==null?l.memoizedProps:m)),c&1024&&(nm=!0);break;case 6:if(Rn(a,s),In(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(W){se(s,s.return,W)}}break;case 3:if(Uh=null,m=ti,ti=Lh(a.containerInfo),Rn(a,s),ti=m,In(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{yu(a.containerInfo)}catch(W){se(s,s.return,W)}nm&&(nm=!1,b0(s));break;case 4:c=ti,ti=Lh(s.stateNode.containerInfo),Rn(a,s),In(s),ti=c;break;case 12:Rn(a,s),In(s);break;case 13:Rn(a,s),In(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(um=Nn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,im(s,c)));break;case 22:m=s.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,Y=ss,tt=be;if(ss=Y||m,be=tt||P,Rn(a,s),be=tt,ss=Y,In(s),c&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||P||ss||be||la(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){P=l=a;try{if(p=P.stateNode,m)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=P.stateNode;var nt=P.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(W){se(P,P.return,W)}}}else if(a.tag===6){if(l===null){P=a;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(W){se(P,P.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,im(s,l))));break;case 19:Rn(a,s),In(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,im(s,c)));break;case 30:break;case 21:break;default:Rn(a,s),In(s)}}function In(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(f0(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=tm(s);wh(s,p,m);break;case 5:var E=l.stateNode;l.flags&32&&(Ln(E,""),l.flags&=-33);var S=tm(s);wh(s,S,E);break;case 3:case 4:var P=l.stateNode.containerInfo,Y=tm(s);em(s,Y,P);break;default:throw Error(i(161))}}catch(tt){se(s,s.return,tt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function b0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;b0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Fs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)m0(s,a.alternate,a),a=a.sibling}function la(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Hs(4,a,a.return),la(a);break;case 1:Si(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&c0(a,a.return,l),la(a);break;case 27:uu(a.stateNode);case 26:case 5:Si(a,a.return),la(a);break;case 22:a.memoizedState===null&&la(a);break;case 30:la(a);break;default:la(a)}s=s.sibling}}function qs(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,p=a,E=p.flags;switch(p.tag){case 0:case 11:case 15:qs(m,p,l),Jl(4,p);break;case 1:if(qs(m,p,l),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){se(c,c.return,Y)}if(c=p,m=c.updateQueue,m!==null){var S=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)Q_(P[m],S)}catch(Y){se(c,c.return,Y)}}l&&E&64&&u0(p),tu(p,p.return);break;case 27:d0(p);case 26:case 5:qs(m,p,l),l&&c===null&&E&4&&h0(p),tu(p,p.return);break;case 12:qs(m,p,l);break;case 13:qs(m,p,l),l&&E&4&&_0(m,p);break;case 22:p.memoizedState===null&&qs(m,p,l),tu(p,p.return);break;case 30:break;default:qs(m,p,l)}a=a.sibling}}function sm(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&zl(l))}function rm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&zl(s))}function Ai(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)T0(s,a,l,c),a=a.sibling}function T0(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ai(s,a,l,c),m&2048&&Jl(9,a);break;case 1:Ai(s,a,l,c);break;case 3:Ai(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&zl(s)));break;case 12:if(m&2048){Ai(s,a,l,c),s=a.stateNode;try{var p=a.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(P){se(a,a.return,P)}}else Ai(s,a,l,c);break;case 13:Ai(s,a,l,c);break;case 23:break;case 22:p=a.stateNode,E=a.alternate,a.memoizedState!==null?p._visibility&2?Ai(s,a,l,c):eu(s,a):p._visibility&2?Ai(s,a,l,c):(p._visibility|=2,po(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&sm(E,a);break;case 24:Ai(s,a,l,c),m&2048&&rm(a.alternate,a);break;default:Ai(s,a,l,c)}}function po(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,E=a,S=l,P=c,Y=E.flags;switch(E.tag){case 0:case 11:case 15:po(p,E,S,P,m),Jl(8,E);break;case 23:break;case 22:var tt=E.stateNode;E.memoizedState!==null?tt._visibility&2?po(p,E,S,P,m):eu(p,E):(tt._visibility|=2,po(p,E,S,P,m)),m&&Y&2048&&sm(E.alternate,E);break;case 24:po(p,E,S,P,m),m&&Y&2048&&rm(E.alternate,E);break;default:po(p,E,S,P,m)}a=a.sibling}}function eu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:eu(l,c),m&2048&&sm(c.alternate,c);break;case 24:eu(l,c),m&2048&&rm(c.alternate,c);break;default:eu(l,c)}a=a.sibling}}var nu=8192;function yo(s){if(s.subtreeFlags&nu)for(s=s.child;s!==null;)E0(s),s=s.sibling}function E0(s){switch(s.tag){case 26:yo(s),s.flags&nu&&s.memoizedState!==null&&yR(ti,s.memoizedState,s.memoizedProps);break;case 5:yo(s);break;case 3:case 4:var a=ti;ti=Lh(s.stateNode.containerInfo),yo(s),ti=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=nu,nu=16777216,yo(s),nu=a):yo(s));break;default:yo(s)}}function w0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function iu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];He=c,A0(c,s)}w0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)S0(s),s=s.sibling}function S0(s){switch(s.tag){case 0:case 11:case 15:iu(s),s.flags&2048&&Hs(9,s,s.return);break;case 3:iu(s);break;case 12:iu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Sh(s)):iu(s);break;default:iu(s)}}function Sh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];He=c,A0(c,s)}w0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Hs(8,a,a.return),Sh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Sh(a));break;default:Sh(a)}s=s.sibling}}function A0(s,a){for(;He!==null;){var l=He;switch(l.tag){case 0:case 11:case 15:Hs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,He=c;else t:for(l=s;He!==null;){c=He;var m=c.sibling,p=c.return;if(p0(c),c===l){He=null;break t}if(m!==null){m.return=p,He=m;break t}He=p}}}var kx={getCacheForType:function(s){var a=nn(ke),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},Nx=typeof WeakMap=="function"?WeakMap:Map,Wt=0,oe=null,Nt=null,jt=0,Xt=0,Cn=null,Gs=!1,_o=!1,am=!1,as=0,ye=0,$s=0,ua=0,om=0,Gn=0,vo=0,su=null,_n=null,lm=!1,um=0,Ah=1/0,xh=null,Ys=null,Qe=0,Ks=null,bo=null,To=0,cm=0,hm=null,x0=null,ru=0,fm=null;function Dn(){if((Wt&2)!==0&&jt!==0)return jt&-jt;if(Q.T!==null){var s=oo;return s!==0?s:vm()}return Cs()}function R0(){Gn===0&&(Gn=(jt&536870912)===0||$t?gl():536870912);var s=qn.current;return s!==null&&(s.flags|=32),Gn}function On(s,a,l){(s===oe&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)&&(Eo(s,0),Qs(s,jt,Gn,!1)),Ui(s,l),((Wt&2)===0||s!==oe)&&(s===oe&&((Wt&2)===0&&(ua|=l),ye===4&&Qs(s,jt,Gn,!1)),xi(s))}function I0(s,a,l){if((Wt&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Pr(s,a),m=c?Vx(s,a):mm(s,a,!0),p=c;do{if(m===0){_o&&!c&&Qs(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!Px(l)){m=mm(s,a,!1),p=!1;continue}if(m===2){if(p=a,s.errorRecoveryDisabledLanes&p)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var S=s;m=su;var P=S.current.memoizedState.isDehydrated;if(P&&(Eo(S,E).flags|=256),E=mm(S,E,!1),E!==2){if(am&&!P){S.errorRecoveryDisabledLanes|=p,ua|=p,m=4;break t}p=_n,_n=m,p!==null&&(_n===null?_n=p:_n.push.apply(_n,p))}m=E}if(p=!1,m!==2)continue}}if(m===1){Eo(s,0),Qs(s,a,0,!0);break}t:{switch(c=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Qs(c,a,Gn,!Gs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=um+300-Nn(),10<m)){if(Qs(c,a,Gn,!Gs),Ua(c,0,!0)!==0)break t;c.timeoutHandle=ib(C0.bind(null,c,l,_n,xh,lm,a,Gn,ua,vo,Gs,p,2,-0,0),m);break t}C0(c,l,_n,xh,lm,a,Gn,ua,vo,Gs,p,0,-0,0)}}break}while(!0);xi(s)}function C0(s,a,l,c,m,p,E,S,P,Y,tt,nt,K,W){if(s.timeoutHandle=-1,nt=a.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(fu={stylesheets:null,count:0,unsuspend:pR},E0(a),nt=_R(),nt!==null)){s.cancelPendingCommit=nt(L0.bind(null,s,a,p,l,c,m,E,S,P,tt,1,K,W)),Qs(s,p,E,!Y);return}L0(s,a,p,l,c,m,E,S,P)}function Px(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],p=m.getSnapshot;m=m.value;try{if(!An(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Qs(s,a,l,c){a&=~om,a&=~ua,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var p=31-en(m),E=1<<p;c[p]=-1,m&=~E}l!==0&&hi(s,l,a)}function Rh(){return(Wt&6)===0?(au(0),!1):!0}function dm(){if(Nt!==null){if(Xt===0)var s=Nt.return;else s=Nt,Zi=ia=null,Dg(s),go=null,Wl=0,s=Nt;for(;s!==null;)l0(s.alternate,s),s=s.return;Nt=null}}function Eo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Jx(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),dm(),oe=s,Nt=l=Qi(s.current,null),jt=a,Xt=0,Cn=null,Gs=!1,_o=Pr(s,a),am=!1,vo=Gn=om=ua=$s=ye=0,_n=su=null,lm=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-en(c),p=1<<m;a|=s[m],c&=~p}return as=a,Qc(),l}function D0(s,a){Ot=null,Q.H=gh,a===jl||a===sh?(a=Y_(),Xt=3):a===q_?(a=Y_(),Xt=4):Xt=a===Kv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Cn=a,Nt===null&&(ye=1,vh(s,Bn(a,s.current)))}function O0(){var s=Q.H;return Q.H=gh,s===null?gh:s}function M0(){var s=Q.A;return Q.A=kx,s}function gm(){ye=4,Gs||(jt&4194048)!==jt&&qn.current!==null||(_o=!0),($s&134217727)===0&&(ua&134217727)===0||oe===null||Qs(oe,jt,Gn,!1)}function mm(s,a,l){var c=Wt;Wt|=2;var m=O0(),p=M0();(oe!==s||jt!==a)&&(xh=null,Eo(s,a)),a=!1;var E=ye;t:do try{if(Xt!==0&&Nt!==null){var S=Nt,P=Cn;switch(Xt){case 8:dm(),E=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(a=!0);var Y=Xt;if(Xt=0,Cn=null,wo(s,S,P,Y),l&&_o){E=0;break t}break;default:Y=Xt,Xt=0,Cn=null,wo(s,S,P,Y)}}Lx(),E=ye;break}catch(tt){D0(s,tt)}while(!0);return a&&s.shellSuspendCounter++,Zi=ia=null,Wt=c,Q.H=m,Q.A=p,Nt===null&&(oe=null,jt=0,Qc()),E}function Lx(){for(;Nt!==null;)k0(Nt)}function Vx(s,a){var l=Wt;Wt|=2;var c=O0(),m=M0();oe!==s||jt!==a?(xh=null,Ah=Nn()+500,Eo(s,a)):_o=Pr(s,a);t:do try{if(Xt!==0&&Nt!==null){a=Nt;var p=Cn;e:switch(Xt){case 1:Xt=0,Cn=null,wo(s,a,p,1);break;case 2:case 9:if(G_(p)){Xt=0,Cn=null,N0(a);break}a=function(){Xt!==2&&Xt!==9||oe!==s||(Xt=7),xi(s)},p.then(a,a);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:G_(p)?(Xt=0,Cn=null,N0(a)):(Xt=0,Cn=null,wo(s,a,p,7));break;case 5:var E=null;switch(Nt.tag){case 26:E=Nt.memoizedState;case 5:case 27:var S=Nt;if(!E||mb(E)){Xt=0,Cn=null;var P=S.sibling;if(P!==null)Nt=P;else{var Y=S.return;Y!==null?(Nt=Y,Ih(Y)):Nt=null}break e}}Xt=0,Cn=null,wo(s,a,p,5);break;case 6:Xt=0,Cn=null,wo(s,a,p,6);break;case 8:dm(),ye=6;break t;default:throw Error(i(462))}}Ux();break}catch(tt){D0(s,tt)}while(!0);return Zi=ia=null,Q.H=c,Q.A=m,Wt=l,Nt!==null?0:(oe=null,jt=0,Qc(),ye)}function Ux(){for(;Nt!==null&&!cl();)k0(Nt)}function k0(s){var a=a0(s.alternate,s,as);s.memoizedProps=s.pendingProps,a===null?Ih(s):Nt=a}function N0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=t0(l,a,a.pendingProps,a.type,void 0,jt);break;case 11:a=t0(l,a,a.pendingProps,a.type.render,a.ref,jt);break;case 5:Dg(a);default:l0(l,a),a=Nt=P_(a,as),a=a0(l,a,as)}s.memoizedProps=s.pendingProps,a===null?Ih(s):Nt=a}function wo(s,a,l,c){Zi=ia=null,Dg(a),go=null,Wl=0;var m=a.return;try{if(Rx(s,m,a,l,jt)){ye=1,vh(s,Bn(l,s.current)),Nt=null;return}}catch(p){if(m!==null)throw Nt=m,p;ye=1,vh(s,Bn(l,s.current)),Nt=null;return}a.flags&32768?($t||c===1?s=!0:_o||(jt&536870912)!==0?s=!1:(Gs=s=!0,(c===2||c===9||c===3||c===6)&&(c=qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),P0(a,s)):Ih(a)}function Ih(s){var a=s;do{if((a.flags&32768)!==0){P0(a,Gs);return}s=a.return;var l=Cx(a.alternate,a,as);if(l!==null){Nt=l;return}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=s}while(a!==null);ye===0&&(ye=5)}function P0(s,a){do{var l=Dx(s.alternate,s);if(l!==null){l.flags&=32767,Nt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Nt=s;return}Nt=s=l}while(s!==null);ye=6,Nt=null}function L0(s,a,l,c,m,p,E,S,P){s.cancelPendingCommit=null;do Ch();while(Qe!==0);if((Wt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=rg,pl(s,l,p,E,S,P),s===oe&&(Nt=oe=null,jt=0),bo=a,Ks=s,To=l,cm=p,hm=m,x0=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Hx(Or,function(){return j0(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,m=at.p,at.p=2,E=Wt,Wt|=4;try{Ox(s,a,l)}finally{Wt=E,at.p=m,Q.T=c}}Qe=1,V0(),U0(),z0()}}function V0(){if(Qe===1){Qe=0;var s=Ks,a=bo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var c=at.p;at.p=2;var m=Wt;Wt|=4;try{v0(a,s);var p=Rm,E=A_(s.containerInfo),S=p.focusedElem,P=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&S_(S.ownerDocument.documentElement,S)){if(P!==null&&tg(S)){var Y=P.start,tt=P.end;if(tt===void 0&&(tt=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(tt,S.value.length);else{var nt=S.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var W=K.getSelection(),At=S.textContent.length,bt=Math.min(P.start,At),ie=P.end===void 0?bt:Math.min(P.end,At);!W.extend&&bt>ie&&(E=ie,ie=bt,bt=E);var F=w_(S,bt),j=w_(S,ie);if(F&&j&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var G=nt.createRange();G.setStart(F.node,F.offset),W.removeAllRanges(),bt>ie?(W.addRange(G),W.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),W.addRange(G))}}}}for(nt=[],W=S;W=W.parentNode;)W.nodeType===1&&nt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var et=nt[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}jh=!!xm,Rm=xm=null}finally{Wt=m,at.p=c,Q.T=l}}s.current=a,Qe=2}}function U0(){if(Qe===2){Qe=0;var s=Ks,a=bo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var c=at.p;at.p=2;var m=Wt;Wt|=4;try{m0(s,a.alternate,a)}finally{Wt=m,at.p=c,Q.T=l}}Qe=3}}function z0(){if(Qe===4||Qe===3){Qe=0,Sc();var s=Ks,a=bo,l=To,c=x0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Qe=5:(Qe=0,bo=Ks=null,B0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ys=null),za(l),a=a.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(me,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Q.T,m=at.p,at.p=2,Q.T=null;try{for(var p=s.onRecoverableError,E=0;E<c.length;E++){var S=c[E];p(S.value,{componentStack:S.stack})}}finally{Q.T=a,at.p=m}}(To&3)!==0&&Ch(),xi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===fm?ru++:(ru=0,fm=s):ru=0,au(0)}}function B0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,zl(a)))}function Ch(s){return V0(),U0(),z0(),j0()}function j0(){if(Qe!==5)return!1;var s=Ks,a=cm;cm=0;var l=za(To),c=Q.T,m=at.p;try{at.p=32>l?32:l,Q.T=null,l=hm,hm=null;var p=Ks,E=To;if(Qe=0,bo=Ks=null,To=0,(Wt&6)!==0)throw Error(i(331));var S=Wt;if(Wt|=4,S0(p.current),T0(p,p.current,E,l),Wt=S,au(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(me,p)}catch{}return!0}finally{at.p=m,Q.T=c,B0(s,a)}}function H0(s,a,l){a=Bn(l,a),a=qg(s.stateNode,a,2),s=Us(s,a,2),s!==null&&(Ui(s,2),xi(s))}function se(s,a,l){if(s.tag===3)H0(s,s,l);else for(;a!==null;){if(a.tag===3){H0(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ys===null||!Ys.has(c))){s=Bn(l,s),l=$v(2),c=Us(a,l,2),c!==null&&(Yv(l,c,a,s),Ui(c,2),xi(c));break}}a=a.return}}function pm(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new Nx;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(am=!0,m.add(l),s=zx.bind(null,s,a,l),a.then(s,s))}function zx(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,oe===s&&(jt&l)===l&&(ye===4||ye===3&&(jt&62914560)===jt&&300>Nn()-um?(Wt&2)===0&&Eo(s,0):om|=l,vo===jt&&(vo=0)),xi(s)}function F0(s,a){a===0&&(a=ml()),s=io(s,a),s!==null&&(Ui(s,a),xi(s))}function Bx(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),F0(s,l)}function jx(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),F0(s,l)}function Hx(s,a){return Cr(s,a)}var Dh=null,So=null,ym=!1,Oh=!1,_m=!1,ca=0;function xi(s){s!==So&&s.next===null&&(So===null?Dh=So=s:So=So.next=s),Oh=!0,ym||(ym=!0,qx())}function au(s,a){if(!_m&&Oh){_m=!0;do for(var l=!1,c=Dh;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var E=c.suspendedLanes,S=c.pingedLanes;p=(1<<31-en(42|s)+1)-1,p&=m&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Y0(c,p))}else p=jt,p=Ua(c,c===oe?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Pr(c,p)||(l=!0,Y0(c,p));c=c.next}while(l);_m=!1}}function Fx(){q0()}function q0(){Oh=ym=!1;var s=0;ca!==0&&(Zx()&&(s=ca),ca=0);for(var a=Nn(),l=null,c=Dh;c!==null;){var m=c.next,p=G0(c,a);p===0?(c.next=null,l===null?Dh=m:l.next=m,m===null&&(So=l)):(l=c,(s!==0||(p&3)!==0)&&(Oh=!0)),c=m}au(s)}function G0(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var E=31-en(p),S=1<<E,P=m[E];P===-1?((S&l)===0||(S&c)!==0)&&(m[E]=dl(S,a)):P<=a&&(s.expiredLanes|=S),p&=~S}if(a=oe,l=jt,l=Ua(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(Xt===2||Xt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Dr(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Pr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Dr(c),za(l)){case 2:case 8:l=La;break;case 32:l=Or;break;case 268435456:l=Va;break;default:l=Or}return c=$0.bind(null,s),l=Cr(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Dr(c),s.callbackPriority=2,s.callbackNode=null,2}function $0(s,a){if(Qe!==0&&Qe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Ch()&&s.callbackNode!==l)return null;var c=jt;return c=Ua(s,s===oe?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(I0(s,c,a),G0(s,Nn()),s.callbackNode!=null&&s.callbackNode===l?$0.bind(null,s):null)}function Y0(s,a){if(Ch())return null;I0(s,a,!0)}function qx(){tR(function(){(Wt&6)!==0?Cr(hl,Fx):q0()})}function vm(){return ca===0&&(ca=gl()),ca}function K0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ga(""+s)}function Q0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function Gx(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var p=K0((m[we]||null).action),E=c.submitter;E&&(a=(a=E[we]||null)?K0(a.formAction):E.getAttribute("formAction"),a!==null&&(p=a,E=null));var S=new $a("action","action",null,c,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ca!==0){var P=E?Q0(m,E):new FormData(m);zg(l,{pending:!0,data:P,method:m.method,action:p},null,P)}}else typeof p=="function"&&(S.preventDefault(),P=E?Q0(m,E):new FormData(m),zg(l,{pending:!0,data:P,method:m.method,action:p},p,P))},currentTarget:m}]})}}for(var bm=0;bm<sg.length;bm++){var Tm=sg[bm],$x=Tm.toLowerCase(),Yx=Tm[0].toUpperCase()+Tm.slice(1);Jn($x,"on"+Yx)}Jn(I_,"onAnimationEnd"),Jn(C_,"onAnimationIteration"),Jn(D_,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(cx,"onTransitionRun"),Jn(hx,"onTransitionStart"),Jn(fx,"onTransitionCancel"),Jn(O_,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function W0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;t:{var p=void 0;if(a)for(var E=c.length-1;0<=E;E--){var S=c[E],P=S.instance,Y=S.currentTarget;if(S=S.listener,P!==p&&m.isPropagationStopped())break t;p=S,m.currentTarget=Y;try{p(m)}catch(tt){_h(tt)}m.currentTarget=null,p=P}else for(E=0;E<c.length;E++){if(S=c[E],P=S.instance,Y=S.currentTarget,S=S.listener,P!==p&&m.isPropagationStopped())break t;p=S,m.currentTarget=Y;try{p(m)}catch(tt){_h(tt)}m.currentTarget=null,p=P}}}}function Pt(s,a){var l=a[_l];l===void 0&&(l=a[_l]=new Set);var c=s+"__bubble";l.has(c)||(X0(a,s,2,!1),l.add(c))}function Em(s,a,l){var c=0;a&&(c|=4),X0(l,s,c,a)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function wm(s){if(!s[Mh]){s[Mh]=!0,vl.forEach(function(l){l!=="selectionchange"&&(Kx.has(l)||Em(l,!1,s),Em(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Mh]||(a[Mh]=!0,Em("selectionchange",!1,a))}}function X0(s,a,l,c){switch(Tb(a)){case 2:var m=TR;break;case 8:m=ER;break;default:m=Vm}l=m.bind(null,a,l,s),m=void 0,!Un||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Sm(s,a,l,c,m){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var S=c.stateNode.containerInfo;if(S===m)break;if(E===4)for(E=c.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;S!==null;){if(E=zi(S),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){c=p=E;continue t}S=S.parentNode}}c=c.return}Nc(function(){var Y=p,tt=Vn(l),nt=[];t:{var K=M_.get(s);if(K!==void 0){var W=$a,At=s;switch(s){case"keypress":if(yi(l)===0)break t;case"keydown":case"keyup":W=Za;break;case"focusin":At="focus",W=Qa;break;case"focusout":At="blur",W=Qa;break;case"beforeblur":case"afterblur":W=Qa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Hc;break;case I_:case C_:case D_:W=Wa;break;case O_:W=qc;break;case"scroll":case"scrollend":W=Pc;break;case"wheel":W=Ja;break;case"copy":case"cut":case"paste":W=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ol;break;case"toggle":case"beforetoggle":W=$c}var bt=(a&4)!==0,ie=!bt&&(s==="scroll"||s==="scrollend"),F=bt?K!==null?K+"Capture":null:K;bt=[];for(var j=Y,G;j!==null;){var et=j;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||F===null||(et=Fr(j,F),et!=null&&bt.push(lu(j,et,G))),ie)break;j=j.return}0<bt.length&&(K=new W(K,At,null,l,tt),nt.push({event:K,listeners:bt}))}}if((a&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==Fi&&(At=l.relatedTarget||l.fromElement)&&(zi(At)||At[Pn]))break t;if((W||K)&&(K=tt.window===tt?tt:(K=tt.ownerDocument)?K.defaultView||K.parentWindow:window,W?(At=l.relatedTarget||l.toElement,W=Y,At=At?zi(At):null,At!==null&&(ie=o(At),bt=At.tag,At!==ie||bt!==5&&bt!==27&&bt!==6)&&(At=null)):(W=null,At=Y),W!==At)){if(bt=zn,et="onMouseLeave",F="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(bt=Ol,et="onPointerLeave",F="onPointerEnter",j="pointer"),ie=W==null?K:di(W),G=At==null?K:di(At),K=new bt(et,j+"leave",W,l,tt),K.target=ie,K.relatedTarget=G,et=null,zi(tt)===Y&&(bt=new bt(F,j+"enter",At,l,tt),bt.target=G,bt.relatedTarget=ie,et=bt),ie=et,W&&At)e:{for(bt=W,F=At,j=0,G=bt;G;G=Ao(G))j++;for(G=0,et=F;et;et=Ao(et))G++;for(;0<j-G;)bt=Ao(bt),j--;for(;0<G-j;)F=Ao(F),G--;for(;j--;){if(bt===F||F!==null&&bt===F.alternate)break e;bt=Ao(bt),F=Ao(F)}bt=null}else bt=null;W!==null&&Z0(nt,K,W,bt,!1),At!==null&&ie!==null&&Z0(nt,ie,At,bt,!0)}}t:{if(K=Y?di(Y):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var dt=y_;else if(Me(K))if(__)dt=ox;else{dt=rx;var kt=sx}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Sl(Y.elementType)&&(dt=y_):dt=ax;if(dt&&(dt=dt(s,Y))){Ki(nt,dt,l,tt);break t}kt&&kt(s,K,Y),s==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&ks(K,"number",K.value)}switch(kt=Y?di(Y):window,s){case"focusin":(Me(kt)||kt.contentEditable==="true")&&(to=kt,eg=Y,Nl=null);break;case"focusout":Nl=eg=to=null;break;case"mousedown":ng=!0;break;case"contextmenu":case"mouseup":case"dragend":ng=!1,x_(nt,l,tt);break;case"selectionchange":if(ux)break;case"keydown":case"keyup":x_(nt,l,tt)}var pt;if(bi)t:{switch(s){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else zt?Z(s,l)&&(Tt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Tt="onCompositionStart");Tt&&(T&&l.locale!=="ko"&&(zt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&zt&&(pt=xl()):(pi=tt,Ns="value"in pi?pi.value:pi.textContent,zt=!0)),kt=kh(Y,Tt),0<kt.length&&(Tt=new Cl(Tt,s,null,l,tt),nt.push({event:Tt,listeners:kt}),pt?Tt.data=pt:(pt=ut(l),pt!==null&&(Tt.data=pt)))),(pt=_?Oe(s,l):Bt(s,l))&&(Tt=kh(Y,"onBeforeInput"),0<Tt.length&&(kt=new Cl("onBeforeInput","beforeinput",null,l,tt),nt.push({event:kt,listeners:Tt}),kt.data=pt)),Gx(nt,s,Y,l,tt)}W0(nt,a)})}function lu(s,a,l){return{instance:s,listener:a,currentTarget:l}}function kh(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Fr(s,l),m!=null&&c.unshift(lu(s,m,p)),m=Fr(s,a),m!=null&&c.push(lu(s,m,p))),s.tag===3)return c;s=s.return}return[]}function Ao(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Z0(s,a,l,c,m){for(var p=a._reactName,E=[];l!==null&&l!==c;){var S=l,P=S.alternate,Y=S.stateNode;if(S=S.tag,P!==null&&P===c)break;S!==5&&S!==26&&S!==27||Y===null||(P=Y,m?(Y=Fr(l,p),Y!=null&&E.unshift(lu(l,Y,P))):m||(Y=Fr(l,p),Y!=null&&E.push(lu(l,Y,P)))),l=l.return}E.length!==0&&s.push({event:a,listeners:E})}var Qx=/\r\n?/g,Wx=/\u0000|\uFFFD/g;function J0(s){return(typeof s=="string"?s:""+s).replace(Qx,`
`).replace(Wx,"")}function tb(s,a){return a=J0(a),J0(s)===a}function Nh(){}function ne(s,a,l,c,m,p){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ln(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ln(s,""+c);break;case"className":gi(s,"class",c);break;case"tabIndex":gi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(s,l,c);break;case"style":wl(s,c,p);break;case"data":if(a!=="object"){gi(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ga(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ne(s,a,"name",m.name,m,null),ne(s,a,"formEncType",m.formEncType,m,null),ne(s,a,"formMethod",m.formMethod,m,null),ne(s,a,"formTarget",m.formTarget,m,null)):(ne(s,a,"encType",m.encType,m,null),ne(s,a,"method",m.method,m,null),ne(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ga(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Nh);break;case"onScroll":c!=null&&Pt("scroll",s);break;case"onScrollEnd":c!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ga(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),Ms(s,"popover",c);break;case"xlinkActuate":$e(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":$e(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":$e(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":$e(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":$e(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":$e(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":$e(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":$e(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":$e(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ms(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Kd.get(l)||l,Ms(s,l,c))}}function Am(s,a,l,c,m,p){switch(l){case"style":wl(s,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Ln(s,c):(typeof c=="number"||typeof c=="bigint")&&Ln(s,""+c);break;case"onScroll":c!=null&&Pt("scroll",s);break;case"onScrollEnd":c!=null&&Pt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=s[we]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break t}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Ms(s,l,c)}}}function We(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var c=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var E=l[p];if(E!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(s,a,p,E,l,null)}}m&&ne(s,a,"srcSet",l.srcSet,l,null),c&&ne(s,a,"src",l.src,l,null);return;case"input":Pt("invalid",s);var S=p=E=m=null,P=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var tt=l[c];if(tt!=null)switch(c){case"name":m=tt;break;case"type":E=tt;break;case"checked":P=tt;break;case"defaultChecked":Y=tt;break;case"value":p=tt;break;case"defaultValue":S=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:ne(s,a,c,tt,l,null)}}Br(s,p,S,P,Y,E,m,!1),qa(s);return;case"select":Pt("invalid",s),c=E=p=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":c=S;default:ne(s,a,m,S,l,null)}a=p,l=E,s.multiple=!!c,a!=null?Hi(s,!!c,a,!1):l!=null&&Hi(s,!!c,l,!0);return;case"textarea":Pt("invalid",s),p=m=c=null;for(E in l)if(l.hasOwnProperty(E)&&(S=l[E],S!=null))switch(E){case"value":c=S;break;case"defaultValue":m=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ne(s,a,E,S,l,null)}jr(s,c,m,p),qa(s);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(c=l[P],c!=null))switch(P){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ne(s,a,P,c,l,null)}return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(c=0;c<ou.length;c++)Pt(ou[c],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(s,a,Y,c,l,null)}return;default:if(Sl(a)){for(tt in l)l.hasOwnProperty(tt)&&(c=l[tt],c!==void 0&&Am(s,a,tt,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&ne(s,a,S,c,l,null))}function Xx(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,E=null,S=null,P=null,Y=null,tt=null;for(W in l){var nt=l[W];if(l.hasOwnProperty(W)&&nt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=nt;default:c.hasOwnProperty(W)||ne(s,a,W,null,c,nt)}}for(var K in c){var W=c[K];if(nt=l[K],c.hasOwnProperty(K)&&(W!=null||nt!=null))switch(K){case"type":p=W;break;case"name":m=W;break;case"checked":Y=W;break;case"defaultChecked":tt=W;break;case"value":E=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:W!==nt&&ne(s,a,K,W,c,nt)}}Sn(s,E,S,P,Y,tt,p,m);return;case"select":W=E=S=K=null;for(p in l)if(P=l[p],l.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":W=P;default:c.hasOwnProperty(p)||ne(s,a,p,null,c,P)}for(m in c)if(p=c[m],P=l[m],c.hasOwnProperty(m)&&(p!=null||P!=null))switch(m){case"value":K=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==P&&ne(s,a,m,p,c,P)}a=S,l=E,c=W,K!=null?Hi(s,!!l,K,!1):!!c!=!!l&&(a!=null?Hi(s,!!l,a,!0):Hi(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ne(s,a,S,null,c,m)}for(E in c)if(m=c[E],p=l[E],c.hasOwnProperty(E)&&(m!=null||p!=null))switch(E){case"value":K=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&ne(s,a,E,m,c,p)}te(s,K,W);return;case"option":for(var At in l)if(K=l[At],l.hasOwnProperty(At)&&K!=null&&!c.hasOwnProperty(At))switch(At){case"selected":s.selected=!1;break;default:ne(s,a,At,null,c,K)}for(P in c)if(K=c[P],W=l[P],c.hasOwnProperty(P)&&K!==W&&(K!=null||W!=null))switch(P){case"selected":s.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ne(s,a,P,K,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in l)K=l[bt],l.hasOwnProperty(bt)&&K!=null&&!c.hasOwnProperty(bt)&&ne(s,a,bt,null,c,K);for(Y in c)if(K=c[Y],W=l[Y],c.hasOwnProperty(Y)&&K!==W&&(K!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:ne(s,a,Y,K,c,W)}return;default:if(Sl(a)){for(var ie in l)K=l[ie],l.hasOwnProperty(ie)&&K!==void 0&&!c.hasOwnProperty(ie)&&Am(s,a,ie,void 0,c,K);for(tt in c)K=c[tt],W=l[tt],!c.hasOwnProperty(tt)||K===W||K===void 0&&W===void 0||Am(s,a,tt,K,c,W);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!c.hasOwnProperty(F)&&ne(s,a,F,null,c,K);for(nt in c)K=c[nt],W=l[nt],!c.hasOwnProperty(nt)||K===W||K==null&&W==null||ne(s,a,nt,K,c,W)}var xm=null,Rm=null;function Ph(s){return s.nodeType===9?s:s.ownerDocument}function eb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Im(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cm=null;function Zx(){var s=window.event;return s&&s.type==="popstate"?s===Cm?!1:(Cm=s,!0):(Cm=null,!1)}var ib=typeof setTimeout=="function"?setTimeout:void 0,Jx=typeof clearTimeout=="function"?clearTimeout:void 0,sb=typeof Promise=="function"?Promise:void 0,tR=typeof queueMicrotask=="function"?queueMicrotask:typeof sb<"u"?function(s){return sb.resolve(null).then(s).catch(eR)}:ib;function eR(s){setTimeout(function(){throw s})}function Ws(s){return s==="head"}function rb(s,a){var l=a,c=0,m=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<c&&8>c){l=c;var E=s.ownerDocument;if(l&1&&uu(E.documentElement),l&2&&uu(E.body),l&4)for(l=E.head,uu(l),E=l.firstChild;E;){var S=E.nextSibling,P=E.nodeName;E[Lr]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=S}}if(m===0){s.removeChild(p),yu(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=p}while(l);yu(a)}function Dm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Dm(l),Os(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function nR(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Lr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=ei(s.nextSibling),s===null)break}return null}function iR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ei(s.nextSibling),s===null))return null;return s}function Om(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function sR(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ei(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Mm=null;function ab(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function ob(s,a,l){switch(a=Ph(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function uu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Os(s)}var $n=new Map,lb=new Set;function Lh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var os=at.d;at.d={f:rR,r:aR,D:oR,C:lR,L:uR,m:cR,X:fR,S:hR,M:dR};function rR(){var s=os.f(),a=Rh();return s||a}function aR(s){var a=fi(s);a!==null&&a.tag===5&&a.type==="form"?Iv(a):os.r(s)}var xo=typeof document>"u"?null:document;function ub(s,a,l){var c=xo;if(c&&typeof a=="string"&&a){var m=Se(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),lb.has(m)||(lb.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),We(a,"link",s),_e(a),c.head.appendChild(a)))}}function oR(s){os.D(s),ub("dns-prefetch",s,null)}function lR(s,a){os.C(s,a),ub("preconnect",s,a)}function uR(s,a,l){os.L(s,a,l);var c=xo;if(c&&s&&a){var m='link[rel="preload"][as="'+Se(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Se(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Se(l.imageSizes)+'"]')):m+='[href="'+Se(s)+'"]';var p=m;switch(a){case"style":p=Ro(s);break;case"script":p=Io(s)}$n.has(p)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),$n.set(p,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(cu(p))||a==="script"&&c.querySelector(hu(p))||(a=c.createElement("link"),We(a,"link",s),_e(a),c.head.appendChild(a)))}}function cR(s,a){os.m(s,a);var l=xo;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Se(c)+'"][href="'+Se(s)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Io(s)}if(!$n.has(p)&&(s=y({rel:"modulepreload",href:s},a),$n.set(p,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(hu(p)))return}c=l.createElement("link"),We(c,"link",s),_e(c),l.head.appendChild(c)}}}function hR(s,a,l){os.S(s,a,l);var c=xo;if(c&&s){var m=hn(c).hoistableStyles,p=Ro(s);a=a||"default";var E=m.get(p);if(!E){var S={loading:0,preload:null};if(E=c.querySelector(cu(p)))S.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=$n.get(p))&&km(s,l);var P=E=c.createElement("link");_e(P),We(P,"link",s),P._p=new Promise(function(Y,tt){P.onload=Y,P.onerror=tt}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Vh(E,a,c)}E={type:"stylesheet",instance:E,count:1,state:S},m.set(p,E)}}}function fR(s,a){os.X(s,a);var l=xo;if(l&&s){var c=hn(l).hoistableScripts,m=Io(s),p=c.get(m);p||(p=l.querySelector(hu(m)),p||(s=y({src:s,async:!0},a),(a=$n.get(m))&&Nm(s,a),p=l.createElement("script"),_e(p),We(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function dR(s,a){os.M(s,a);var l=xo;if(l&&s){var c=hn(l).hoistableScripts,m=Io(s),p=c.get(m);p||(p=l.querySelector(hu(m)),p||(s=y({src:s,async:!0,type:"module"},a),(a=$n.get(m))&&Nm(s,a),p=l.createElement("script"),_e(p),We(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function cb(s,a,l,c){var m=(m=_t.current)?Lh(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ro(l.href),l=hn(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Ro(l.href);var p=hn(m).hoistableStyles,E=p.get(s);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,E),(p=m.querySelector(cu(s)))&&!p._p&&(E.instance=p,E.state.loading=5),$n.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$n.set(s,l),p||gR(m,s,l,E.state))),a&&c===null)throw Error(i(528,""));return E}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Io(l),l=hn(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ro(s){return'href="'+Se(s)+'"'}function cu(s){return'link[rel="stylesheet"]['+s+"]"}function hb(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function gR(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),We(a,"link",l),_e(a),s.head.appendChild(a))}function Io(s){return'[src="'+Se(s)+'"]'}function hu(s){return"script[async]"+s}function fb(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Se(l.href)+'"]');if(c)return a.instance=c,_e(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),_e(c),We(c,"style",m),Vh(c,l.precedence,s),a.instance=c;case"stylesheet":m=Ro(l.href);var p=s.querySelector(cu(m));if(p)return a.state.loading|=4,a.instance=p,_e(p),p;c=hb(l),(m=$n.get(m))&&km(c,m),p=(s.ownerDocument||s).createElement("link"),_e(p);var E=p;return E._p=new Promise(function(S,P){E.onload=S,E.onerror=P}),We(p,"link",c),a.state.loading|=4,Vh(p,l.precedence,s),a.instance=p;case"script":return p=Io(l.src),(m=s.querySelector(hu(p)))?(a.instance=m,_e(m),m):(c=l,(m=$n.get(p))&&(c=y({},l),Nm(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),_e(m),We(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Vh(c,l.precedence,s));return a.instance}function Vh(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,E=0;E<c.length;E++){var S=c[E];if(S.dataset.precedence===a)p=S;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function km(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Nm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Uh=null;function db(s,a,l){if(Uh===null){var c=new Map,m=Uh=new Map;m.set(l,c)}else m=Uh,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[Lr]||p[De]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(a)||"";E=s+E;var S=c.get(E);S?S.push(p):c.set(E,[p])}}return c}function gb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function mR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function mb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var fu=null;function pR(){}function yR(s,a,l){if(fu===null)throw Error(i(475));var c=fu;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Ro(l.href),p=s.querySelector(cu(m));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=zh.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=p,_e(p);return}p=s.ownerDocument||s,l=hb(l),(m=$n.get(m))&&km(l,m),p=p.createElement("link"),_e(p);var E=p;E._p=new Promise(function(S,P){E.onload=S,E.onerror=P}),We(p,"link",l),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=zh.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function _R(){if(fu===null)throw Error(i(475));var s=fu;return s.stylesheets&&s.count===0&&Pm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Pm(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)Pm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bh=null;function Pm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bh=new Map,a.forEach(vR,s),Bh=null,zh.call(s))}function vR(s,a){if(!(a.state.loading&4)){var l=Bh.get(s);if(l)var c=l.get(null);else{l=new Map,Bh.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var E=m[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}m=a.instance,E=m.getAttribute("data-precedence"),p=l.get(E)||c,p===c&&l.set(null,m),l.set(E,m),this.count++,c=zh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var du={$$typeof:V,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function bR(s,a,l,c,m,p,E,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function pb(s,a,l,c,m,p,E,S,P,Y,tt,nt){return s=new bR(s,a,l,E,S,P,Y,nt),a=1,p===!0&&(a|=24),p=xn(3,null,null,a),s.current=p,p.stateNode=s,a=pg(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:a},bg(p),s}function yb(s){return s?(s=so,s):so}function _b(s,a,l,c,m,p){m=yb(m),c.context===null?c.context=m:c.pendingContext=m,c=Vs(a),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Us(s,c,a),l!==null&&(On(l,s,a),Fl(l,s,a))}function vb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Lm(s,a){vb(s,a),(s=s.alternate)&&vb(s,a)}function bb(s){if(s.tag===13){var a=io(s,67108864);a!==null&&On(a,s,67108864),Lm(s,67108864)}}var jh=!0;function TR(s,a,l,c){var m=Q.T;Q.T=null;var p=at.p;try{at.p=2,Vm(s,a,l,c)}finally{at.p=p,Q.T=m}}function ER(s,a,l,c){var m=Q.T;Q.T=null;var p=at.p;try{at.p=8,Vm(s,a,l,c)}finally{at.p=p,Q.T=m}}function Vm(s,a,l,c){if(jh){var m=Um(c);if(m===null)Sm(s,a,c,Hh,l),Eb(s,c);else if(SR(m,s,a,l,c))c.stopPropagation();else if(Eb(s,c),a&4&&-1<wR.indexOf(s)){for(;m!==null;){var p=fi(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Wn(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var P=1<<31-en(E);S.entanglements[1]|=P,E&=~P}xi(p),(Wt&6)===0&&(Ah=Nn()+500,au(0))}}break;case 13:S=io(p,2),S!==null&&On(S,p,2),Rh(),Lm(p,2)}if(p=Um(c),p===null&&Sm(s,a,c,Hh,l),p===m)break;m=p}m!==null&&c.stopPropagation()}else Sm(s,a,c,null,l)}}function Um(s){return s=Vn(s),zm(s)}var Hh=null;function zm(s){if(Hh=null,s=zi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Hh=s,null}function Tb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hd()){case hl:return 2;case La:return 8;case Or:case Fd:return 32;case Va:return 268435456;default:return 32}default:return 32}}var Bm=!1,Xs=null,Zs=null,Js=null,gu=new Map,mu=new Map,tr=[],wR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eb(s,a){switch(s){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":gu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(a.pointerId)}}function pu(s,a,l,c,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},a!==null&&(a=fi(a),a!==null&&bb(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function SR(s,a,l,c,m){switch(a){case"focusin":return Xs=pu(Xs,s,a,l,c,m),!0;case"dragenter":return Zs=pu(Zs,s,a,l,c,m),!0;case"mouseover":return Js=pu(Js,s,a,l,c,m),!0;case"pointerover":var p=m.pointerId;return gu.set(p,pu(gu.get(p)||null,s,a,l,c,m)),!0;case"gotpointercapture":return p=m.pointerId,mu.set(p,pu(mu.get(p)||null,s,a,l,c,m)),!0}return!1}function wb(s){var a=zi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,Rc(s.priority,function(){if(l.tag===13){var c=Dn();c=Is(c);var m=io(l,c);m!==null&&On(m,l,c),Lm(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Fh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Um(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Fi=c,l.target.dispatchEvent(c),Fi=null}else return a=fi(l),a!==null&&bb(a),s.blockedOn=l,!1;a.shift()}return!0}function Sb(s,a,l){Fh(s)&&l.delete(a)}function AR(){Bm=!1,Xs!==null&&Fh(Xs)&&(Xs=null),Zs!==null&&Fh(Zs)&&(Zs=null),Js!==null&&Fh(Js)&&(Js=null),gu.forEach(Sb),mu.forEach(Sb)}function qh(s,a){s.blockedOn===a&&(s.blockedOn=null,Bm||(Bm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,AR)))}var Gh=null;function Ab(s){Gh!==s&&(Gh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gh===s&&(Gh=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(zm(c||l)===null)continue;break}var p=fi(l);p!==null&&(s.splice(a,3),a-=3,zg(p,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function yu(s){function a(P){return qh(P,s)}Xs!==null&&qh(Xs,s),Zs!==null&&qh(Zs,s),Js!==null&&qh(Js,s),gu.forEach(a),mu.forEach(a);for(var l=0;l<tr.length;l++){var c=tr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<tr.length&&(l=tr[0],l.blockedOn===null);)wb(l),l.blockedOn===null&&tr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],p=l[c+1],E=m[we]||null;if(typeof p=="function")E||Ab(l);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(m=p,E=p[we]||null)S=E.formAction;else if(zm(m)!==null)continue}else S=E.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),Ab(l)}}}function jm(s){this._internalRoot=s}$h.prototype.render=jm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Dn();_b(l,c,s,a,null,null)},$h.prototype.unmount=jm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;_b(s.current,2,null,s,null,null),Rh(),a[Pn]=null}};function $h(s){this._internalRoot=s}$h.prototype.unstable_scheduleHydration=function(s){if(s){var a=Cs();s={blockedOn:null,target:s,priority:a};for(var l=0;l<tr.length&&a!==0&&a<tr[l].priority;l++);tr.splice(l,0,s),l===0&&wb(s)}};var xb=t.version;if(xb!=="19.1.0")throw Error(i(527,xb,"19.1.0"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var xR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{me=Yh.inject(xR),Qt=Yh}catch{}}return vu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,c="",m=Hv,p=Fv,E=qv,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=pb(s,1,!1,null,null,l,c,m,p,E,S,null),s[Pn]=a.current,wm(s),new jm(a)},vu.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var c=!1,m="",p=Hv,E=Fv,S=qv,P=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),a=pb(s,1,!0,a,l??null,c,m,p,E,S,P,Y),a.context=yb(null),l=a.current,c=Dn(),c=Is(c),m=Vs(c),m.callback=null,Us(l,m,c),l=c,a.current.lanes=l,Ui(a,l),xi(a),s[Pn]=a.current,wm(s),new $h(a)},vu.version="19.1.0",vu}var Lb;function zR(){if(Lb)return qm.exports;Lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),qm.exports=UR(),qm.exports}var BR=zR(),bu={},Vb;function jR(){if(Vb)return bu;Vb=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.parse=u,bu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,w){const A=new o,C=b.length;if(C<2)return A;const I=(w==null?void 0:w.decode)||y;let M=0;do{const U=b.indexOf("=",M);if(U===-1)break;const V=b.indexOf(";",M),$=V===-1?C:V;if(U>$){M=b.lastIndexOf(";",U-1)+1;continue}const X=h(b,M,U),ot=f(b,U,X),O=b.slice(X,ot);if(A[O]===void 0){let R=h(b,U+1,$),D=f(b,$,R);const N=I(b.slice(R,D));A[O]=N}M=$+1}while(M<C);return A}function h(b,w,A){do{const C=b.charCodeAt(w);if(C!==32&&C!==9)return w}while(++w<A);return A}function f(b,w,A){for(;w>A;){const C=b.charCodeAt(--w);if(C!==32&&C!==9)return w+1}return A}function g(b,w,A){const C=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const I=C(w);if(!t.test(I))throw new TypeError(`argument val is invalid: ${w}`);let M=b+"="+I;if(!A)return M;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);M+="; Max-Age="+A.maxAge}if(A.domain){if(!e.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);M+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);M+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);M+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(M+="; HttpOnly"),A.secure&&(M+="; Secure"),A.partitioned&&(M+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return M}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return r.call(b)==="[object Date]"}return bu}jR();var Ub="popstate";function HR(n={}){function t(r,o){let{pathname:u="/",search:h="",hash:f=""}=Ca(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),yp("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let u=r.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=r.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof o=="string"?o:Wu(o))}function i(r,o){Qn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return qR(t,e,i,n)}function fe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Qn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FR(){return Math.random().toString(36).substring(2,10)}function zb(n,t){return{usr:n.state,key:n.key,idx:t}}function yp(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ca(t):t,state:e,key:t&&t.key||i||FR()}}function Wu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Ca(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function qR(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,u=r.history,h="POP",f=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let I=y(),M=I==null?null:I-g;g=I,f&&f({action:h,location:C.location,delta:M})}function b(I,M){h="PUSH";let U=yp(C.location,I,M);e&&e(U,I),g=y()+1;let V=zb(U,g),$=C.createHref(U);try{u.pushState(V,"",$)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;r.location.assign($)}o&&f&&f({action:h,location:C.location,delta:1})}function w(I,M){h="REPLACE";let U=yp(C.location,I,M);e&&e(U,I),g=y();let V=zb(U,g),$=C.createHref(U);u.replaceState(V,"",$),o&&f&&f({action:h,location:C.location,delta:0})}function A(I){let M=r.location.origin!=="null"?r.location.origin:r.location.href,U=typeof I=="string"?I:Wu(I);return U=U.replace(/ $/,"%20"),fe(M,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,M)}let C={get action(){return h},get location(){return n(r,u)},listen(I){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(Ub,v),f=I,()=>{r.removeEventListener(Ub,v),f=null}},createHref(I){return t(r,I)},createURL:A,encodeLocation(I){let M=A(I);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:w,go(I){return u.go(I)}};return C}function Iw(n,t,e="/"){return GR(n,t,e,!1)}function GR(n,t,e,i){let r=typeof t=="string"?Ca(t):t,o=_s(r.pathname||"/",e);if(o==null)return null;let u=Cw(n);$R(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=iI(o);h=eI(u[f],g,i)}return h}function Cw(n,t=[],e=[],i=""){let r=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(fe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=ms([i,f.relativePath]),y=e.concat(f);o.children&&o.children.length>0&&(fe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Cw(o.children,t,y,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:JR(g,o.index),routesMeta:y})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,u);else for(let f of Dw(o.path))r(o,u,f)}),t}function Dw(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let u=Dw(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function $R(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:tI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var YR=/^:[\w-]+$/,KR=3,QR=2,WR=1,XR=10,ZR=-2,Bb=n=>n==="*";function JR(n,t){let e=n.split("/"),i=e.length;return e.some(Bb)&&(i+=ZR),t&&(i+=QR),e.filter(r=>!Bb(r)).reduce((r,o)=>r+(YR.test(o)?KR:o===""?WR:XR),i)}function tI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function eI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",v=Of({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),b=f.route;if(!v&&g&&e&&!i[i.length-1].route.index&&(v=Of({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:ms([o,v.pathname]),pathnameBase:oI(ms([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=ms([o,v.pathnameBase]))}return u}function Of(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=nI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],u=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:v},b)=>{if(y==="*"){let A=h[b]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const w=h[b];return v&&!w?g[y]=void 0:g[y]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:n}}function nI(n,t=!1,e=!0){Qn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function iI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function _s(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function sI(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Ca(n):n;return{pathname:e?e.startsWith("/")?e:rI(e,t):t,search:lI(i),hash:uI(r)}}function rI(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Km(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ry(n){let t=aI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function ay(n,t,e,i=!1){let r;typeof n=="string"?r=Ca(n):(r={...n},fe(!r.pathname||!r.pathname.includes("?"),Km("?","pathname","search",r)),fe(!r.pathname||!r.pathname.includes("#"),Km("#","pathname","hash",r)),fe(!r.search||!r.search.includes("#"),Km("#","search","hash",r)));let o=n===""||r.pathname==="",u=o?"/":r.pathname,h;if(u==null)h=e;else{let v=t.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}h=v>=0?t[v]:"/"}let f=sI(r,h),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var ms=n=>n.join("/").replace(/\/\/+/g,"/"),oI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),lI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,uI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function cI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ow=["POST","PUT","PATCH","DELETE"];new Set(Ow);var hI=["GET",...Ow];new Set(hI);var tl=H.createContext(null);tl.displayName="DataRouter";var ld=H.createContext(null);ld.displayName="DataRouterState";var Mw=H.createContext({isTransitioning:!1});Mw.displayName="ViewTransition";var fI=H.createContext(new Map);fI.displayName="Fetchers";var dI=H.createContext(null);dI.displayName="Await";var li=H.createContext(null);li.displayName="Navigation";var cc=H.createContext(null);cc.displayName="Location";var ui=H.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var oy=H.createContext(null);oy.displayName="RouteError";function gI(n,{relative:t}={}){fe(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=H.useContext(li),{hash:r,pathname:o,search:u}=hc(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:ms([e,o])),i.createHref({pathname:h,search:u,hash:r})}function el(){return H.useContext(cc)!=null}function Rr(){return fe(el(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(cc).location}var kw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nw(n){H.useContext(li).static||H.useLayoutEffect(n)}function ud(){let{isDataRoute:n}=H.useContext(ui);return n?CI():mI()}function mI(){fe(el(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(tl),{basename:t,navigator:e}=H.useContext(li),{matches:i}=H.useContext(ui),{pathname:r}=Rr(),o=JSON.stringify(ry(i)),u=H.useRef(!1);return Nw(()=>{u.current=!0}),H.useCallback((f,g={})=>{if(Qn(u.current,kw),!u.current)return;if(typeof f=="number"){e.go(f);return}let y=ay(f,JSON.parse(o),r,g.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ms([t,y.pathname])),(g.replace?e.replace:e.push)(y,g.state,g)},[t,e,o,r,n])}var pI=H.createContext(null);function yI(n){let t=H.useContext(ui).outlet;return t&&H.createElement(pI.Provider,{value:n},t)}function hc(n,{relative:t}={}){let{matches:e}=H.useContext(ui),{pathname:i}=Rr(),r=JSON.stringify(ry(e));return H.useMemo(()=>ay(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function _I(n,t){return Pw(n,t)}function Pw(n,t,e,i){var U;fe(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=H.useContext(li),{matches:u}=H.useContext(ui),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let V=v&&v.path||"";Lw(g,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let b=Rr(),w;if(t){let V=typeof t=="string"?Ca(t):t;fe(y==="/"||((U=V.pathname)==null?void 0:U.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${V.pathname}" was given in the \`location\` prop.`),w=V}else w=b;let A=w.pathname||"/",C=A;if(y!=="/"){let V=y.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(V.length).join("/")}let I=!o&&e&&e.matches&&e.matches.length>0?e.matches:Iw(n,{pathname:C});Qn(v||I!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Qn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=wI(I&&I.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:ms([y,r.encodeLocation?r.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?y:ms([y,r.encodeLocation?r.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,e,i);return t&&M?H.createElement(cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},M):M}function vI(){let n=II(),t=cI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:o},"ErrorBoundary")," or"," ",H.createElement("code",{style:o},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),e?H.createElement("pre",{style:r},e):null,u)}var bI=H.createElement(vI,null),TI=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?H.createElement(ui.Provider,{value:this.props.routeContext},H.createElement(oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EI({routeContext:n,match:t,children:e}){let i=H.useContext(tl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(ui.Provider,{value:n},e)}function wI(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e==null?void 0:e.errors;if(o!=null){let f=r.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);fe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let u=!1,h=-1;if(e)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:y,errors:v}=e,b=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){u=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,g,y)=>{let v,b=!1,w=null,A=null;e&&(v=o&&g.route.id?o[g.route.id]:void 0,w=g.route.errorElement||bI,u&&(h<0&&y===0?(Lw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):h===y&&(b=!0,A=g.route.hydrateFallbackElement||null)));let C=t.concat(r.slice(0,y+1)),I=()=>{let M;return v?M=w:b?M=A:g.route.Component?M=H.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=f,H.createElement(EI,{match:g,routeContext:{outlet:f,matches:C,isDataRoute:e!=null},children:M})};return e&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?H.createElement(TI,{location:e.location,revalidation:e.revalidation,component:w,error:v,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):I()},null)}function ly(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SI(n){let t=H.useContext(tl);return fe(t,ly(n)),t}function AI(n){let t=H.useContext(ld);return fe(t,ly(n)),t}function xI(n){let t=H.useContext(ui);return fe(t,ly(n)),t}function uy(n){let t=xI(n),e=t.matches[t.matches.length-1];return fe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function RI(){return uy("useRouteId")}function II(){var i;let n=H.useContext(oy),t=AI("useRouteError"),e=uy("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function CI(){let{router:n}=SI("useNavigate"),t=uy("useNavigate"),e=H.useRef(!1);return Nw(()=>{e.current=!0}),H.useCallback(async(r,o={})=>{Qn(e.current,kw),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var jb={};function Lw(n,t,e){!t&&!jb[n]&&(jb[n]=!0,Qn(!1,e))}H.memo(DI);function DI({routes:n,future:t,state:e}){return Pw(n,void 0,e,t)}function Hb({to:n,replace:t,state:e,relative:i}){fe(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=H.useContext(li);Qn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=H.useContext(ui),{pathname:u}=Rr(),h=ud(),f=ay(n,ry(o),u,i==="path"),g=JSON.stringify(f);return H.useEffect(()=>{h(JSON.parse(g),{replace:t,state:e,relative:i})},[h,g,i,t,e]),null}function OI(n){return yI(n.context)}function Oo(n){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MI({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){fe(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=H.useMemo(()=>({basename:u,navigator:r,static:o,future:{}}),[u,r,o]);typeof e=="string"&&(e=Ca(e));let{pathname:f="/",search:g="",hash:y="",state:v=null,key:b="default"}=e,w=H.useMemo(()=>{let A=_s(f,u);return A==null?null:{location:{pathname:A,search:g,hash:y,state:v,key:b},navigationType:i}},[u,f,g,y,v,b,i]);return Qn(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:H.createElement(li.Provider,{value:h},H.createElement(cc.Provider,{children:t,value:w}))}function kI({children:n,location:t}){return _I(_p(n),t)}function _p(n,t=[]){let e=[];return H.Children.forEach(n,(i,r)=>{if(!H.isValidElement(i))return;let o=[...t,r];if(i.type===H.Fragment){e.push.apply(e,_p(i.props.children,o));return}fe(i.type===Oo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=_p(i.props.children,o)),e.push(u)}),e}var mf="get",pf="application/x-www-form-urlencoded";function cd(n){return n!=null&&typeof n.tagName=="string"}function NI(n){return cd(n)&&n.tagName.toLowerCase()==="button"}function PI(n){return cd(n)&&n.tagName.toLowerCase()==="form"}function LI(n){return cd(n)&&n.tagName.toLowerCase()==="input"}function VI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UI(n,t){return n.button===0&&(!t||t==="_self")&&!VI(n)}var Kh=null;function zI(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var BI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(n){return n!=null&&!BI.has(n)?(Qn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):n}function jI(n,t){let e,i,r,o,u;if(PI(n)){let h=n.getAttribute("action");i=h?_s(h,t):null,e=n.getAttribute("method")||mf,r=Qm(n.getAttribute("enctype"))||pf,o=new FormData(n)}else if(NI(n)||LI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?_s(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||mf,r=Qm(n.getAttribute("formenctype"))||Qm(h.getAttribute("enctype"))||pf,o=new FormData(h,n),!zI()){let{name:g,type:y,value:v}=n;if(y==="image"){let b=g?`${g}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else g&&o.append(g,v)}}else{if(cd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=mf,i=null,r=pf,u=n}return o&&r==="text/plain"&&(u=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:u}}function cy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function HI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function qI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let u=await HI(o,e);return u.links?u.links():[]}return[]}));return KI(i.flat(1).filter(FI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Fb(n,t,e,i,r,o){let u=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>{var y;return e[g].pathname!==f.pathname||((y=e[g].route.path)==null?void 0:y.endsWith("*"))&&e[g].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,g)=>u(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{var v;let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function GI(n,t,{includeHydrateFallback:e}={}){return $I(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function $I(n){return[...new Set(n)]}function YI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function KI(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(YI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}var QI=new Set([100,101,204,205]);function WI(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&_s(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Vw(){let n=H.useContext(tl);return cy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function XI(){let n=H.useContext(ld);return cy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hy=H.createContext(void 0);hy.displayName="FrameworkContext";function Uw(){let n=H.useContext(hy);return cy(n,"You must render this element inside a <HydratedRouter> element"),n}function ZI(n,t){let e=H.useContext(hy),[i,r]=H.useState(!1),[o,u]=H.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,b=H.useRef(null);H.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let C=M=>{M.forEach(U=>{u(U.isIntersecting)})},I=new IntersectionObserver(C,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[n]),H.useEffect(()=>{if(i){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[i]);let w=()=>{r(!0)},A=()=>{r(!1),u(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Tu(h,w),onBlur:Tu(f,A),onMouseEnter:Tu(g,w),onMouseLeave:Tu(y,A),onTouchStart:Tu(v,w)}]:[!1,b,{}]}function Tu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function JI({page:n,...t}){let{router:e}=Vw(),i=H.useMemo(()=>Iw(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?H.createElement(eC,{page:n,matches:i,...t}):null}function tC(n){let{manifest:t,routeModules:e}=Uw(),[i,r]=H.useState([]);return H.useEffect(()=>{let o=!1;return qI(n,t,e).then(u=>{o||r(u)}),()=>{o=!0}},[n,t,e]),i}function eC({page:n,matches:t,...e}){let i=Rr(),{manifest:r,routeModules:o}=Uw(),{basename:u}=Vw(),{loaderData:h,matches:f}=XI(),g=H.useMemo(()=>Fb(n,t,f,r,i,"data"),[n,t,f,r,i]),y=H.useMemo(()=>Fb(n,t,f,r,i,"assets"),[n,t,f,r,i]),v=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,C=!1;if(t.forEach(M=>{var V;let U=r.routes[M.route.id];!U||!U.hasLoader||(!g.some($=>$.route.id===M.route.id)&&M.route.id in h&&((V=o[M.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?C=!0:A.add(M.route.id))}),A.size===0)return[];let I=WI(n,u);return C&&A.size>0&&I.searchParams.set("_routes",t.filter(M=>A.has(M.route.id)).map(M=>M.route.id).join(",")),[I.pathname+I.search]},[u,h,i,r,g,t,n,o]),b=H.useMemo(()=>GI(y,r),[y,r]),w=tC(y);return H.createElement(H.Fragment,null,v.map(A=>H.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>H.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),w.map(({key:A,link:C})=>H.createElement("link",{key:A,...C})))}function nC(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zw&&(window.__reactRouterVersion="7.5.3")}catch{}function iC({basename:n,children:t,window:e}){let i=H.useRef();i.current==null&&(i.current=HR({window:e,v5Compat:!0}));let r=i.current,[o,u]=H.useState({action:r.action,location:r.location}),h=H.useCallback(f=>{H.startTransition(()=>u(f))},[u]);return H.useLayoutEffect(()=>r.listen(h),[r,h]),H.createElement(MI,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jw=H.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:u,state:h,target:f,to:g,preventScrollReset:y,viewTransition:v,...b},w){let{basename:A}=H.useContext(li),C=typeof g=="string"&&Bw.test(g),I,M=!1;if(typeof g=="string"&&C&&(I=g,zw))try{let D=new URL(window.location.href),N=g.startsWith("//")?new URL(D.protocol+g):new URL(g),L=_s(N.pathname,A);N.origin===D.origin&&L!=null?g=L+N.search+N.hash:M=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=gI(g,{relative:r}),[V,$,X]=ZI(i,b),ot=aC(g,{replace:u,state:h,target:f,preventScrollReset:y,relative:r,viewTransition:v});function O(D){t&&t(D),D.defaultPrevented||ot(D)}let R=H.createElement("a",{...b,...X,href:I||U,onClick:M||o?t:O,ref:nC(w,$),target:f,"data-discover":!C&&e==="render"?"true":void 0});return V&&!C?H.createElement(H.Fragment,null,R,H.createElement(JI,{page:U})):R});jw.displayName="Link";var yf=H.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:u,viewTransition:h,children:f,...g},y){let v=hc(u,{relative:g.relative}),b=Rr(),w=H.useContext(ld),{navigator:A,basename:C}=H.useContext(li),I=w!=null&&hC(v)&&h===!0,M=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,U=b.pathname,V=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(U=U.toLowerCase(),V=V?V.toLowerCase():null,M=M.toLowerCase()),V&&C&&(V=_s(V,C)||V);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let X=U===M||!r&&U.startsWith(M)&&U.charAt($)==="/",ot=V!=null&&(V===M||!r&&V.startsWith(M)&&V.charAt(M.length)==="/"),O={isActive:X,isPending:ot,isTransitioning:I},R=X?t:void 0,D;typeof i=="function"?D=i(O):D=[i,X?"active":null,ot?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(O):o;return H.createElement(jw,{...g,"aria-current":R,className:D,ref:y,style:N,to:u,viewTransition:h},typeof f=="function"?f(O):f)});yf.displayName="NavLink";var sC=H.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:u=mf,action:h,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:v,...b},w)=>{let A=uC(),C=cC(h,{relative:g}),I=u.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&Bw.test(h),U=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,X=($==null?void 0:$.getAttribute("formmethod"))||u;A($||V.currentTarget,{fetcherKey:t,method:X,navigate:e,replace:r,state:o,relative:g,preventScrollReset:y,viewTransition:v})};return H.createElement("form",{ref:w,method:I,action:C,onSubmit:i?f:U,...b,"data-discover":!M&&n==="render"?"true":void 0})});sC.displayName="Form";function rC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(n){let t=H.useContext(tl);return fe(t,rC(n)),t}function aC(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:u}={}){let h=ud(),f=Rr(),g=hc(n,{relative:o});return H.useCallback(y=>{if(UI(y,t)){y.preventDefault();let v=e!==void 0?e:Wu(f)===Wu(g);h(n,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:u})}},[f,h,g,e,i,t,n,r,o,u])}var oC=0,lC=()=>`__${String(++oC)}__`;function uC(){let{router:n}=Hw("useSubmit"),{basename:t}=H.useContext(li),e=RI();return H.useCallback(async(i,r={})=>{let{action:o,method:u,encType:h,formData:f,body:g}=jI(i,t);if(r.navigate===!1){let y=r.fetcherKey||lC();await n.fetch(y,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function cC(n,{relative:t}={}){let{basename:e}=H.useContext(li),i=H.useContext(ui);fe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...hc(n||".",{relative:t})},u=Rr();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ms([e,o.pathname])),Wu(o)}function hC(n,t={}){let e=H.useContext(Mw);fe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Hw("useViewTransitionState"),r=hc(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=_s(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=_s(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Of(r.pathname,u)!=null||Of(r.pathname,o)!=null}new TextEncoder;[...QI];function Fw(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=Fw(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function va(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=Fw(n))&&(i&&(i+=" "),i+=t);return i}function fC(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}fC(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var fc=n=>typeof n=="number"&&!isNaN(n),Ta=n=>typeof n=="string",vs=n=>typeof n=="function",dC=n=>Ta(n)||fc(n),vp=n=>Ta(n)||vs(n)?n:null,gC=(n,t)=>n===!1||fc(n)&&n>0?n:t,bp=n=>H.isValidElement(n)||Ta(n)||vs(n)||fc(n);function mC(n,t,e=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${e}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,e)})})}function pC({enter:n,exit:t,appendPosition:e=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:o,position:u,preventExitTransition:h,done:f,nodeRef:g,isIn:y,playToast:v}){let b=e?`${n}--${u}`:n,w=e?`${t}--${u}`:t,A=H.useRef(0);return H.useLayoutEffect(()=>{let C=g.current,I=b.split(" "),M=U=>{U.target===g.current&&(v(),C.removeEventListener("animationend",M),C.removeEventListener("animationcancel",M),A.current===0&&U.type!=="animationcancel"&&C.classList.remove(...I))};C.classList.add(...I),C.addEventListener("animationend",M),C.addEventListener("animationcancel",M)},[]),H.useEffect(()=>{let C=g.current,I=()=>{C.removeEventListener("animationend",I),i?mC(C,f,r):f()};y||(h?I():(A.current=1,C.className+=` ${w}`,C.addEventListener("animationend",I)))},[y]),re.createElement(re.Fragment,null,o)}}function qb(n,t){return{content:qw(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function qw(n,t,e=!1){return H.isValidElement(n)&&!Ta(n.type)?H.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):vs(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):n}function yC({closeToast:n,theme:t,ariaLabel:e="close"}){return re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":e},re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _C({delay:n,isRunning:t,closeToast:e,type:i="default",hide:r,className:o,controlledProgress:u,progress:h,rtl:f,isIn:g,theme:y}){let v=r||u&&h===0,b={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};u&&(b.transform=`scaleX(${h})`);let w=va("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),A=vs(o)?o({rtl:f,type:i,defaultClassName:w}):va(w,o),C={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{g&&e()}};return re.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},re.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),re.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:A,style:b,...C}))}var vC=1,Gw=()=>`${vC++}`;function bC(n,t,e){let i=1,r=0,o=[],u=[],h=t,f=new Map,g=new Set,y=U=>(g.add(U),()=>g.delete(U)),v=()=>{u=Array.from(f.values()),g.forEach(U=>U())},b=({containerId:U,toastId:V,updateId:$})=>{let X=U?U!==n:n!==1,ot=f.has(V)&&$==null;return X||ot},w=(U,V)=>{f.forEach($=>{var X;(V==null||V===$.props.toastId)&&((X=$.toggle)==null||X.call($,U))})},A=U=>{var V,$;($=(V=U.props)==null?void 0:V.onClose)==null||$.call(V,U.removalReason),U.isActive=!1},C=U=>{if(U==null)f.forEach(A);else{let V=f.get(U);V&&A(V)}v()},I=()=>{r-=o.length,o=[]},M=U=>{var V,$;let{toastId:X,updateId:ot}=U.props,O=ot==null;U.staleId&&f.delete(U.staleId),U.isActive=!0,f.set(X,U),v(),e(qb(U,O?"added":"updated")),O&&(($=(V=U.props).onOpen)==null||$.call(V))};return{id:n,props:h,observe:y,toggle:w,removeToast:C,toasts:f,clearQueue:I,buildToast:(U,V)=>{if(b(V))return;let{toastId:$,updateId:X,data:ot,staleId:O,delay:R}=V,D=X==null;D&&r++;let N={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(V).filter(([z,k])=>k!=null)),toastId:$,updateId:X,data:ot,isIn:!1,className:vp(V.className||h.toastClassName),progressClassName:vp(V.progressClassName||h.progressClassName),autoClose:V.isLoading?!1:gC(V.autoClose,h.autoClose),closeToast(z){f.get($).removalReason=z,C($)},deleteToast(){let z=f.get($);if(z!=null){if(e(qb(z,"removed")),f.delete($),r--,r<0&&(r=0),o.length>0){M(o.shift());return}v()}}};N.closeButton=h.closeButton,V.closeButton===!1||bp(V.closeButton)?N.closeButton=V.closeButton:V.closeButton===!0&&(N.closeButton=bp(h.closeButton)?h.closeButton:!0);let L={content:U,props:N,staleId:O};h.limit&&h.limit>0&&r>h.limit&&D?o.push(L):fc(R)?setTimeout(()=>{M(L)},R):M(L)},setProps(U){h=U},setToggle:(U,V)=>{let $=f.get(U);$&&($.toggle=V)},isToastActive:U=>{var V;return(V=f.get(U))==null?void 0:V.isActive},getSnapshot:()=>u}}var mn=new Map,Xu=[],Tp=new Set,TC=n=>Tp.forEach(t=>t(n)),$w=()=>mn.size>0;function EC(){Xu.forEach(n=>Kw(n.content,n.options)),Xu=[]}var wC=(n,{containerId:t})=>{var e;return(e=mn.get(t||1))==null?void 0:e.toasts.get(n)};function Yw(n,t){var e;if(t)return!!((e=mn.get(t))!=null&&e.isToastActive(n));let i=!1;return mn.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function SC(n){if(!$w()){Xu=Xu.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||dC(n))mn.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=mn.get(n.containerId);t?t.removeToast(n.id):mn.forEach(e=>{e.removeToast(n.id)})}}var AC=(n={})=>{mn.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function Kw(n,t){bp(n)&&($w()||Xu.push({content:n,options:t}),mn.forEach(e=>{e.buildToast(n,t)}))}function xC(n){var t;(t=mn.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function Qw(n,t){mn.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(n,t==null?void 0:t.id)})}function RC(n){let t=n.containerId||1;return{subscribe(e){let i=bC(t,n,TC);mn.set(t,i);let r=i.observe(e);return EC(),()=>{r(),mn.delete(t)}},setProps(e){var i;(i=mn.get(t))==null||i.setProps(e)},getSnapshot(){var e;return(e=mn.get(t))==null?void 0:e.getSnapshot()}}}function IC(n){return Tp.add(n),()=>{Tp.delete(n)}}function CC(n){return n&&(Ta(n.toastId)||fc(n.toastId))?n.toastId:Gw()}function dc(n,t){return Kw(n,t),t.toastId}function hd(n,t){return{...t,type:t&&t.type||n,toastId:CC(t)}}function fd(n){return(t,e)=>dc(t,hd(n,e))}function Lt(n,t){return dc(n,hd("default",t))}Lt.loading=(n,t)=>dc(n,hd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function DC(n,{pending:t,error:e,success:i},r){let o;t&&(o=Ta(t)?Lt.loading(t,r):Lt.loading(t.render,{...r,...t}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(g,y,v)=>{if(y==null){Lt.dismiss(o);return}let b={type:g,...u,...r,data:v},w=Ta(y)?{render:y}:y;return o?Lt.update(o,{...b,...w}):Lt(w.render,{...b,...w}),v},f=vs(n)?n():n;return f.then(g=>h("success",i,g)).catch(g=>h("error",e,g)),f}Lt.promise=DC;Lt.success=fd("success");Lt.info=fd("info");Lt.error=fd("error");Lt.warning=fd("warning");Lt.warn=Lt.warning;Lt.dark=(n,t)=>dc(n,hd("default",{theme:"dark",...t}));function OC(n){SC(n)}Lt.dismiss=OC;Lt.clearWaitingQueue=AC;Lt.isActive=Yw;Lt.update=(n,t={})=>{let e=wC(n,t);if(e){let{props:i,content:r}=e,o={delay:100,...i,...t,toastId:t.toastId||n,updateId:Gw()};o.toastId!==n&&(o.staleId=n);let u=o.render||r;delete o.render,dc(u,o)}};Lt.done=n=>{Lt.update(n,{progress:1})};Lt.onChange=IC;Lt.play=n=>Qw(!0,n);Lt.pause=n=>Qw(!1,n);function MC(n){var t;let{subscribe:e,getSnapshot:i,setProps:r}=H.useRef(RC(n)).current;r(n);let o=(t=H.useSyncExternalStore(e,i,i))==null?void 0:t.slice();function u(h){if(!o)return[];let f=new Map;return n.newestOnTop&&o.reverse(),o.forEach(g=>{let{position:y}=g.props;f.has(y)||f.set(y,[]),f.get(y).push(g)}),Array.from(f,g=>h(g[0],g[1]))}return{getToastToRender:u,isToastActive:Yw,count:o==null?void 0:o.length}}function kC(n){let[t,e]=H.useState(!1),[i,r]=H.useState(!1),o=H.useRef(null),u=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:g,onClick:y,closeOnClick:v}=n;xC({id:n.toastId,containerId:n.containerId,fn:e}),H.useEffect(()=>{if(n.pauseOnFocusLoss)return b(),()=>{w()}},[n.pauseOnFocusLoss]);function b(){document.hasFocus()||M(),window.addEventListener("focus",I),window.addEventListener("blur",M)}function w(){window.removeEventListener("focus",I),window.removeEventListener("blur",M)}function A(O){if(n.draggable===!0||n.draggable===O.pointerType){U();let R=o.current;u.canCloseOnClick=!0,u.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(u.start=O.clientX,u.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(u.start=O.clientY,u.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function C(O){let{top:R,bottom:D,left:N,right:L}=o.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&n.pauseOnHover&&O.clientX>=N&&O.clientX<=L&&O.clientY>=R&&O.clientY<=D?M():I()}function I(){e(!0)}function M(){e(!1)}function U(){u.didMove=!1,document.addEventListener("pointermove",$),document.addEventListener("pointerup",X)}function V(){document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",X)}function $(O){let R=o.current;if(u.canDrag&&R){u.didMove=!0,t&&M(),n.draggableDirection==="x"?u.delta=O.clientX-u.start:u.delta=O.clientY-u.start,u.start!==O.clientX&&(u.canCloseOnClick=!1);let D=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;R.style.transform=`translate3d(${D},0)`,R.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function X(){V();let O=o.current;if(u.canDrag&&u.didMove&&O){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let ot={onPointerDown:A,onPointerUp:C};return h&&f&&(ot.onMouseEnter=M,n.stacked||(ot.onMouseLeave=I)),v&&(ot.onClick=O=>{y&&y(O),u.canCloseOnClick&&g(!0)}),{playToast:I,pauseToast:M,isRunning:t,preventExitTransition:i,toastRef:o,eventHandlers:ot}}var NC=typeof window<"u"?H.useLayoutEffect:H.useEffect,dd=({theme:n,type:t,isLoading:e,...i})=>re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function PC(n){return re.createElement(dd,{...n},re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function LC(n){return re.createElement(dd,{...n},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function VC(n){return re.createElement(dd,{...n},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function UC(n){return re.createElement(dd,{...n},re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function zC(){return re.createElement("div",{className:"Toastify__spinner"})}var Ep={info:LC,warning:PC,success:VC,error:UC,spinner:zC},BC=n=>n in Ep;function jC({theme:n,type:t,isLoading:e,icon:i}){let r=null,o={theme:n,type:t};return i===!1||(vs(i)?r=i({...o,isLoading:e}):H.isValidElement(i)?r=H.cloneElement(i,o):e?r=Ep.spinner():BC(t)&&(r=Ep[t](o))),r}var HC=n=>{let{isRunning:t,preventExitTransition:e,toastRef:i,eventHandlers:r,playToast:o}=kC(n),{closeButton:u,children:h,autoClose:f,onClick:g,type:y,hideProgressBar:v,closeToast:b,transition:w,position:A,className:C,style:I,progressClassName:M,updateId:U,role:V,progress:$,rtl:X,toastId:ot,deleteToast:O,isIn:R,isLoading:D,closeOnClick:N,theme:L,ariaLabel:z}=n,k=va("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":X},{"Toastify__toast--close-on-click":N}),Ft=vs(C)?C({rtl:X,position:A,type:y,defaultClassName:k}):va(k,C),yt=jC(n),Q=!!$||!f,at={closeToast:b,type:y,theme:L},ht=null;return u===!1||(vs(u)?ht=u(at):H.isValidElement(u)?ht=H.cloneElement(u,at):ht=yC(at)),re.createElement(w,{isIn:R,done:O,position:A,preventExitTransition:e,nodeRef:i,playToast:o},re.createElement("div",{id:ot,tabIndex:0,onClick:g,"data-in":R,className:Ft,...r,style:I,ref:i,...R&&{role:V,"aria-label":z}},yt!=null&&re.createElement("div",{className:va("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},yt),qw(h,n,!t),ht,!n.customProgressBar&&re.createElement(_C,{...U&&!Q?{key:`p-${U}`}:{},rtl:X,theme:L,delay:f,isRunning:t,isIn:R,closeToast:b,hide:v,type:y,className:M,controlledProgress:Q,progress:$||0})))},FC=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),qC=pC(FC("bounce",!0)),GC={position:"top-right",transition:qC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function $C(n){let t={...GC,...n},e=n.stacked,[i,r]=H.useState(!0),o=H.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=MC(t),{className:g,style:y,rtl:v,containerId:b,hotKeys:w}=t;function A(I){let M=va("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":v});return vs(g)?g({position:I,rtl:v,defaultClassName:M}):va(M,vp(g))}function C(){e&&(r(!0),Lt.play())}return NC(()=>{var I;if(e){let M=o.current.querySelectorAll('[data-in="true"]'),U=12,V=(I=t.position)==null?void 0:I.includes("top"),$=0,X=0;Array.from(M).reverse().forEach((ot,O)=>{let R=ot;R.classList.add("Toastify__toast--stacked"),O>0&&(R.dataset.collapsed=`${i}`),R.dataset.pos||(R.dataset.pos=V?"top":"bot");let D=$*(i?.2:1)+(i?0:U*O);R.style.setProperty("--y",`${V?D:D*-1}px`),R.style.setProperty("--g",`${U}`),R.style.setProperty("--s",`${1-(i?X:0)}`),$+=R.offsetHeight,X+=.025})}},[i,f,e]),H.useEffect(()=>{function I(M){var U;let V=o.current;w(M)&&((U=V.querySelector('[tabIndex="0"]'))==null||U.focus(),r(!1),Lt.pause()),M.key==="Escape"&&(document.activeElement===V||V!=null&&V.contains(document.activeElement))&&(r(!0),Lt.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[w]),re.createElement("section",{ref:o,className:"Toastify",id:b,onMouseEnter:()=>{e&&(r(!1),Lt.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},u((I,M)=>{let U=M.length?{...y}:{...y,pointerEvents:"none"};return re.createElement("div",{tabIndex:-1,className:A(I),"data-stacked":e,style:U,key:`c-${I}`},M.map(({content:V,props:$})=>re.createElement(HC,{...$,stacked:e,collapseAll:C,isIn:h($.toastId,$.containerId),key:`t-${$.key}`},V)))}))}function YC({title:n,titleId:t,...e},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?H.createElement("title",{id:t},n):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const KC=H.forwardRef(YC);function QC({title:n,titleId:t,...e},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?H.createElement("title",{id:t},n):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const WC=H.forwardRef(QC);function XC({title:n,titleId:t,...e},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?H.createElement("title",{id:t},n):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const ZC=H.forwardRef(XC);function JC({title:n,titleId:t,...e},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?H.createElement("title",{id:t},n):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const t2=H.forwardRef(JC);function e2({title:n,titleId:t,...e},i){return H.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?H.createElement("title",{id:t},n):null,H.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const n2=H.forwardRef(e2),i2=({user:n,onLogout:t,closeMobileMenu:e})=>J.jsxs("div",{className:"flex flex-col w-64 h-full bg-gray-800",children:[J.jsxs("div",{className:"h-0 flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[J.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:J.jsx("h1",{className:"text-white text-xl font-bold",children:"Admin Portal"})}),J.jsxs("nav",{className:"mt-5 flex-1 px-2 space-y-1",children:[J.jsxs(yf,{to:"/",onClick:e,className:({isActive:i})=>`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${i?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[J.jsx(WC,{className:"mr-3 h-5 w-5"}),"Bookings"]}),J.jsxs(yf,{to:"/dashboard",end:!0,onClick:e,className:({isActive:i})=>`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${i?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[J.jsx(t2,{className:"mr-3 h-5 w-5"}),"Dashboard"]}),J.jsxs(yf,{to:"/settings",onClick:e,className:({isActive:i})=>`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${i?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[J.jsx(ZC,{className:"mr-3 h-5 w-5"}),"Settings"]})]})]}),J.jsx("div",{className:"flex-shrink-0 flex bg-gray-700 p-4",children:J.jsx("div",{className:"flex items-center",children:J.jsxs("div",{className:"ml-3",children:[J.jsx("p",{className:"text-sm font-medium text-white",children:n==null?void 0:n.email}),J.jsx("button",{onClick:t,className:"text-xs font-medium text-gray-300 hover:text-white",children:"Sign out"})]})})})]}),s2=()=>{};var Gb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},r2=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],u=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|u&63)}}return t.join("")},Xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],u=r+1<n.length,h=u?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|g>>6,w=g&63;f||(w=64,u||(b=64)),i.push(e[y],e[v],e[b],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Ww(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):r2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||v==null)throw new a2;const b=o<<2|h>>4;if(i.push(b),g!==64){const w=h<<4&240|g>>2;if(i.push(w),v!==64){const A=g<<6&192|v;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class a2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o2=function(n){const t=Ww(n);return Xw.encodeByteArray(t,!0)},Mf=function(n){return o2(n).replace(/\./g,"")},Zw=function(n){try{return Xw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=()=>l2().__FIREBASE_DEFAULTS__,c2=()=>{if(typeof process>"u"||typeof Gb>"u")return;const n=Gb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},h2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Zw(n[1]);return t&&JSON.parse(t)},gd=()=>{try{return s2()||u2()||c2()||h2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Jw=n=>{var t,e;return(e=(t=gd())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},f2=n=>{const t=Jw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},tS=()=>{var n;return(n=gd())===null||n===void 0?void 0:n.config},eS=n=>{var t;return(t=gd())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mf(JSON.stringify(e)),Mf(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function p2(){var n;const t=(n=gd())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function v2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function T2(){return!p2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E2(){try{return typeof indexedDB=="object"}catch{return!1}}function w2(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="FirebaseError";class As extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=S2,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],u=o?A2(o,i):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new As(r,h,i)}}function A2(n,t){return n.replace(x2,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const x2=/\{\$([^}]+)}/g;function R2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ea(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],u=t[r];if($b(o)&&$b(u)){if(!Ea(o,u))return!1}else if(o!==u)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function $b(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Ru(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Iu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function I2(n,t){const e=new C2(n,t);return e.subscribe.bind(e)}class C2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");D2(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Wm),r.error===void 0&&(r.error=Wm),r.complete===void 0&&(r.complete=Wm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D2(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class wa{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new d2;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(k2(t))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ma){return this.instances.has(t)}getOptions(t=ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:M2(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ma){return this.component?this.component.multipleInstances?t:ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M2(n){return n===ma?void 0:n}function k2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new O2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const P2={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},L2=Vt.INFO,V2={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},U2=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=V2[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fy{constructor(t){this.name=t,this._logLevel=L2,this._logHandler=U2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?P2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const z2=(n,t)=>t.some(e=>n instanceof e);let Yb,Kb;function B2(){return Yb||(Yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j2(){return Kb||(Kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,wp=new WeakMap,iS=new WeakMap,Xm=new WeakMap,dy=new WeakMap;function H2(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(fr(n.result)),r()},u=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&nS.set(e,n)}).catch(()=>{}),dy.set(t,n),t}function F2(n){if(wp.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),r()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});wp.set(n,t)}let Sp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return wp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||iS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return fr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function q2(n){Sp=n(Sp)}function G2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Zm(this),t,...e);return iS.set(i,t.sort?t.sort():[t]),fr(i)}:j2().includes(n)?function(...t){return n.apply(Zm(this),t),fr(nS.get(this))}:function(...t){return fr(n.apply(Zm(this),t))}}function $2(n){return typeof n=="function"?G2(n):(n instanceof IDBTransaction&&F2(n),z2(n,B2())?new Proxy(n,Sp):n)}function fr(n){if(n instanceof IDBRequest)return H2(n);if(Xm.has(n))return Xm.get(n);const t=$2(n);return t!==n&&(Xm.set(n,t),dy.set(t,n)),t}const Zm=n=>dy.get(n);function Y2(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const u=indexedDB.open(n,t),h=fr(u);return i&&u.addEventListener("upgradeneeded",f=>{i(fr(u.result),f.oldVersion,f.newVersion,fr(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const K2=["get","getKey","getAll","getAllKeys","count"],Q2=["put","add","delete","clear"],Jm=new Map;function Qb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Jm.get(t))return Jm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Q2.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||K2.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,r?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return Jm.set(t,o),o}q2(n=>({...n,get:(t,e,i)=>Qb(t,e)||n.get(t,e,i),has:(t,e)=>!!Qb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(X2(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function X2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ap="@firebase/app",Wb="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new fy("@firebase/app"),Z2="@firebase/app-compat",J2="@firebase/analytics-compat",tD="@firebase/analytics",eD="@firebase/app-check-compat",nD="@firebase/app-check",iD="@firebase/auth",sD="@firebase/auth-compat",rD="@firebase/database",aD="@firebase/data-connect",oD="@firebase/database-compat",lD="@firebase/functions",uD="@firebase/functions-compat",cD="@firebase/installations",hD="@firebase/installations-compat",fD="@firebase/messaging",dD="@firebase/messaging-compat",gD="@firebase/performance",mD="@firebase/performance-compat",pD="@firebase/remote-config",yD="@firebase/remote-config-compat",_D="@firebase/storage",vD="@firebase/storage-compat",bD="@firebase/firestore",TD="@firebase/vertexai",ED="@firebase/firestore-compat",wD="firebase",SD="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",AD={[Ap]:"fire-core",[Z2]:"fire-core-compat",[tD]:"fire-analytics",[J2]:"fire-analytics-compat",[nD]:"fire-app-check",[eD]:"fire-app-check-compat",[iD]:"fire-auth",[sD]:"fire-auth-compat",[rD]:"fire-rtdb",[aD]:"fire-data-connect",[oD]:"fire-rtdb-compat",[lD]:"fire-fn",[uD]:"fire-fn-compat",[cD]:"fire-iid",[hD]:"fire-iid-compat",[fD]:"fire-fcm",[dD]:"fire-fcm-compat",[gD]:"fire-perf",[mD]:"fire-perf-compat",[pD]:"fire-rc",[yD]:"fire-rc-compat",[_D]:"fire-gcs",[vD]:"fire-gcs-compat",[bD]:"fire-fst",[ED]:"fire-fst-compat",[TD]:"fire-vertex","fire-js":"fire-js",[wD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=new Map,xD=new Map,Rp=new Map;function Xb(n,t){try{n.container.addComponent(t)}catch(e){bs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ho(n){const t=n.name;if(Rp.has(t))return bs.debug(`There were multiple attempts to register component ${t}.`),!1;Rp.set(t,n);for(const e of kf.values())Xb(e,n);for(const e of xD.values())Xb(e,n);return!0}function gy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new gc("app","Firebase",RD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=SD;function sS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:xp,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw dr.create("bad-app-name",{appName:String(r)});if(e||(e=tS()),!e)throw dr.create("no-options");const o=kf.get(r);if(o){if(Ea(e,o.options)&&Ea(i,o.config))return o;throw dr.create("duplicate-app",{appName:r})}const u=new N2(r);for(const f of Rp.values())u.addComponent(f);const h=new ID(e,i,u);return kf.set(r,h),h}function rS(n=xp){const t=kf.get(n);if(!t&&n===xp&&tS())return sS();if(!t)throw dr.create("no-app",{appName:n});return t}function gr(n,t,e){var i;let r=(i=AD[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bs.warn(h.join(" "));return}Ho(new wa(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="firebase-heartbeat-database",DD=1,Zu="firebase-heartbeat-store";let tp=null;function aS(){return tp||(tp=Y2(CD,DD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Zu)}catch(e){console.warn(e)}}}}).catch(n=>{throw dr.create("idb-open",{originalErrorMessage:n.message})})),tp}async function OD(n){try{const e=(await aS()).transaction(Zu),i=await e.objectStore(Zu).get(oS(n));return await e.done,i}catch(t){if(t instanceof As)bs.warn(t.message);else{const e=dr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});bs.warn(e.message)}}}async function Zb(n,t){try{const i=(await aS()).transaction(Zu,"readwrite");await i.objectStore(Zu).put(t,oS(n)),await i.done}catch(e){if(e instanceof As)bs.warn(e.message);else{const i=dr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});bs.warn(i.message)}}}function oS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1024,kD=30;class ND{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new LD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Jb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>kD){const u=VD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bs.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jb(),{heartbeatsToSend:i,unsentEntries:r}=PD(this._heartbeatsCache.heartbeats),o=Mf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bs.warn(e),""}}}function Jb(){return new Date().toISOString().substring(0,10)}function PD(n,t=MD){const e=[];let i=n.slice();for(const r of n){const o=e.find(u=>u.agent===r.agent);if(o){if(o.dates.push(r.date),tT(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),tT(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class LD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E2()?w2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await OD(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Zb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Zb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function tT(n){return Mf(JSON.stringify({version:2,heartbeats:n})).length}function VD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){Ho(new wa("platform-logger",t=>new W2(t),"PRIVATE")),Ho(new wa("heartbeat",t=>new ND(t),"PRIVATE")),gr(Ap,Wb,n),gr(Ap,Wb,"esm2017"),gr("fire-js","")}UD("");var zD="firebase",BD="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(zD,BD,"app");var eT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,lS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function D(){}D.prototype=R.prototype,O.D=R.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(N,L,z){for(var k=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)k[Ft-2]=arguments[Ft];return R.prototype[L].apply(N,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,R,D){D||(D=0);var N=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)N[L]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(L=0;16>L;++L)N[L]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=O.g[0],D=O.g[1],L=O.g[2];var z=O.g[3],k=R+(z^D&(L^z))+N[0]+3614090360&4294967295;R=D+(k<<7&4294967295|k>>>25),k=z+(L^R&(D^L))+N[1]+3905402710&4294967295,z=R+(k<<12&4294967295|k>>>20),k=L+(D^z&(R^D))+N[2]+606105819&4294967295,L=z+(k<<17&4294967295|k>>>15),k=D+(R^L&(z^R))+N[3]+3250441966&4294967295,D=L+(k<<22&4294967295|k>>>10),k=R+(z^D&(L^z))+N[4]+4118548399&4294967295,R=D+(k<<7&4294967295|k>>>25),k=z+(L^R&(D^L))+N[5]+1200080426&4294967295,z=R+(k<<12&4294967295|k>>>20),k=L+(D^z&(R^D))+N[6]+2821735955&4294967295,L=z+(k<<17&4294967295|k>>>15),k=D+(R^L&(z^R))+N[7]+4249261313&4294967295,D=L+(k<<22&4294967295|k>>>10),k=R+(z^D&(L^z))+N[8]+1770035416&4294967295,R=D+(k<<7&4294967295|k>>>25),k=z+(L^R&(D^L))+N[9]+2336552879&4294967295,z=R+(k<<12&4294967295|k>>>20),k=L+(D^z&(R^D))+N[10]+4294925233&4294967295,L=z+(k<<17&4294967295|k>>>15),k=D+(R^L&(z^R))+N[11]+2304563134&4294967295,D=L+(k<<22&4294967295|k>>>10),k=R+(z^D&(L^z))+N[12]+1804603682&4294967295,R=D+(k<<7&4294967295|k>>>25),k=z+(L^R&(D^L))+N[13]+4254626195&4294967295,z=R+(k<<12&4294967295|k>>>20),k=L+(D^z&(R^D))+N[14]+2792965006&4294967295,L=z+(k<<17&4294967295|k>>>15),k=D+(R^L&(z^R))+N[15]+1236535329&4294967295,D=L+(k<<22&4294967295|k>>>10),k=R+(L^z&(D^L))+N[1]+4129170786&4294967295,R=D+(k<<5&4294967295|k>>>27),k=z+(D^L&(R^D))+N[6]+3225465664&4294967295,z=R+(k<<9&4294967295|k>>>23),k=L+(R^D&(z^R))+N[11]+643717713&4294967295,L=z+(k<<14&4294967295|k>>>18),k=D+(z^R&(L^z))+N[0]+3921069994&4294967295,D=L+(k<<20&4294967295|k>>>12),k=R+(L^z&(D^L))+N[5]+3593408605&4294967295,R=D+(k<<5&4294967295|k>>>27),k=z+(D^L&(R^D))+N[10]+38016083&4294967295,z=R+(k<<9&4294967295|k>>>23),k=L+(R^D&(z^R))+N[15]+3634488961&4294967295,L=z+(k<<14&4294967295|k>>>18),k=D+(z^R&(L^z))+N[4]+3889429448&4294967295,D=L+(k<<20&4294967295|k>>>12),k=R+(L^z&(D^L))+N[9]+568446438&4294967295,R=D+(k<<5&4294967295|k>>>27),k=z+(D^L&(R^D))+N[14]+3275163606&4294967295,z=R+(k<<9&4294967295|k>>>23),k=L+(R^D&(z^R))+N[3]+4107603335&4294967295,L=z+(k<<14&4294967295|k>>>18),k=D+(z^R&(L^z))+N[8]+1163531501&4294967295,D=L+(k<<20&4294967295|k>>>12),k=R+(L^z&(D^L))+N[13]+2850285829&4294967295,R=D+(k<<5&4294967295|k>>>27),k=z+(D^L&(R^D))+N[2]+4243563512&4294967295,z=R+(k<<9&4294967295|k>>>23),k=L+(R^D&(z^R))+N[7]+1735328473&4294967295,L=z+(k<<14&4294967295|k>>>18),k=D+(z^R&(L^z))+N[12]+2368359562&4294967295,D=L+(k<<20&4294967295|k>>>12),k=R+(D^L^z)+N[5]+4294588738&4294967295,R=D+(k<<4&4294967295|k>>>28),k=z+(R^D^L)+N[8]+2272392833&4294967295,z=R+(k<<11&4294967295|k>>>21),k=L+(z^R^D)+N[11]+1839030562&4294967295,L=z+(k<<16&4294967295|k>>>16),k=D+(L^z^R)+N[14]+4259657740&4294967295,D=L+(k<<23&4294967295|k>>>9),k=R+(D^L^z)+N[1]+2763975236&4294967295,R=D+(k<<4&4294967295|k>>>28),k=z+(R^D^L)+N[4]+1272893353&4294967295,z=R+(k<<11&4294967295|k>>>21),k=L+(z^R^D)+N[7]+4139469664&4294967295,L=z+(k<<16&4294967295|k>>>16),k=D+(L^z^R)+N[10]+3200236656&4294967295,D=L+(k<<23&4294967295|k>>>9),k=R+(D^L^z)+N[13]+681279174&4294967295,R=D+(k<<4&4294967295|k>>>28),k=z+(R^D^L)+N[0]+3936430074&4294967295,z=R+(k<<11&4294967295|k>>>21),k=L+(z^R^D)+N[3]+3572445317&4294967295,L=z+(k<<16&4294967295|k>>>16),k=D+(L^z^R)+N[6]+76029189&4294967295,D=L+(k<<23&4294967295|k>>>9),k=R+(D^L^z)+N[9]+3654602809&4294967295,R=D+(k<<4&4294967295|k>>>28),k=z+(R^D^L)+N[12]+3873151461&4294967295,z=R+(k<<11&4294967295|k>>>21),k=L+(z^R^D)+N[15]+530742520&4294967295,L=z+(k<<16&4294967295|k>>>16),k=D+(L^z^R)+N[2]+3299628645&4294967295,D=L+(k<<23&4294967295|k>>>9),k=R+(L^(D|~z))+N[0]+4096336452&4294967295,R=D+(k<<6&4294967295|k>>>26),k=z+(D^(R|~L))+N[7]+1126891415&4294967295,z=R+(k<<10&4294967295|k>>>22),k=L+(R^(z|~D))+N[14]+2878612391&4294967295,L=z+(k<<15&4294967295|k>>>17),k=D+(z^(L|~R))+N[5]+4237533241&4294967295,D=L+(k<<21&4294967295|k>>>11),k=R+(L^(D|~z))+N[12]+1700485571&4294967295,R=D+(k<<6&4294967295|k>>>26),k=z+(D^(R|~L))+N[3]+2399980690&4294967295,z=R+(k<<10&4294967295|k>>>22),k=L+(R^(z|~D))+N[10]+4293915773&4294967295,L=z+(k<<15&4294967295|k>>>17),k=D+(z^(L|~R))+N[1]+2240044497&4294967295,D=L+(k<<21&4294967295|k>>>11),k=R+(L^(D|~z))+N[8]+1873313359&4294967295,R=D+(k<<6&4294967295|k>>>26),k=z+(D^(R|~L))+N[15]+4264355552&4294967295,z=R+(k<<10&4294967295|k>>>22),k=L+(R^(z|~D))+N[6]+2734768916&4294967295,L=z+(k<<15&4294967295|k>>>17),k=D+(z^(L|~R))+N[13]+1309151649&4294967295,D=L+(k<<21&4294967295|k>>>11),k=R+(L^(D|~z))+N[4]+4149444226&4294967295,R=D+(k<<6&4294967295|k>>>26),k=z+(D^(R|~L))+N[11]+3174756917&4294967295,z=R+(k<<10&4294967295|k>>>22),k=L+(R^(z|~D))+N[2]+718787259&4294967295,L=z+(k<<15&4294967295|k>>>17),k=D+(z^(L|~R))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+z&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var D=R-this.blockSize,N=this.B,L=this.h,z=0;z<R;){if(L==0)for(;z<=D;)r(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(N[L++]=O.charCodeAt(z++),L==this.blockSize){r(this,N),L=0;break}}else for(;z<R;)if(N[L++]=O[z++],L==this.blockSize){r(this,N),L=0;break}}this.h=L,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var D=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=D&255,D/=256;for(this.u(O),O=Array(16),R=D=0;4>R;++R)for(var N=0;32>N;N+=8)O[D++]=this.g[R]>>>N&255;return O};function o(O,R){var D=h;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=R(O)}function u(O,R){this.h=R;for(var D=[],N=!0,L=O.length-1;0<=L;L--){var z=O[L]|0;N&&z==R||(D[L]=z,N=!1)}this.g=D}var h={};function f(O){return-128<=O&&128>O?o(O,function(R){return new u([R|0],0>R?-1:0)}):new u([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return I(g(-O));for(var R=[],D=1,N=0;O>=D;N++)R[N]=O/D|0,D*=4294967296;return new u(R,0)}function y(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return I(y(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(R,8)),N=v,L=0;L<O.length;L+=8){var z=Math.min(8,O.length-L),k=parseInt(O.substring(L,L+z),R);8>z?(z=g(Math.pow(R,z)),N=N.j(z).add(g(k))):(N=N.j(D),N=N.add(g(k)))}return N}var v=f(0),b=f(1),w=f(16777216);n=u.prototype,n.m=function(){if(C(this))return-I(this).m();for(var O=0,R=1,D=0;D<this.g.length;D++){var N=this.i(D);O+=(0<=N?N:4294967296+N)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(C(this))return"-"+I(this).toString(O);for(var R=g(Math.pow(O,6)),D=this,N="";;){var L=$(D,R).g;D=M(D,L.j(R));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=L,A(D))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function C(O){return O.h==-1}n.l=function(O){return O=M(this,O),C(O)?-1:A(O)?0:1};function I(O){for(var R=O.g.length,D=[],N=0;N<R;N++)D[N]=~O.g[N];return new u(D,~O.h).add(b)}n.abs=function(){return C(this)?I(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],N=0,L=0;L<=R;L++){var z=N+(this.i(L)&65535)+(O.i(L)&65535),k=(z>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);N=k>>>16,z&=65535,k&=65535,D[L]=k<<16|z}return new u(D,D[D.length-1]&-2147483648?-1:0)};function M(O,R){return O.add(I(R))}n.j=function(O){if(A(this)||A(O))return v;if(C(this))return C(O)?I(this).j(I(O)):I(I(this).j(O));if(C(O))return I(this.j(I(O)));if(0>this.l(w)&&0>O.l(w))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,D=[],N=0;N<2*R;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<O.g.length;L++){var z=this.i(N)>>>16,k=this.i(N)&65535,Ft=O.i(L)>>>16,yt=O.i(L)&65535;D[2*N+2*L]+=k*yt,U(D,2*N+2*L),D[2*N+2*L+1]+=z*yt,U(D,2*N+2*L+1),D[2*N+2*L+1]+=k*Ft,U(D,2*N+2*L+1),D[2*N+2*L+2]+=z*Ft,U(D,2*N+2*L+2)}for(N=0;N<R;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=R;N<2*R;N++)D[N]=0;return new u(D,0)};function U(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function V(O,R){this.g=O,this.h=R}function $(O,R){if(A(R))throw Error("division by zero");if(A(O))return new V(v,v);if(C(O))return R=$(I(O),R),new V(I(R.g),I(R.h));if(C(R))return R=$(O,I(R)),new V(I(R.g),R.h);if(30<O.g.length){if(C(O)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var D=b,N=R;0>=N.l(O);)D=X(D),N=X(N);var L=ot(D,1),z=ot(N,1);for(N=ot(N,2),D=ot(D,2);!A(N);){var k=z.add(N);0>=k.l(O)&&(L=L.add(D),z=k),N=ot(N,1),D=ot(D,1)}return R=M(O,L.j(R)),new V(L,R)}for(L=v;0<=O.l(R);){for(D=Math.max(1,Math.floor(O.m()/R.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=g(D),k=z.j(R);C(k)||0<k.l(O);)D-=N,z=g(D),k=z.j(R);A(z)&&(z=b),L=L.add(z),O=M(O,k)}return new V(L,O)}n.A=function(O){return $(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],N=0;N<R;N++)D[N]=this.i(N)&O.i(N);return new u(D,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],N=0;N<R;N++)D[N]=this.i(N)|O.i(N);return new u(D,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],N=0;N<R;N++)D[N]=this.i(N)^O.i(N);return new u(D,this.h^O.h)};function X(O){for(var R=O.g.length+1,D=[],N=0;N<R;N++)D[N]=O.i(N)<<1|O.i(N-1)>>>31;return new u(D,O.h)}function ot(O,R){var D=R>>5;R%=32;for(var N=O.g.length-D,L=[],z=0;z<N;z++)L[z]=0<R?O.i(z+D)>>>R|O.i(z+D+1)<<32-R:O.i(z+D);return new u(L,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,mr=u}).apply(typeof eT<"u"?eT:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uS,Cu,cS,_f,Ip,hS,fS,dS;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,T){return d==Array.prototype||d==Object.prototype||(d[_]=T.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(d,_){if(_)t:{var T=i;d=d.split(".");for(var x=0;x<d.length-1;x++){var q=d[x];if(!(q in T))break t;T=T[q]}d=d[d.length-1],x=T[d],_=_(x),_!=x&&_!=null&&t(T,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var T=0,x=!1,q={next:function(){if(!x&&T<d.length){var Z=T++;return{value:_(Z,d[Z]),done:!1}}return x=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}r("Array.prototype.values",function(d){return d||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,T){return d.call.apply(d.bind,arguments)}function v(d,_,T){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,x),d.apply(_,q)}}return function(){return d.apply(_,arguments)}}function b(d,_,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function w(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function A(d,_){function T(){}T.prototype=_.prototype,d.aa=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(x,q,Z){for(var ut=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)ut[zt-2]=arguments[zt];return _.prototype[q].apply(x,ut)}}function C(d){const _=d.length;if(0<_){const T=Array(_);for(let x=0;x<_;x++)T[x]=d[x];return T}return[]}function I(d,_){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(f(x)){const q=d.length||0,Z=x.length||0;d.length=q+Z;for(let ut=0;ut<Z;ut++)d[q+ut]=x[ut]}else d.push(x)}}class M{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var X=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function ot(d,_,T){for(const x in d)_.call(T,d[x],x,d)}function O(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function R(d){const _={};for(const T in d)_[T]=d[T];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,_){let T,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(T in x)d[T]=x[T];for(let Z=0;Z<D.length;Z++)T=D[Z],Object.prototype.hasOwnProperty.call(x,T)&&(d[T]=x[T])}}function L(d){var _=1;d=d.split(":");const T=[];for(;0<_&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function z(d){h.setTimeout(()=>{throw d},0)}function k(){var d=St;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Ft{constructor(){this.h=this.g=null}add(_,T){const x=yt.get();x.set(_,T),this.h?this.h.next=x:this.g=x,this.h=x}}var yt=new M(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ht=!1,St=new Ft,B=()=>{const d=h.Promise.resolve(void 0);at=()=>{d.then(st)}};var st=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(T){z(T)}var _=yt;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}ht=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};h.addEventListener("test",T,_),h.removeEventListener("test",T,_)}catch{}return d}();function It(d,_){if(lt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(X){t:{try{$(_.nodeName);var q=!0;break t}catch{}q=!1}q||(_=null)}}else T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement);this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:_t[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&It.aa.h.call(this)}}A(It,lt);var _t={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ae=0;function ci(d,_,T,x,q){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!x,this.ha=q,this.key=++ae,this.da=this.fa=!1}function Rs(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Li(d){this.src=d,this.g={},this.h=0}Li.prototype.add=function(d,_,T,x,q){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var ut=Cr(d,_,x,q);return-1<ut?(_=d[ut],T||(_.fa=!1)):(_=new ci(_,this.src,Z,!!x,q),_.fa=T,d.push(_)),_};function Ir(d,_){var T=_.type;if(T in d.g){var x=d.g[T],q=Array.prototype.indexOf.call(x,_,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(x,q,1),Z&&(Rs(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Cr(d,_,T,x){for(var q=0;q<d.length;++q){var Z=d[q];if(!Z.da&&Z.listener==_&&Z.capture==!!T&&Z.ha==x)return q}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),cl={};function Sc(d,_,T,x,q){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)Sc(d,_[Z],T,x,q);return null}return T=Ac(T),d&&d[Ue]?d.K(_,T,g(x)?!!x.capture:!1,q):Nn(d,_,T,!1,x,q)}function Nn(d,_,T,x,q,Z){if(!_)throw Error("Invalid event type");var ut=g(q)?!!q.capture:!!q,zt=Va(d);if(zt||(d[Dr]=zt=new Li(d)),T=zt.add(_,T,x,ut,Z),T.proxy)return T;if(x=Hd(),T.proxy=x,x.src=d,x.listener=T,d.addEventListener)mt||(q=ut),q===void 0&&(q=!1),d.addEventListener(_.toString(),x,q);else if(d.attachEvent)d.attachEvent(Or(_.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Hd(){function d(T){return _.call(d.src,d.listener,T)}const _=Fd;return d}function hl(d,_,T,x,q){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)hl(d,_[Z],T,x,q);else x=g(x)?!!x.capture:!!x,T=Ac(T),d&&d[Ue]?(d=d.i,_=String(_).toString(),_ in d.g&&(Z=d.g[_],T=Cr(Z,T,x,q),-1<T&&(Rs(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete d.g[_],d.h--)))):d&&(d=Va(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Cr(_,T,x,q)),(T=-1<d?_[d]:null)&&La(T))}function La(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Ue])Ir(_.i,d);else{var T=d.type,x=d.proxy;_.removeEventListener?_.removeEventListener(T,x,d.capture):_.detachEvent?_.detachEvent(Or(T),x):_.addListener&&_.removeListener&&_.removeListener(x),(T=Va(_))?(Ir(T,d),T.h==0&&(T.src=null,_[Dr]=null)):Rs(d)}}}function Or(d){return d in cl?cl[d]:cl[d]="on"+d}function Fd(d,_){if(d.da)d=!0;else{_=new It(_,this);var T=d.listener,x=d.ha||d.src;d.fa&&La(d),d=T.call(x,_)}return d}function Va(d){return d=d[Dr],d instanceof Li?d:null}var fl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ac(d){return typeof d=="function"?d:(d[fl]||(d[fl]=function(_){return d.handleEvent(_)}),d[fl])}function me(){ct.call(this),this.i=new Li(this),this.M=this,this.F=null}A(me,ct),me.prototype[Ue]=!0,me.prototype.removeEventListener=function(d,_,T,x){hl(this,d,_,T,x)};function Qt(d,_){var T,x=d.F;if(x)for(T=[];x;x=x.F)T.push(x);if(d=d.M,x=_.type||_,typeof _=="string")_=new lt(_,d);else if(_ instanceof lt)_.target=_.target||d;else{var q=_;_=new lt(x,d),N(_,q)}if(q=!0,T)for(var Z=T.length-1;0<=Z;Z--){var ut=_.g=T[Z];q=wn(ut,x,!0,_)&&q}if(ut=_.g=d,q=wn(ut,x,!0,_)&&q,q=wn(ut,x,!1,_)&&q,T)for(Z=0;Z<T.length;Z++)ut=_.g=T[Z],q=wn(ut,x,!1,_)&&q}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var T=d.g[_],x=0;x<T.length;x++)Rs(T[x]);delete d.g[_],d.h--}}this.F=null},me.prototype.K=function(d,_,T,x){return this.i.add(String(d),_,!1,T,x)},me.prototype.L=function(d,_,T,x){return this.i.add(String(d),_,!0,T,x)};function wn(d,_,T,x){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,Z=0;Z<_.length;++Z){var ut=_[Z];if(ut&&!ut.da&&ut.capture==T){var zt=ut.listener,Oe=ut.ha||ut.src;ut.fa&&Ir(d.i,ut),q=zt.call(Oe,x)!==!1&&q}}return q&&!x.defaultPrevented}function en(d,_,T){if(typeof d=="function")T&&(d=b(d,T));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(d,_||0)}function xc(d){d.g=en(()=>{d.g=null,d.i&&(d.i=!1,xc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class qd extends ct{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:xc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(d){ct.call(this),this.h=d,this.g={}}A(Mr,ct);var kr=[];function Nr(d){ot(d.g,function(_,T){this.g.hasOwnProperty(T)&&La(_)},d),d.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Nr(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=h.JSON.stringify,Ua=h.JSON.parse,Pr=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function dl(){}dl.prototype.h=null;function gl(d){return d.h||(d.h=d.i())}function ml(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){lt.call(this,"d")}A(Ui,lt);function pl(){lt.call(this,"c")}A(pl,lt);var hi={},yl=null;function Is(){return yl=yl||new me}hi.La="serverreachability";function za(d){lt.call(this,hi.La,d)}A(za,lt);function Cs(d){const _=Is();Qt(_,new za(_))}hi.STAT_EVENT="statevent";function Rc(d,_){lt.call(this,hi.STAT_EVENT,d),this.stat=_}A(Rc,lt);function ce(d){const _=Is();Qt(_,new Rc(_,d))}hi.Ma="timingevent";function De(d,_){lt.call(this,hi.Ma,d),this.size=_}A(De,lt);function we(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},_)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function _l(d,_,T,x,q,Z){d.info(function(){if(d.g)if(Z)for(var ut="",zt=Z.split("&"),Oe=0;Oe<zt.length;Oe++){var Bt=zt[Oe].split("=");if(1<Bt.length){var Be=Bt[0];Bt=Bt[1];var Me=Be.split("_");ut=2<=Me.length&&Me[1]=="type"?ut+(Be+"="+Bt+"&"):ut+(Be+"=redacted&")}}else ut=null;else ut=Z;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+_+`
`+T+`
`+ut})}function Gd(d,_,T,x,q,Z,ut){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+_+`
`+T+`
`+Z+" "+ut})}function Ds(d,_,T,x){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Lr(d,T)+(x?" "+x:"")})}function Ic(d,_){d.info(function(){return"TIMEOUT: "+_})}Pn.prototype.info=function(){};function Lr(d,_){if(!d.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var x=T[d];if(!(2>x.length)){var q=x[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ut=1;ut<q.length;ut++)q[ut]=""}}}}return Wn(T)}catch{return _}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function di(){}A(di,dl),di.prototype.g=function(){return new XMLHttpRequest},di.prototype.i=function(){return{}},fi=new di;function hn(d,_,T,x){this.j=d,this.i=_,this.l=T,this.R=x||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var vl={},Ba={};function Xn(d,_,T){d.L=1,d.v=jr(Sn(_)),d.m=T,d.P=!0,Bi(d,null)}function Bi(d,_){d.F=Date.now(),Vr(d),d.A=Sn(d.v);var T=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),Al(T.i,"t",x),d.C=0,T=d.j.J,d.h=new _e,d.g=qc(d.j,T?_:null,!d.m),0<d.O&&(d.M=new qd(b(d.Y,d,d.g),d.O)),_=d.U,T=d.g,x=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(kr[0]=q.toString()),q=kr);for(var Z=0;Z<q.length;Z++){var ut=Sc(T,q[Z],x||_.handleEvent,!1,_.h||_);if(!ut)break;_.g[ut.key]=ut}_=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Cs(),_l(d.i,d.u,d.A,d.l,d.R,d.m)}hn.prototype.ca=function(d){d=d.target;const _=this.M;_&&zn(d)==3?_.j():this.Y(d)},hn.prototype.Y=function(d){try{if(d==this.g)t:{const Me=zn(this.g);var _=this.g.Ba();const Ki=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||Lc(this.g)))){this.J||Me!=4||_==7||(_==8||0>=Ki?Cs(3):Cs(2)),Ms(this);var T=this.g.Z();this.X=T;e:if(Cc(this)){var x=Lc(this.g);d="";var q=x.length,Z=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),gi(this);var ut="";break e}this.h.i=new h.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,d+=this.h.i.decode(x[_],{stream:!(Z&&_==q-1)});x.length=0,this.h.g+=d,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=T==200,Gd(this.i,this.u,this.A,this.l,this.R,Me,T),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Oe=this.g;if((zt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(zt)){var Bt=zt;break e}}Bt=null}if(T=Bt)Ds(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,T);else{this.o=!1,this.s=3,ce(12),$e(this),gi(this);break t}}if(this.P){T=!0;let Ye;for(;!this.J&&this.C<ut.length;)if(Ye=Dc(this,ut),Ye==Ba){Me==4&&(this.s=4,ce(14),T=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==vl){this.s=4,ce(15),Ds(this.i,this.l,ut,"[Invalid Chunk]"),T=!1;break}else Ds(this.i,this.l,Ye,null),Ur(this,Ye);if(Cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||ut.length!=0||this.h.h||(this.s=1,ce(16),T=!1),this.o=this.o&&T,!T)Ds(this.i,this.l,ut,"[Invalid Chunked Response]"),$e(this),gi(this);else if(0<ut.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Qr(Be),Be.M=!0,ce(11))}}else Ds(this.i,this.l,ut,null),Ur(this,ut);Me==4&&$e(this),this.o&&!this.J&&(Me==4?jc(this.j,this):(this.o=!1,Vr(this)))}else Wd(this.g),T==400&&0<ut.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),$e(this),gi(this)}}}catch{}finally{}};function Cc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Dc(d,_){var T=d.C,x=_.indexOf(`
`,T);return x==-1?Ba:(T=Number(_.substring(T,x)),isNaN(T)?vl:(x+=1,x+T>_.length?Ba:(_=_.slice(x,x+T),d.C=x+T,_)))}hn.prototype.cancel=function(){this.J=!0,$e(this)};function Vr(d){d.S=Date.now()+d.I,Oc(d,d.I)}function Oc(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=we(b(d.ba,d),_)}function Ms(d){d.B&&(h.clearTimeout(d.B),d.B=null)}hn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ic(this.i,this.A),this.L!=2&&(Cs(),ce(17)),$e(this),this.s=2,gi(this)):Oc(this,this.S-d)};function gi(d){d.j.G==0||d.J||jc(d.j,d)}function $e(d){Ms(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Nr(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Ur(d,_){try{var T=d.j;if(T.G!=0&&(T.g==d||bl(T.h,d))){if(!d.K&&bl(T.h,d)&&T.G==3){try{var x=T.Da.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Za(T),Wa(T);else break t;Dl(T),ce(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=we(b(T.Za,T),6e3));if(1>=Ha(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Yi(T,11)}else if((d.K||T.g==d)&&Za(T),!U(_))for(q=T.Da.g.parse(_),_=0;_<q.length;_++){let Bt=q[_];if(T.T=Bt[0],Bt=Bt[1],T.G==2)if(Bt[0]=="c"){T.K=Bt[1],T.ia=Bt[2];const Be=Bt[3];Be!=null&&(T.la=Be,T.j.info("VER="+T.la));const Me=Bt[4];Me!=null&&(T.Aa=Me,T.j.info("SVER="+T.Aa));const Ki=Bt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(x=1.5*Ki,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Ye=d.g;if(Ye){const Ti=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var Z=x.h;Z.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Fa(Z,Z.h),Z.h=null))}if(x.D){const Ml=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(x.ya=Ml,te(x.I,x.D,Ml))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var ut=d;if(x.qa=Fc(x,x.J?x.ia:null,x.W),ut.K){fn(x.h,ut);var zt=ut,Oe=x.L;Oe&&(zt.I=Oe),zt.B&&(Ms(zt),Vr(zt)),x.g=ut}else zc(x);0<T.i.length&&Xa(T)}else Bt[0]!="stop"&&Bt[0]!="close"||Yi(T,7);else T.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Yi(T,7):Il(T):Bt[0]!="noop"&&T.l&&T.l.ta(Bt),T.v=0)}}Cs(4)}catch{}}var Mc=class{constructor(d,_){this.g=d,this.map=_}};function ji(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ha(d){return d.h?1:d.g?d.g.size:0}function bl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Fa(d,_){d.g?d.g.add(_):d.h=_}function fn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ji.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Tl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.D);return _}return C(d.i)}function $d(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],T=d.length,x=0;x<T;x++)_.push(d[x]);return _}_=[],T=0;for(x in d)_[T++]=d[x];return _}function qa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var T=0;T<d;T++)_.push(T);return _}_=[],T=0;for(const x in d)_[T++]=x;return _}}}function El(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var T=qa(d),x=$d(d),q=x.length,Z=0;Z<q;Z++)_.call(void 0,x[Z],T&&T[Z],d)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yd(d,_){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var x=d[T].indexOf("="),q=null;if(0<=x){var Z=d[T].substring(0,x);q=d[T].substring(x+1)}else Z=d[T];_(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Se(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Se){this.h=d.h,Br(this,d.j),this.o=d.o,this.g=d.g,ks(this,d.s),this.l=d.l;var _=d.i,T=new Fi;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Hi(this,T),this.m=d.m}else d&&(_=String(d).match(zr))?(this.h=!1,Br(this,_[1]||"",!0),this.o=Ln(_[2]||""),this.g=Ln(_[3]||"",!0),ks(this,_[4]),this.l=Ln(_[5]||"",!0),Hi(this,_[6]||"",!0),this.m=Ln(_[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}Se.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Hr(_,wl,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Hr(_,wl,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Hr(T,T.charAt(0)=="/"?Kd:Sl,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Hr(T,Ga)),d.join("")};function Sn(d){return new Se(d)}function Br(d,_,T){d.j=T?Ln(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ks(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Hi(d,_,T){_ instanceof Fi?(d.i=_,Nc(d.i,d.h)):(T||(_=Hr(_,Qd)),d.i=new Fi(_,d.h))}function te(d,_,T){d.i.set(_,T)}function jr(d){return te(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ln(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Hr(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,kc),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var wl=/[#\/\?@]/g,Sl=/[#\?:]/g,Kd=/[#\?]/g,Qd=/[#\?@]/g,Ga=/#/g;function Fi(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Vn(d){d.g||(d.g=new Map,d.h=0,d.i&&Yd(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Fi.prototype,n.add=function(d,_){Vn(this),this.i=null,d=mi(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function qi(d,_){Vn(d),_=mi(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Gi(d,_){return Vn(d),_=mi(d,_),d.g.has(_)}n.forEach=function(d,_){Vn(this),this.g.forEach(function(T,x){T.forEach(function(q){d.call(_,q,x,this)},this)},this)},n.na=function(){Vn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let x=0;x<_.length;x++){const q=d[x];for(let Z=0;Z<q.length;Z++)T.push(_[x])}return T},n.V=function(d){Vn(this);let _=[];if(typeof d=="string")Gi(this,d)&&(_=_.concat(this.g.get(mi(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)_=_.concat(d[T])}return _},n.set=function(d,_){return Vn(this),this.i=null,d=mi(this,d),Gi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Al(d,_,T){qi(d,_),0<T.length&&(d.i=null,d.g.set(mi(d,_),C(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var x=_[T];const Z=encodeURIComponent(String(x)),ut=this.V(x);for(x=0;x<ut.length;x++){var q=Z;ut[x]!==""&&(q+="="+encodeURIComponent(String(ut[x]))),d.push(q)}}return this.i=d.join("&")};function mi(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Nc(d,_){_&&!d.j&&(Vn(d),d.i=null,d.g.forEach(function(T,x){var q=x.toLowerCase();x!=q&&(qi(this,x),Al(this,q,T))},d)),d.j=_}function Fr(d,_){const T=new Pn;if(h.Image){const x=new Image;x.onload=w(Un,T,"TestLoadImage: loaded",!0,_,x),x.onerror=w(Un,T,"TestLoadImage: error",!1,_,x),x.onabort=w(Un,T,"TestLoadImage: abort",!1,_,x),x.ontimeout=w(Un,T,"TestLoadImage: timeout",!1,_,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else _(!1)}function Zn(d,_){const T=new Pn,x=new AbortController,q=setTimeout(()=>{x.abort(),Un(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:x.signal}).then(Z=>{clearTimeout(q),Z.ok?Un(T,"TestPingServer: ok",!0,_):Un(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Un(T,"TestPingServer: error",!1,_)})}function Un(d,_,T,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(T)}catch{}}function qr(){this.g=new Pr}function pi(d,_,T){const x=T||"";try{El(d,function(q,Z){let ut=q;g(q)&&(ut=Wn(q)),_.push(x+Z+"="+encodeURIComponent(ut))})}catch(q){throw _.push(x+"type="+encodeURIComponent("_badmap")),q}}function Ns(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Ns,dl),Ns.prototype.g=function(){return new $i(this.l,this.j)},Ns.prototype.i=function(d){return function(){return d}}({});function $i(d,_){me.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A($i,me),n=$i.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,_i(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function xl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?yi(this):_i(this),this.readyState==3&&xl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,yi(this))},n.Qa=function(d){this.g&&(this.response=d,yi(this))},n.ga=function(){this.g&&yi(this)};function yi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,_i(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function _i(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Rl(d){let _="";return ot(d,function(T,x){_+=x,_+=":",_+=T,_+=`\r
`}),_}function ze(d,_,T){t:{for(x in T){var x=!1;break t}x=!0}x||(T=Rl(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):te(d,_,T))}function Kt(d){me.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Kt,me);var $a=/^https?$/i,Gr=["POST","PUT"];n=Kt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?gl(this.o):gl(fi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Z){Pc(this,Z);return}if(d=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)T.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Z of x.keys())T.set(Z,x.get(Z));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Gr,_,void 0))||x||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ut]of T)this.g.setRequestHeader(Z,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$r(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){Pc(this,Z)}};function Pc(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Ya(d),vi(d)}function Ya(d){d.A||(d.A=!0,Qt(d,"complete"),Qt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Qt(this,"complete"),Qt(this,"abort"),vi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),Kt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},n.bb=function(){Ka(this)};function Ka(d){if(d.h&&typeof u<"u"&&(!d.v[1]||zn(d)!=4||d.Z()!=2)){if(d.u&&zn(d)==4)en(d.Ea,0,d);else if(Qt(d,"readystatechange"),zn(d)==4){d.h=!1;try{const ut=d.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var T;if(!(T=_)){var x;if(x=ut===0){var q=String(d.D).match(zr)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),x=!$a.test(q?q.toLowerCase():"")}T=x}if(T)Qt(d,"complete"),Qt(d,"success");else{d.m=6;try{var Z=2<zn(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",Ya(d)}}finally{vi(d)}}}}function vi(d,_){if(d.g){$r(d);const T=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Qt(d,"ready");try{T.onreadystatechange=x}catch{}}}function $r(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function zn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ua(_)}};function Lc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Wd(d){const _={};d=(d.g&&2<=zn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(U(d[x]))continue;var T=L(d[x]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=_[q]||[];_[q]=Z,Z.push(T)}O(_,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function Qa(d){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,d),this.cb=Yr("retryDelaySeedMs",1e4,d),this.Wa=Yr("forwardChannelMaxRetries",2,d),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(d&&d.concurrentRequestLimit),this.Da=new qr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qa.prototype,n.la=8,n.G=1,n.connect=function(d,_,T,x){ce(0),this.W=d,this.H=_||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=Fc(this,null,this.W),Xa(this)};function Il(d){if(Vc(d),d.G==3){var _=d.U++,T=Sn(d.I);if(te(T,"SID",d.K),te(T,"RID",_),te(T,"TYPE","terminate"),Kr(d,T),_=new hn(d,d.j,_),_.L=2,_.v=jr(Sn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=_.v,T=!0),T||(_.g=qc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Vr(_)}Hc(d)}function Wa(d){d.g&&(Qr(d),d.g.cancel(),d.g=null)}function Vc(d){Wa(d),d.u&&(h.clearTimeout(d.u),d.u=null),Za(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Xa(d){if(!ja(d.h)&&!d.s){d.s=!0;var _=d.Ga;at||B(),ht||(at(),ht=!0),St.add(_,d),d.B=0}}function Xd(d,_){return Ha(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=we(b(d.Ga,d,_),Ol(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new hn(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=R(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)t:{for(var _=0,T=0;T<this.i.length;T++){e:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(_+=x,4096<_){_=T;break t}if(_===4096||T===this.i.length-1){_=T+1;break t}}_=1e3}else _=1e3;_=Uc(this,q,_),T=Sn(this.I),te(T,"RID",d),te(T,"CVER",22),this.D&&te(T,"X-HTTP-Session-Id",this.D),Kr(this,T),Z&&(this.O?_="headers="+encodeURIComponent(String(Rl(Z)))+"&"+_:this.m&&ze(T,this.m,Z)),Fa(this.h,q),this.Ua&&te(T,"TYPE","init"),this.P?(te(T,"$req",_),te(T,"SID","null"),q.T=!0,Xn(q,T,null)):Xn(q,T,_),this.G=2}}else this.G==3&&(d?Cl(this,d):this.i.length==0||ja(this.h)||Cl(this))};function Cl(d,_){var T;_?T=_.l:T=d.U++;const x=Sn(d.I);te(x,"SID",d.K),te(x,"RID",T),te(x,"AID",d.T),Kr(d,x),d.m&&d.o&&ze(x,d.m,d.o),T=new hn(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Uc(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Fa(d.h,T),Xn(T,x,_)}function Kr(d,_){d.H&&ot(d.H,function(T,x){te(_,x,T)}),d.l&&El({},function(T,x){te(_,x,T)})}function Uc(d,_,T){T=Math.min(d.i.length,T);var x=d.l?b(d.l.Na,d.l,d):null;t:{var q=d.i;let Z=-1;for(;;){const ut=["count="+T];Z==-1?0<T?(Z=q[0].g,ut.push("ofs="+Z)):Z=0:ut.push("ofs="+Z);let zt=!0;for(let Oe=0;Oe<T;Oe++){let Bt=q[Oe].g;const Be=q[Oe].map;if(Bt-=Z,0>Bt)Z=Math.max(0,q[Oe].g-100),zt=!1;else try{pi(Be,ut,"req"+Bt+"_")}catch{x&&x(Be)}}if(zt){x=ut.join("&");break t}}}return d=d.i.splice(0,T),_.D=d,x}function zc(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;at||B(),ht||(at(),ht=!0),St.add(_,d),d.v=0}}function Dl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=we(b(d.Fa,d),Ol(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=we(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Wa(this),Bc(this))};function Qr(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Bc(d){d.g=new hn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Sn(d.qa);te(_,"RID","rpc"),te(_,"SID",d.K),te(_,"AID",d.T),te(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&te(_,"TO",d.ja),te(_,"TYPE","xmlhttp"),Kr(d,_),d.m&&d.o&&ze(_,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=jr(Sn(_)),T.m=null,T.P=!0,Bi(T,d)}n.Za=function(){this.C!=null&&(this.C=null,Wa(this),Dl(this),ce(19))};function Za(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function jc(d,_){var T=null;if(d.g==_){Za(d),Qr(d),d.g=null;var x=2}else if(bl(d.h,_))T=_.D,fn(d.h,_),x=1;else return;if(d.G!=0){if(_.o)if(x==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var q=d.B;x=Is(),Qt(x,new De(x,T)),Xa(d)}else zc(d);else if(q=_.s,q==3||q==0&&0<_.X||!(x==1&&Xd(d,_)||x==2&&Dl(d)))switch(T&&0<T.length&&(_=d.h,_.i=_.i.concat(T)),q){case 1:Yi(d,5);break;case 4:Yi(d,10);break;case 3:Yi(d,6);break;default:Yi(d,2)}}}function Ol(d,_){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*_}function Yi(d,_){if(d.j.info("Error code "+_),_==2){var T=b(d.fb,d),x=d.Xa;const q=!x;x=new Se(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Br(x,"https"),jr(x),q?Fr(x.toString(),T):Zn(x.toString(),T)}else ce(2);d.G=0,d.l&&d.l.sa(_),Hc(d),Vc(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Hc(d){if(d.G=0,d.ka=[],d.l){const _=Tl(d.h);(_.length!=0||d.i.length!=0)&&(I(d.ka,_),I(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function Fc(d,_,T){var x=T instanceof Se?Sn(T):new Se(T);if(x.g!="")_&&(x.g=_+"."+x.g),ks(x,x.s);else{var q=h.location;x=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var Z=new Se(null);x&&Br(Z,x),_&&(Z.g=_),q&&ks(Z,q),T&&(Z.l=T),x=Z}return T=d.D,_=d.ya,T&&_&&te(x,T,_),te(x,"VER",d.la),Kr(d,x),x}function qc(d,_,T){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Kt(new Ns({eb:T})):new Kt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gc(){}n=Gc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ja(){}Ja.prototype.g=function(d,_){return new dn(d,_)};function dn(d,_){me.call(this),this.g=new Qa(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!U(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new bi(this)}A(dn,me),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Il(this.g)},dn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Wn(d),d=T);_.i.push(new Mc(_.Ya++,d)),_.G==3&&Xa(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,dn.aa.N.call(this)};function $c(d){Ui.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){t:{for(const T in _){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A($c,Ui);function Yc(){pl.call(this),this.status=1}A(Yc,pl);function bi(d){this.g=d}A(bi,Gc),bi.prototype.ua=function(){Qt(this.g,"a")},bi.prototype.ta=function(d){Qt(this.g,new $c(d))},bi.prototype.sa=function(d){Qt(this.g,new Yc)},bi.prototype.ra=function(){Qt(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,dS=function(){return new Ja},fS=function(){return Is()},hS=hi,Ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,_f=Os,zi.COMPLETE="complete",cS=zi,ml.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",me.prototype.listen=me.prototype.K,Cu=ml,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,uS=Kt}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const nT="@firebase/firestore",iT="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new fy("@firebase/firestore");function Mo(){return Sa.logLevel}function ft(n,...t){if(Sa.logLevel<=Vt.DEBUG){const e=t.map(my);Sa.debug(`Firestore (${il}): ${n}`,...e)}}function Ts(n,...t){if(Sa.logLevel<=Vt.ERROR){const e=t.map(my);Sa.error(`Firestore (${il}): ${n}`,...e)}}function Fo(n,...t){if(Sa.logLevel<=Vt.WARN){const e=t.map(my);Sa.warn(`Firestore (${il}): ${n}`,...e)}}function my(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,gS(n,i,e)}function gS(n,t,e){let i=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ts(i),new Error(i)}function Yt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||gS(t,r,i)}function xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends As{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(an.UNAUTHENTICATED))}shutdown(){}}class HD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class FD{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Yt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ps,t.enqueueRetryable(()=>r(this.currentUser))};const u=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ps)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt(typeof i.accessToken=="string",31837,{l:i}),new mS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class qD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new qD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $D{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Yt(this.o===void 0,3512);const i=o=>{o.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ft("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new sT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=YD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Mt(n,t){return n<t?-1:n>t?1:0}function Cp(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Mt(i,r);{const o=pS(),u=KD(o.encode(rT(n,e)),o.encode(rT(t,e)));return u!==0?u:Mt(i,r)}}e+=i>65535?2:1}return Mt(n.length,t.length)}function rT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function KD(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Mt(n[e],t[e]);return Mt(n.length,t.length)}function qo(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=-62135596800,oT=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*oT);return new Le(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<aT)throw new gt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oT}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-aT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Le(0,0))}static max(){return new Rt(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="__name__";class Di{constructor(t,e,i){e===void 0?e=0:e>t.length&&wt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&wt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Di.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Mt(t.length,e.length)}static compareSegments(t,e){const i=Di.isNumericId(t),r=Di.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Di.extractNumericId(t).compare(Di.extractNumericId(e)):Cp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return mr.fromString(t.substring(4,t.length-2))}}class ue extends Di{construct(t,e,i){return new ue(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ue(e)}static emptyPath(){return new ue([])}}const QD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Di{construct(t,e,i){return new Ze(t,e,i)}static isValidIdentifier(t){return QD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lT}static keyField(){return new Ze([lT])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new gt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new gt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new gt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new gt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ue.fromString(t))}static fromName(t){return new vt(ue.fromString(t).popFirst(5))}static empty(){return new vt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=-1;function WD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(i===1e9?new Le(e+1,0):new Le(e,i));return new br(r,vt.empty(),t)}function XD(n){return new br(n.readTime,n.key,Ju)}class br{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new br(Rt.min(),vt.empty(),Ju)}static max(){return new br(Rt.max(),vt.empty(),Ju)}}function ZD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:Mt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==JD)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new it((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof it?e:it.resolve(e)}catch(e){return it.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):it.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):it.reject(e)}static resolve(t){return new it((e,i)=>{e(t)})}static reject(t){return new it((e,i)=>{i(t)})}static waitFor(t){return new it((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},f=>i(f))}),u=!0,o===r&&e()})}static or(t){let e=it.resolve(!1);for(const i of t)e=e.next(r=>r?it.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new it((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(y=>{u[g]=y,++h,h===o&&i(u)},y=>r(y))}})}static doWhile(t,e){return new it((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function eO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function rl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}md.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=-1;function pd(n){return n==null}function Nf(n){return n===0&&1/n==-1/0}function nO(n){return typeof n=="number"&&Number.isInteger(n)&&!Nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="";function iO(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=uT(t)),t=sO(n.get(e),t);return uT(t)}function sO(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case _S:e+="";break;default:e+=o}}return e}function uT(n){return n+_S+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Da(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function rO(n,t){const e=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.push(t(n[i],i,n));return e}function vS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.comparator=t,this.root=e||Xe.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wh(this.root,t,this.comparator,!0)}}class Wh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Xe.RED,this.left=r??Xe.EMPTY,this.right=o??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Xe(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Xe.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Xe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new hT(this.data.getIterator())}getIteratorFrom(t){return new hT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ve(this.comparator);return e.data=t,e}}class hT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new fs([])}unionWith(t){let e=new Ve(Ze.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new fs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return qo(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bS("Invalid base64 string: "+o):o}}(t);return new tn(e)}static fromUint8Array(t){const e=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(t);return new tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(n){if(Yt(!!n,39018),typeof n=="string"){let t=0;const e=aO.exec(n);if(Yt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Er(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="server_timestamp",ES="__type__",wS="__previous_value__",SS="__local_write_time__";function yy(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[ES])===null||e===void 0?void 0:e.stringValue)===TS}function yd(n){const t=n.mapValue.fields[wS];return yy(t)?yd(t):t}function tc(n){const t=Tr(n.mapValue.fields[SS].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,e,i,r,o,u,h,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}const Pf="(default)";class ec{constructor(t,e){this.projectId=t,this.database=e||Pf}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(t){return t instanceof ec&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="__type__",lO="__max__",Xh={mapValue:{}},xS="__vector__",Lf="value";function wr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yy(n)?4:cO(n)?9007199254740991:uO(n)?10:11:wt(28295,{value:n})}function Pi(n,t){if(n===t)return!0;const e=wr(n);if(e!==wr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return tc(n).isEqual(tc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Tr(r.timestampValue),h=Tr(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return Er(r.bytesValue).isEqual(Er(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Te(r.geoPointValue.latitude)===Te(o.geoPointValue.latitude)&&Te(r.geoPointValue.longitude)===Te(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Te(r.integerValue)===Te(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Te(r.doubleValue),h=Te(o.doubleValue);return u===h?Nf(u)===Nf(h):isNaN(u)&&isNaN(h)}return!1}(n,t);case 9:return qo(n.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(cT(u)!==cT(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Pi(u[f],h[f])))return!1;return!0}(n,t);default:return wt(52216,{left:n})}}function nc(n,t){return(n.values||[]).find(e=>Pi(e,t))!==void 0}function Go(n,t){if(n===t)return 0;const e=wr(n),i=wr(t);if(e!==i)return Mt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Mt(n.booleanValue,t.booleanValue);case 2:return function(o,u){const h=Te(o.integerValue||o.doubleValue),f=Te(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return fT(n.timestampValue,t.timestampValue);case 4:return fT(tc(n),tc(t));case 5:return Cp(n.stringValue,t.stringValue);case 6:return function(o,u){const h=Er(o),f=Er(u);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=Mt(h[g],f[g]);if(y!==0)return y}return Mt(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,u){const h=Mt(Te(o.latitude),Te(u.latitude));return h!==0?h:Mt(Te(o.longitude),Te(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return dT(n.arrayValue,t.arrayValue);case 10:return function(o,u){var h,f,g,y;const v=o.fields||{},b=u.fields||{},w=(h=v[Lf])===null||h===void 0?void 0:h.arrayValue,A=(f=b[Lf])===null||f===void 0?void 0:f.arrayValue,C=Mt(((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return C!==0?C:dT(w,A)}(n.mapValue,t.mapValue);case 11:return function(o,u){if(o===Xh.mapValue&&u===Xh.mapValue)return 0;if(o===Xh.mapValue)return 1;if(u===Xh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=u.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const b=Cp(f[v],y[v]);if(b!==0)return b;const w=Go(h[f[v]],g[y[v]]);if(w!==0)return w}return Mt(f.length,y.length)}(n.mapValue,t.mapValue);default:throw wt(23264,{Pe:e})}}function fT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Mt(n,t);const e=Tr(n),i=Tr(t),r=Mt(e.seconds,i.seconds);return r!==0?r:Mt(e.nanos,i.nanos)}function dT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Go(e[r],i[r]);if(o)return o}return Mt(e.length,i.length)}function $o(n){return Dp(n)}function Dp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Tr(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Er(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return vt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Dp(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const u of i)o?o=!1:r+=",",r+=`${u}:${Dp(e.fields[u])}`;return r+"}"}(n.mapValue):wt(61005,{value:n})}function vf(n){switch(wr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yd(n);return t?16+vf(t):16;case 5:return 2*n.stringValue.length;case 6:return Er(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+vf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Da(i.fields,(o,u)=>{r+=o.length+vf(u)}),r}(n.mapValue);default:throw wt(13486,{value:n})}}function gT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Op(n){return!!n&&"integerValue"in n}function _y(n){return!!n&&"arrayValue"in n}function mT(n){return!!n&&"nullValue"in n}function pT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bf(n){return!!n&&"mapValue"in n}function uO(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[AS])===null||e===void 0?void 0:e.stringValue)===xS}function Bu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Da(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Bu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Bu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function cO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this.value=t}static empty(){return new ii({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!bf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bu(e)}setAll(t){let e=Ze.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Bu(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());bf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];bf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Da(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new ii(Bu(this.value))}}function RS(n){const t=[];return Da(n.fields,(e,i)=>{const r=new Ze([e]);if(bf(i)){const o=RS(i.mapValue).fields;if(o.length===0)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new fs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,e,i,r,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new on(t,0,Rt.min(),Rt.min(),Rt.min(),ii.empty(),0)}static newFoundDocument(t,e,i,r){return new on(t,1,e,Rt.min(),i,r,0)}static newNoDocument(t,e){return new on(t,2,e,Rt.min(),Rt.min(),ii.empty(),0)}static newUnknownDocument(t,e){return new on(t,3,e,Rt.min(),Rt.min(),ii.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e){this.position=t,this.inclusive=e}}function yT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(o.field.isKeyField()?i=vt.comparator(vt.fromName(u.referenceValue),e.key):i=Go(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function _T(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Pi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,e="asc"){this.field=t,this.dir=e}}function hO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{}class Ie extends IS{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new dO(t,e,i):e==="array-contains"?new pO(t,i):e==="in"?new yO(t,i):e==="not-in"?new _O(t,i):e==="array-contains-any"?new vO(t,i):new Ie(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new gO(t,i):new mO(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Go(e,this.value)):e!==null&&wr(this.value)===wr(e)&&this.matchesComparison(Go(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends IS{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new ri(t,e)}matches(t){return CS(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function CS(n){return n.op==="and"}function DS(n){return fO(n)&&CS(n)}function fO(n){for(const t of n.filters)if(t instanceof ri)return!1;return!0}function Mp(n){if(n instanceof Ie)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(DS(n))return n.filters.map(t=>Mp(t)).join(",");{const t=n.filters.map(e=>Mp(e)).join(",");return`${n.op}(${t})`}}function OS(n,t){return n instanceof Ie?function(i,r){return r instanceof Ie&&i.op===r.op&&i.field.isEqual(r.field)&&Pi(i.value,r.value)}(n,t):n instanceof ri?function(i,r){return r instanceof ri&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,u,h)=>o&&OS(u,r.filters[h]),!0):!1}(n,t):void wt(19439)}function MS(n){return n instanceof Ie?function(e){return`${e.field.canonicalString()} ${e.op} ${$o(e.value)}`}(n):n instanceof ri?function(e){return e.op.toString()+" {"+e.getFilters().map(MS).join(" ,")+"}"}(n):"Filter"}class dO extends Ie{constructor(t,e,i){super(t,e,i),this.key=vt.fromName(i.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class gO extends Ie{constructor(t,e){super(t,"in",e),this.keys=kS("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class mO extends Ie{constructor(t,e){super(t,"not-in",e),this.keys=kS("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function kS(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>vt.fromName(i.referenceValue))}class pO extends Ie{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return _y(e)&&nc(e.arrayValue,this.value)}}class yO extends Ie{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&nc(this.value.arrayValue,e)}}class _O extends Ie{constructor(t,e){super(t,"not-in",e)}matches(t){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!nc(this.value.arrayValue,e)}}class vO extends Ie{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!_y(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>nc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function vT(n,t=null,e=[],i=[],r=null,o=null,u=null){return new bO(n,t,e,i,r,o,u)}function vy(n){const t=xt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Mp(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),pd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>$o(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>$o(i)).join(",")),t.Ie=e}return t.Ie}function by(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!hO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!OS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!_T(n.startAt,t.startAt)&&_T(n.endAt,t.endAt)}function kp(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function TO(n,t,e,i,r,o,u,h){return new pc(n,t,e,i,r,o,u,h)}function Ty(n){return new pc(n)}function bT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function NS(n){return n.collectionGroup!==null}function ju(n){const t=xt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ve(Ze.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new Uf(o,i))}),e.has(Ze.keyField().canonicalString())||t.Ee.push(new Uf(Ze.keyField(),i))}return t.Ee}function Oi(n){const t=xt(n);return t.de||(t.de=PS(t,ju(n))),t.de}function EO(n){const t=xt(n);return t.Ae||(t.Ae=PS(t,n.explicitOrderBy)),t.Ae}function PS(n,t){if(n.limitType==="F")return vT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Uf(r.field,o)});const e=n.endAt?new Vf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vf(n.startAt.position,n.startAt.inclusive):null;return vT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Np(n,t){const e=n.filters.concat([t]);return new pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Pp(n,t,e){return new pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function _d(n,t){return by(Oi(n),Oi(t))&&n.limitType===t.limitType}function LS(n){return`${vy(Oi(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>MS(r)).join(", ")}]`),pd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>$o(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>$o(r)).join(",")),`Target(${i})`}(Oi(n))}; limitType=${n.limitType})`}function vd(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):vt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of ju(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(u,h,f){const g=yT(u,h,f);return u.inclusive?g<=0:g<0}(i.startAt,ju(i),r)||i.endAt&&!function(u,h,f){const g=yT(u,h,f);return u.inclusive?g>=0:g>0}(i.endAt,ju(i),r))}(n,t)}function wO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VS(n){return(t,e)=>{let i=!1;for(const r of ju(n)){const o=SO(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function SO(n,t,e){const i=n.field.isKeyField()?vt.comparator(t.key,e.key):function(o,u,h){const f=u.data.field(o),g=h.data.field(o);return f!==null&&g!==null?Go(f,g):wt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return wt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Da(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new ge(vt.comparator);function Es(){return AO}const US=new ge(vt.comparator);function Du(...n){let t=US;for(const e of n)t=t.insert(e.key,e);return t}function zS(n){let t=US;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ya(){return Hu()}function BS(){return Hu()}function Hu(){return new Oa(n=>n.toString(),(n,t)=>n.isEqual(t))}const xO=new ge(vt.comparator),RO=new Ve(vt.comparator);function Ut(...n){let t=RO;for(const e of n)t=t.add(e);return t}const IO=new Ve(Mt);function CO(){return IO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(t)?"-0":t}}function jS(n){return{integerValue:""+n}}function DO(n,t){return nO(t)?jS(t):Ey(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this._=void 0}}function OO(n,t,e){return n instanceof zf?function(r,o){const u={fields:{[ES]:{stringValue:TS},[SS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&yy(o)&&(o=yd(o)),o&&(u.fields[wS]=o),{mapValue:u}}(e,t):n instanceof ic?FS(n,t):n instanceof sc?qS(n,t):function(r,o){const u=HS(r,o),h=TT(u)+TT(r.Re);return Op(u)&&Op(r.Re)?jS(h):Ey(r.serializer,h)}(n,t)}function MO(n,t,e){return n instanceof ic?FS(n,t):n instanceof sc?qS(n,t):e}function HS(n,t){return n instanceof Bf?function(i){return Op(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class zf extends bd{}class ic extends bd{constructor(t){super(),this.elements=t}}function FS(n,t){const e=GS(t);for(const i of n.elements)e.some(r=>Pi(r,i))||e.push(i);return{arrayValue:{values:e}}}class sc extends bd{constructor(t){super(),this.elements=t}}function qS(n,t){let e=GS(t);for(const i of n.elements)e=e.filter(r=>!Pi(r,i));return{arrayValue:{values:e}}}class Bf extends bd{constructor(t,e){super(),this.serializer=t,this.Re=e}}function TT(n){return Te(n.integerValue||n.doubleValue)}function GS(n){return _y(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kO(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof ic&&r instanceof ic||i instanceof sc&&r instanceof sc?qo(i.elements,r.elements,Pi):i instanceof Bf&&r instanceof Bf?Pi(i.Re,r.Re):i instanceof zf&&r instanceof zf}(n.transform,t.transform)}class NO{constructor(t,e){this.version=t,this.transformResults=e}}class ys{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ys}static exists(t){return new ys(void 0,t)}static updateTime(t){return new ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Td{}function $S(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new wy(n.key,ys.none()):new Ed(n.key,n.data,ys.none());{const e=n.data,i=ii.empty();let r=new Ve(Ze.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),r=r.add(o)}return new al(n.key,i,new fs(r.toArray()),ys.none())}}function PO(n,t,e){n instanceof Ed?function(r,o,u){const h=r.value.clone(),f=wT(r.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,t,e):n instanceof al?function(r,o,u){if(!Tf(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=wT(r.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(YS(r)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function Fu(n,t,e,i){return n instanceof Ed?function(o,u,h,f){if(!Tf(o.precondition,u))return h;const g=o.value.clone(),y=ST(o.fieldTransforms,f,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof al?function(o,u,h,f){if(!Tf(o.precondition,u))return h;const g=ST(o.fieldTransforms,f,u),y=u.data;return y.setAll(YS(o)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,u,h){return Tf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,t,e)}function LO(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=HS(i.transform,r||null);o!=null&&(e===null&&(e=ii.empty()),e.set(i.field,o))}return e||null}function ET(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&qo(i,r,(o,u)=>kO(o,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ed extends Td{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class al extends Td{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YS(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function wT(n,t,e){const i=new Map;Yt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,MO(u,h,e[r]))}return i}function ST(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,OO(o,u,t))}return i}class wy extends Td{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VO extends Td{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&PO(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Fu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Fu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=BS();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const f=$S(u,h);f!==null&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ut())}isEqual(t){return this.batchId===t.batchId&&qo(this.mutations,t.mutations,(e,i)=>ET(e,i))&&qo(this.baseMutations,t.baseMutations,(e,i)=>ET(e,i))}}class Sy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Yt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return xO}();const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Sy(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t,e,i){this.alias=t,this.aggregateType=e,this.fieldPath=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Ht;function HO(n){switch(n){case rt.OK:return wt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return wt(15467,{code:n})}}function KS(n){if(n===void 0)return Ts("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Re.OK:return rt.OK;case Re.CANCELLED:return rt.CANCELLED;case Re.UNKNOWN:return rt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return rt.INTERNAL;case Re.UNAVAILABLE:return rt.UNAVAILABLE;case Re.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Re.NOT_FOUND:return rt.NOT_FOUND;case Re.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Re.ABORTED:return rt.ABORTED;case Re.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Re.DATA_LOSS:return rt.DATA_LOSS;default:return wt(39323,{code:n})}}(Ht=Re||(Re={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new mr([4294967295,4294967295],0);function AT(n){const t=pS().encode(n),e=new lS;return e.update(t),new Uint8Array(e.digest())}function xT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new mr([e,i],0),new mr([r,o],0)]}class Ay{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ou(`Invalid padding: ${e}`);if(i<0)throw new Ou(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=mr.fromNumber(this.pe)}we(t,e,i){let r=t.add(e.multiply(mr.fromNumber(i)));return r.compare(FO)===1&&(r=new mr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=AT(t),[i,r]=xT(e);for(let o=0;o<this.hashCount;o++){const u=this.we(i,r,o);if(!this.be(u))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new Ay(o,r,e);return i.forEach(h=>u.insert(h)),u}insert(t){if(this.pe===0)return;const e=AT(t),[i,r]=xT(e);for(let o=0;o<this.hashCount;o++){const u=this.we(i,r,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,yc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new wd(Rt.min(),r,new ge(Mt),Es(),Ut())}}class yc{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new yc(i,e,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,e,i,r){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=r}}class QS{constructor(t,e){this.targetId=t,this.Ce=e}}class WS{constructor(t,e,i=tn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class RT{constructor(){this.Fe=0,this.Me=IT(),this.xe=tn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Ut(),e=Ut(),i=Ut();return this.Me.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:wt(38017,{changeType:o})}}),new yc(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=IT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qO{constructor(t){this.ze=t,this.je=new Map,this.He=Es(),this.Je=Zh(),this.Ye=Zh(),this.Ze=new ge(Mt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:wt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,r)=>{this.it(r)&&e(r)})}ot(t){const e=t.targetId,i=t.Ce.count,r=this._t(e);if(r){const o=r.target;if(kp(o))if(i===0){const u=new vt(o.path);this.tt(e,u,on.newNoDocument(u,Rt.min()))}else Yt(i===1,20013,{expectedCount:i});else{const u=this.ut(e);if(u!==i){const h=this.ct(t),f=h?this.lt(h,t,u):1;if(f!==0){this.st(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let u,h;try{u=Er(i).toUint8Array()}catch(f){if(f instanceof bS)return Fo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Ay(u,r,o)}catch(f){return Fo(f instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.tt(e,o,null),r++)}),r}It(t){const e=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&kp(h.target)){const f=new vt(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,on.newNoDocument(f,t))}o.Le&&(e.set(u,o.qe()),o.Qe())}});let i=Ut();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const g=this._t(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.He.forEach((o,u)=>u.setReadTime(t));const r=new wd(t,e,this.Ze,this.He,i);return this.He=Es(),this.Je=Zh(),this.Ye=Zh(),this.Ze=new ge(Mt),r}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,e)?r.$e(e,1):r.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new RT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Ve(Mt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Ve(Mt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new RT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Zh(){return new ge(vt.comparator)}function IT(){return new ge(vt.comparator)}const GO={asc:"ASCENDING",desc:"DESCENDING"},$O={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YO={and:"AND",or:"OR"};class KO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Lp(n,t){return n.useProto3Json||pd(t)?t:{value:t}}function jf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function QO(n,t){return jf(n,t.toTimestamp())}function Mi(n){return Yt(!!n,49232),Rt.fromTimestamp(function(e){const i=Tr(e);return new Le(i.seconds,i.nanos)}(n))}function xy(n,t){return Vp(n,t).canonicalString()}function Vp(n,t){const e=function(r){return new ue(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function ZS(n){const t=ue.fromString(n);return Yt(sA(t),10190,{key:t.toString()}),t}function Up(n,t){return xy(n.databaseId,t.path)}function ep(n,t){const e=ZS(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(tA(e))}function JS(n,t){return xy(n.databaseId,t)}function WO(n){const t=ZS(n);return t.length===4?ue.emptyPath():tA(t)}function zp(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tA(n){return Yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function CT(n,t,e){return{name:Up(n,t),fields:e.value.mapValue.fields}}function XO(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(Yt(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(Yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const y=g.code===void 0?rt.UNKNOWN:KS(g.code);return new gt(y,g.message||"")}(u);e=new WS(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=ep(n,i.document.name),o=Mi(i.document.updateTime),u=i.document.createTime?Mi(i.document.createTime):Rt.min(),h=new ii({mapValue:{fields:i.document.fields}}),f=on.newFoundDocument(r,o,u,h),g=i.targetIds||[],y=i.removedTargetIds||[];e=new Ef(g,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=ep(n,i.document),o=i.readTime?Mi(i.readTime):Rt.min(),u=on.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Ef([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=ep(n,i.document),o=i.removedTargetIds||[];e=new Ef([],o,r,null)}else{if(!("filter"in t))return wt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,u=new jO(r,o),h=i.targetId;e=new QS(h,u)}}return e}function ZO(n,t){let e;if(t instanceof Ed)e={update:CT(n,t.key,t.value)};else if(t instanceof wy)e={delete:Up(n,t.key)};else if(t instanceof al)e={update:CT(n,t.key,t.data),updateMask:oM(t.fieldMask)};else{if(!(t instanceof VO))return wt(16599,{ft:t.type});e={verify:Up(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof zf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ic)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof sc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Bf)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw wt(20930,{transform:u.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:QO(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:wt(27497)}(n,t.precondition)),e}function JO(n,t){return n&&n.length>0?(Yt(t!==void 0,14353),n.map(e=>function(r,o){let u=r.updateTime?Mi(r.updateTime):Mi(o);return u.isEqual(Rt.min())&&(u=Mi(o)),new NO(u,r.transformResults||[])}(e,t))):[]}function tM(n,t){return{documents:[JS(n,t.path)]}}function eA(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=JS(n,r);const o=function(g){if(g.length!==0)return iA(ri.create(g,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(y=>function(b){return{field:sr(b.field),direction:sM(b.dir)}}(y))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=Lp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:r}}function eM(n,t,e,i){const{gt:r,parent:o}=eA(n,t),u={},h=[];let f=0;return e.forEach(g=>{const y="aggregate_"+f++;u[y]=g.alias,g.aggregateType==="count"?h.push({alias:y,count:{}}):g.aggregateType==="avg"?h.push({alias:y,avg:{field:sr(g.fieldPath)}}):g.aggregateType==="sum"&&h.push({alias:y,sum:{field:sr(g.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:r.structuredQuery},parent:r.parent},yt:u,parent:o}}function nM(n){let t=WO(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Yt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=function(v){const b=nA(v);return b instanceof ri&&DS(b)?b.getFilters():[b]}(e.where));let u=[];e.orderBy&&(u=function(v){return v.map(b=>function(A){return new Uf(No(A.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(v){let b;return b=typeof v=="object"?v.value:v,pd(b)?null:b}(e.limit));let f=null;e.startAt&&(f=function(v){const b=!!v.before,w=v.values||[];return new Vf(w,b)}(e.startAt));let g=null;return e.endAt&&(g=function(v){const b=!v.before,w=v.values||[];return new Vf(w,b)}(e.endAt)),TO(t,r,u,o,h,"F",f,g)}function iM(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function nA(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=No(e.unaryFilter.field);return Ie.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=No(e.unaryFilter.field);return Ie.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=No(e.unaryFilter.field);return Ie.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=No(e.unaryFilter.field);return Ie.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ie.create(No(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ri.create(e.compositeFilter.filters.map(i=>nA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return wt(1026)}}(e.compositeFilter.op))}(n):wt(30097,{filter:n})}function sM(n){return GO[n]}function rM(n){return $O[n]}function aM(n){return YO[n]}function sr(n){return{fieldPath:n.canonicalString()}}function No(n){return Ze.fromServerFormat(n.fieldPath)}function iA(n){return n instanceof Ie?function(e){if(e.op==="=="){if(pT(e.value))return{unaryFilter:{field:sr(e.field),op:"IS_NAN"}};if(mT(e.value))return{unaryFilter:{field:sr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(pT(e.value))return{unaryFilter:{field:sr(e.field),op:"IS_NOT_NAN"}};if(mT(e.value))return{unaryFilter:{field:sr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sr(e.field),op:rM(e.op),value:e.value}}}(n):n instanceof ri?function(e){const i=e.getFilters().map(r=>iA(r));return i.length===1?i[0]:{compositeFilter:{op:aM(e.op),filters:i}}}(n):wt(54877,{filter:n})}function oM(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function sA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,e,i,r,o=Rt.min(),u=Rt.min(),h=tn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t){this.wt=t}}function uM(n){const t=nM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.yn=new hM}addToCollectionParentIndex(t,e){return this.yn.add(e),it.resolve()}getCollectionParents(t,e){return it.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return it.resolve()}deleteFieldIndex(t,e){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,e){return it.resolve()}getDocumentsMatchingTarget(t,e){return it.resolve(null)}getIndexType(t,e){return it.resolve(0)}getFieldIndexes(t,e){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,e){return it.resolve(br.min())}getMinOffsetFromCollectionGroup(t,e){return it.resolve(br.min())}updateCollectionGroup(t,e,i){return it.resolve()}updateIndexEntries(t,e){return it.resolve()}}class hM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ve(ue.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ve(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rA=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(rA,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Yo(0)}static ir(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="LruGarbageCollector",fM=1048576;function MT([n,t],[e,i]){const r=Mt(n,e);return r===0?Mt(t,i):r}class dM{constructor(t){this.cr=t,this.buffer=new Ve(MT),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();MT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class gM{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ft(OT,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){rl(e)?ft(OT,"Ignoring IndexedDB error during garbage collection: ",e):await sl(e)}await this.Ir(3e5)})}}class mM{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return it.resolve(md.le);const i=new dM(e);return this.Er.forEachTarget(t,r=>i.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(t,r=>i.Pr(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Er.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(DT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DT):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let i,r,o,u,h,f,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,h=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(g=Date.now(),Mo()<=Vt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function pM(n,t){return new mM(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.changes=new Oa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?it.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Fu(i.mutation,r,fs.empty(),Le.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ut()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ut()){const r=ya();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Du();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=ya();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ut()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Es();const u=Hu(),h=function(){return Hu()}();return e.forEach((f,g)=>{const y=i.get(g.key);r.has(g.key)&&(y===void 0||y.mutation instanceof al)?o=o.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Fu(y.mutation,g,y.mutation.getFieldMask(),Le.now())):u.set(g.key,fs.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,y)=>u.set(g,y)),e.forEach((g,y)=>{var v;return h.set(g,new _M(y,(v=u.get(g))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Hu();let r=new ge((u,h)=>u-h),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(f=>{const g=e.get(f);if(g===null)return;let y=i.get(f)||fs.empty();y=h.applyToLocalView(g,y),i.set(f,y);const v=(r.get(h.batchId)||Ut()).add(f);r=r.insert(h.batchId,v)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,v=BS();y.forEach(b=>{if(!o.has(b)){const w=$S(e.get(b),i.get(b));w!==null&&v.set(b,w),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(t,g,v))}return it.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(u){return vt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):NS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):it.resolve(ya());let h=Ju,f=o;return u.next(g=>it.forEach(g,(y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{f=f.insert(y,b)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,Ut())).next(y=>({batchId:h,changes:zS(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next(i=>{let r=Du();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let u=Du();return this.indexManager.getCollectionParents(t,o).next(h=>it.forEach(h,f=>{const g=function(v,b){return new pc(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,r).next(y=>{y.forEach((v,b)=>{u=u.insert(v,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(u=>{o.forEach((f,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,on.newInvalidDocument(y)))});let h=Du();return u.forEach((f,g)=>{const y=o.get(f);y!==void 0&&Fu(y.mutation,g,fs.empty(),Le.now()),vd(e,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return it.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Mi(r.createTime)}}(e)),it.resolve()}getNamedQuery(t,e){return it.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(r){return{name:r.name,query:uM(r.bundledQuery),readTime:Mi(r.readTime)}}(e)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.overlays=new ge(vt.comparator),this.Or=new Map}getOverlay(t,e){return it.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ya();return it.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.St(t,e,o)}),it.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Or.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(i)),it.resolve()}getOverlaysForCollection(t,e,i){const r=ya(),o=e.length+1,u=new vt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return it.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ge((g,y)=>g-y);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let y=o.get(g.largestBatchId);y===null&&(y=ya(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=ya(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,y)=>h.set(g,y)),!(h.size()>=r)););return it.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const u=this.Or.get(r.largestBatchId).delete(i.key);this.Or.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new zO(e,i));let o=this.Or.get(e);o===void 0&&(o=Ut(),this.Or.set(e,o)),this.Or.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.Nr=new Ve(qe.Br),this.Lr=new Ve(qe.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const i=new qe(t,e);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Qr(new qe(t,e))}$r(t,e){t.forEach(i=>this.removeReference(i,e))}Ur(t){const e=new vt(new ue([])),i=new qe(e,t),r=new qe(e,t+1),o=[];return this.Lr.forEachInRange([i,r],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new vt(new ue([])),i=new qe(e,t),r=new qe(e,t+1);let o=Ut();return this.Lr.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new qe(t,0),i=this.Nr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class qe{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return vt.comparator(t.key,e.key)||Mt(t.Gr,e.Gr)}static kr(t,e){return Mt(t.Gr,e.Gr)||vt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new Ve(qe.Br)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new UO(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.zr=this.zr.add(new qe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return it.resolve(u)}lookupMutationBatch(t,e){return it.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Hr(i),o=r<0?0:r;return it.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?py:this.Jn-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new qe(e,0),r=new qe(e,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([i,r],u=>{const h=this.jr(u.Gr);o.push(h)}),it.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ve(Mt);return e.forEach(r=>{const o=new qe(r,0),u=new qe(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{i=i.add(h.Gr)})}),it.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;vt.isDocumentKey(o)||(o=o.child(""));const u=new qe(new vt(o),0);let h=new Ve(Mt);return this.zr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.Gr)),!0)},u),it.resolve(this.Jr(h))}Jr(t){const e=[];return t.forEach(i=>{const r=this.jr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Yt(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return it.forEach(e.mutations,r=>{const o=new qe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.zr=i})}Xn(t){}containsKey(t,e){const i=new qe(e,0),r=this.zr.firstAfterOrEqual(i);return it.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t){this.Zr=t,this.docs=function(){return new ge(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Zr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return it.resolve(i?i.document.mutableCopy():on.newInvalidDocument(e))}getEntries(t,e){let i=Es();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():on.newInvalidDocument(r))}),it.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Es();const u=e.path,h=new vt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||ZD(XD(y),i)<=0||(r.has(y.key)||vd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return it.resolve(o)}getAllFromCollectionGroup(t,e,i,r){wt(9500)}Xr(t,e){return it.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new AM(this)}getSize(t){return it.resolve(this.size)}}class AM extends yM{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.vr.addEntry(t,r)):this.vr.removeEntry(i)}),it.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t){this.persistence=t,this.ei=new Oa(e=>vy(e),by),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ry,this.targetCount=0,this.ri=Yo.rr()}forEachTarget(t,e){return this.ei.forEach((i,r)=>e(r)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ti&&(this.ti=e),it.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new Yo(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,it.resolve()}updateTargetData(t,e){return this.ar(e),it.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),it.waitFor(o).next(()=>r)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,e){const i=this.ei.get(e)||null;return it.resolve(i)}addMatchingKeys(t,e,i){return this.ni.qr(e,i),it.resolve()}removeMatchingKeys(t,e,i){this.ni.$r(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),it.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),it.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ni.Wr(e);return it.resolve(i)}containsKey(t,e){return it.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t,e){this.ii={},this.overlays={},this.si=new md(0),this.oi=!1,this.oi=!0,this._i=new EM,this.referenceDelegate=t(this),this.ai=new xM(this),this.indexManager=new cM,this.remoteDocumentCache=function(r){return new SM(r)}(i=>this.referenceDelegate.ui(i)),this.serializer=new lM(e),this.ci=new bM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new TM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ii[t.toKey()];return i||(i=new wM(e,this.referenceDelegate),this.ii[t.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,i){ft("MemoryPersistence","Starting transaction:",t);const r=new RM(this.si.next());return this.referenceDelegate.li(),i(r).next(o=>this.referenceDelegate.hi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Pi(t,e){return it.or(Object.values(this.ii).map(i=>()=>i.containsKey(t,e)))}}class RM extends tO{constructor(t){super(),this.currentSequenceNumber=t}}class Iy{constructor(t){this.persistence=t,this.Ti=new Ry,this.Ii=null}static Ei(t){return new Iy(t)}get di(){if(this.Ii)return this.Ii;throw wt(60996)}addReference(t,e,i){return this.Ti.addReference(i,e),this.di.delete(i.toString()),it.resolve()}removeReference(t,e,i){return this.Ti.removeReference(i,e),this.di.add(i.toString()),it.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),it.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.di,i=>{const r=vt.fromPath(i);return this.Ai(t,r).next(o=>{o||e.removeEntry(r,Rt.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return it.or([()=>it.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class Hf{constructor(t,e){this.persistence=t,this.Ri=new Oa(i=>iO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=pM(this,e)}static Ei(t,e){return new Hf(t,e)}li(){}hi(t){return it.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Vr(t){let e=0;return this.Ar(t,i=>{e++}).next(()=>e)}Ar(t,e){return it.forEach(this.Ri,(i,r)=>this.gr(t,i,r).next(o=>o?it.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Xr(t,u=>this.gr(t,u,e).next(h=>{h||(i++,o.removeEntry(u,Rt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),it.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),it.resolve()}removeReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),it.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=vf(t.data.value)),e}gr(t,e,i){return it.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.Ri.get(e);return it.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ls=i,this.hs=r}static Ps(t,e){let i=Ut(),r=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Cy(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return T2()?8:eO(un())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.Rs(t,e).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(t,e,r,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new IM;return this.fs(t,e,u).next(h=>{if(o.result=h,this.Is)return this.gs(t,e,u,h.size)})}).next(()=>o.result)}gs(t,e,i,r){return i.documentReadCount<this.Es?(Mo()<=Vt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",ko(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),it.resolve()):(Mo()<=Vt.DEBUG&&ft("QueryEngine","Query:",ko(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(Mo()<=Vt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",ko(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(e))):it.resolve())}Rs(t,e){if(bT(e))return it.resolve(null);let i=Oi(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=Pp(e,null,"F"),i=Oi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Ut(...o);return this.As.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.ps(e,h);return this.ys(e,g,u,f.readTime)?this.Rs(t,Pp(e,null,"F")):this.ws(t,g,e,f)}))})))}Vs(t,e,i,r){return bT(e)||r.isEqual(Rt.min())?it.resolve(null):this.As.getDocuments(t,i).next(o=>{const u=this.ps(e,o);return this.ys(e,u,i,r)?it.resolve(null):(Mo()<=Vt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ko(e)),this.ws(t,u,e,WD(r,Ju)).next(h=>h))})}ps(t,e){let i=new Ve(VS(t));return e.forEach((r,o)=>{vd(t,o)&&(i=i.add(o))}),i}ys(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}fs(t,e,i){return Mo()<=Vt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",ko(e)),this.As.getDocumentsMatchingQuery(t,e,br.min(),i)}ws(t,e,i,r){return this.As.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="LocalStore",DM=3e8;class OM{constructor(t,e,i,r){this.persistence=t,this.bs=e,this.serializer=r,this.Ss=new ge(Mt),this.Ds=new Oa(o=>vy(o),by),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(i)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new vM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function MM(n,t,e,i){return new OM(n,t,e,i)}async function oA(n,t){const e=xt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Fs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=Ut();for(const g of r){u.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of o){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next(g=>({Ms:g,removedBatchIds:u,addedBatchIds:h}))})})}function kM(n,t){const e=xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,g,y){const v=g.batch,b=v.keys();let w=it.resolve();return b.forEach(A=>{w=w.next(()=>y.getEntry(f,A)).next(C=>{const I=g.docVersions.get(A);Yt(I!==null,48541),C.version.compareTo(I)<0&&(v.applyToRemoteDocument(C,g),C.isValidDocument()&&(C.setReadTime(g.commitVersion),y.addEntry(C)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Ut();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function lA(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function NM(n,t){const e=xt(n),i=t.snapshotVersion;let r=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Cs.newChangeBuffer({trackRemovals:!0});r=e.Ss;const h=[];t.targetChanges.forEach((y,v)=>{const b=r.get(v);if(!b)return;h.push(e.ai.removeMatchingKeys(o,y.removedDocuments,v).next(()=>e.ai.addMatchingKeys(o,y.addedDocuments,v)));let w=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?w=w.withResumeToken(tn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),r=r.insert(v,w),function(C,I,M){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=DM?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(b,w,y)&&h.push(e.ai.updateTargetData(o,w))});let f=Es(),g=Ut();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(PM(o,u,t.documentUpdates).next(y=>{f=y.xs,g=y.Os})),!i.isEqual(Rt.min())){const y=e.ai.getLastRemoteSnapshotVersion(o).next(v=>e.ai.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return it.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(e.Ss=r,o))}function PM(n,t,e){let i=Ut(),r=Ut();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Es();return e.forEach((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Rt.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):ft(Dy,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{xs:u,Os:r}})}function LM(n,t){const e=xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=py),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function VM(n,t){const e=xt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ai.getTargetData(i,t).next(o=>o?(r=o,it.resolve(r)):e.ai.allocateTargetId(i).next(u=>(r=new ur(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.ai.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(i.targetId,i),e.Ds.set(t,i.targetId)),i})}async function Bp(n,t,e){const i=xt(n),r=i.Ss.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r))}catch(u){if(!rl(u))throw u;ft(Dy,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ss=i.Ss.remove(t),i.Ds.delete(r.target)}function kT(n,t,e){const i=xt(n);let r=Rt.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,g,y){const v=xt(f),b=v.Ds.get(y);return b!==void 0?it.resolve(v.Ss.get(b)):v.ai.getTargetData(g,y)}(i,u,Oi(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.bs.getDocumentsMatchingQuery(u,t,e?r:Rt.min(),e?o:Ut())).next(h=>(UM(i,wO(t),h),{documents:h,Ns:o})))}function UM(n,t,e){let i=n.vs.get(t)||Rt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.vs.set(t,i)}class NT{constructor(){this.activeTargetIds=CO()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zM{constructor(){this.So=new NT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,i){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new NT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="ConnectivityMonitor";class LT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ft(PT,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ft(PT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function jp(){return Jh===null?Jh=function(){return 268435456+Math.round(2147483648*Math.random())}():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",jM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HM{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${i}/databases/${r}`,this.qo=this.databaseId.database===Pf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Qo(t,e,i,r,o){const u=jp(),h=this.$o(t,e.toUriEncodedString());ft(np,`Sending RPC '${t}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,r,o),this.Ko(t,h,f,i).then(g=>(ft(np,`Received RPC '${t}' ${u}: `,g),g),g=>{throw Fo(np,`RPC '${t}' ${u} failed with error: `,g,"url: ",h,"request:",i),g})}Wo(t,e,i,r,o,u){return this.Qo(t,e,i,r,o)}Uo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}$o(t,e){const i=jM[t];return`${this.Lo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class qM extends HM{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,i,r){const o=jp();return new Promise((u,h)=>{const f=new uS;f.setWithCredentials(!0),f.listenOnce(cS.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case _f.NO_ERROR:const y=f.getResponseJson();ft(rn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(y)),u(y);break;case _f.TIMEOUT:ft(rn,`RPC '${t}' ${o} timed out`),h(new gt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const v=f.getStatus();if(ft(rn,`RPC '${t}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const A=function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(M)>=0?M:rt.UNKNOWN}(w.status);h(new gt(A,w.message))}else h(new gt(rt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new gt(rt.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{s_:t,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{ft(rn,`RPC '${t}' ${o} completed.`)}});const g=JSON.stringify(r);ft(rn,`RPC '${t}' ${o} sending request:`,r),f.send(e,"POST",g,i,15)})}a_(t,e,i){const r=jp(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=dS(),h=fS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ft(rn,`Creating RPC '${t}' stream ${r}: ${y}`,f);const v=u.createWebChannel(y,f);let b=!1,w=!1;const A=new FM({Go:I=>{w?ft(rn,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(b||(ft(rn,`Opening RPC '${t}' stream ${r} transport.`),v.open(),b=!0),ft(rn,`RPC '${t}' stream ${r} sending:`,I),v.send(I))},zo:()=>v.close()}),C=(I,M,U)=>{I.listen(M,V=>{try{U(V)}catch($){setTimeout(()=>{throw $},0)}})};return C(v,Cu.EventType.OPEN,()=>{w||(ft(rn,`RPC '${t}' stream ${r} transport opened.`),A.t_())}),C(v,Cu.EventType.CLOSE,()=>{w||(w=!0,ft(rn,`RPC '${t}' stream ${r} transport closed`),A.r_())}),C(v,Cu.EventType.ERROR,I=>{w||(w=!0,Fo(rn,`RPC '${t}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),A.r_(new gt(rt.UNAVAILABLE,"The operation could not be completed")))}),C(v,Cu.EventType.MESSAGE,I=>{var M;if(!w){const U=I.data[0];Yt(!!U,16349);const V=U,$=(V==null?void 0:V.error)||((M=V[0])===null||M===void 0?void 0:M.error);if($){ft(rn,`RPC '${t}' stream ${r} received error:`,$);const X=$.status;let ot=function(D){const N=Re[D];if(N!==void 0)return KS(N)}(X),O=$.message;ot===void 0&&(ot=rt.INTERNAL,O="Unknown error status: "+X+" with message "+$.message),w=!0,A.r_(new gt(ot,O)),v.close()}else ft(rn,`RPC '${t}' stream ${r} received:`,U),A.i_(U)}}),C(h,hS.STAT_EVENT,I=>{I.stat===Ip.PROXY?ft(rn,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===Ip.NOPROXY&&ft(rn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(n){return new KO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.bi=t,this.timerId=e,this.u_=i,this.c_=r,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),r=Math.max(0,e-i);r>0&&ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="PersistentStream";class cA{constructor(t,e,i,r,o,u,h,f){this.bi=t,this.R_=i,this.V_=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new uA(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Ts(e.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.m_===e&&this.B_(i,r)},i=>{t(()=>{const r=new gt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(r)})})}B_(t,e){const i=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{i(()=>this.L_(r))}),this.stream.onMessage(r=>{i(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ft(VT,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(ft(VT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GM extends cA{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=XO(this.serializer,t),i=function(o){if(!("targetChange"in o))return Rt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Rt.min():u.readTime?Mi(u.readTime):Rt.min()}(t);return this.listener.Q_(e,i)}U_(t){const e={};e.database=zp(this.serializer),e.addTarget=function(o,u){let h;const f=u.target;if(h=kp(f)?{documents:tM(o,f)}:{query:eA(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=XS(o,u.resumeToken);const g=Lp(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Rt.min())>0){h.readTime=jf(o,u.snapshotVersion.toTimestamp());const g=Lp(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=iM(this.serializer,t);i&&(e.labels=i),this.F_(e)}K_(t){const e={};e.database=zp(this.serializer),e.removeTarget=t,this.F_(e)}}class $M extends cA{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,e){return this.connection.a_("Write",t,e)}q_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const e=JO(t.writeResults,t.commitTime),i=Mi(t.commitTime);return this.listener.j_(i,e)}H_(){const t={};t.database=zp(this.serializer),this.F_(t)}G_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>ZO(this.serializer,i))};this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class KM extends YM{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new gt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,i,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(t,Vp(e,i),r,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(rt.UNKNOWN,o.toString())})}Wo(t,e,i,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(t,Vp(e,i),r,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(rt.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class QM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ts(e),this.ea=!1):ft("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class WM{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{i.enqueueAndForget(async()=>{Ma(this)&&(ft(Aa,"Restarting streams for network reachability change."),await async function(f){const g=xt(f);g.aa.add(4),await _c(g),g.la.set("Unknown"),g.aa.delete(4),await Ad(g)}(this))})}),this.la=new QM(i,r)}}async function Ad(n){if(Ma(n))for(const t of n.ua)await t(!0)}async function _c(n){for(const t of n.ua)await t(!1)}function hA(n,t){const e=xt(n);e._a.has(t.targetId)||(e._a.set(t.targetId,t),Ny(e)?ky(e):ol(e).b_()&&My(e,t))}function Oy(n,t){const e=xt(n),i=ol(e);e._a.delete(t),i.b_()&&fA(e,t),e._a.size===0&&(i.b_()?i.v_():Ma(e)&&e.la.set("Unknown"))}function My(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ol(n).U_(t)}function fA(n,t){n.ha.Ke(t),ol(n).K_(t)}function ky(n){n.ha=new qO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),ol(n).start(),n.la.ta()}function Ny(n){return Ma(n)&&!ol(n).w_()&&n._a.size>0}function Ma(n){return xt(n).aa.size===0}function dA(n){n.ha=void 0}async function XM(n){n.la.set("Online")}async function ZM(n){n._a.forEach((t,e)=>{My(n,t)})}async function JM(n,t){dA(n),Ny(n)?(n.la.ia(t),ky(n)):n.la.set("Unknown")}async function tk(n,t,e){if(n.la.set("Online"),t instanceof WS&&t.state===2&&t.cause)try{await async function(r,o){const u=o.cause;for(const h of o.targetIds)r._a.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r._a.delete(h),r.ha.removeTarget(h))}(n,t)}catch(i){ft(Aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ff(n,i)}else if(t instanceof Ef?n.ha.Xe(t):t instanceof QS?n.ha.ot(t):n.ha.nt(t),!e.isEqual(Rt.min()))try{const i=await lA(n.localStore);e.compareTo(i)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(g);y&&o._a.set(g,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,g)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),fA(o,f);const v=new ur(y.target,f,g,y.sequenceNumber);My(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){ft(Aa,"Failed to raise snapshot:",i),await Ff(n,i)}}async function Ff(n,t,e){if(!rl(t))throw t;n.aa.add(1),await _c(n),n.la.set("Offline"),e||(e=()=>lA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ft(Aa,"Retrying IndexedDB access"),await e(),n.aa.delete(1),await Ad(n)})}function gA(n,t){return t().catch(e=>Ff(n,e,t))}async function xd(n){const t=xt(n),e=Sr(t);let i=t.oa.length>0?t.oa[t.oa.length-1].batchId:py;for(;ek(t);)try{const r=await LM(t.localStore,i);if(r===null){t.oa.length===0&&e.v_();break}i=r.batchId,nk(t,r)}catch(r){await Ff(t,r)}mA(t)&&pA(t)}function ek(n){return Ma(n)&&n.oa.length<10}function nk(n,t){n.oa.push(t);const e=Sr(n);e.b_()&&e.W_&&e.G_(t.mutations)}function mA(n){return Ma(n)&&!Sr(n).w_()&&n.oa.length>0}function pA(n){Sr(n).start()}async function ik(n){Sr(n).H_()}async function sk(n){const t=Sr(n);for(const e of n.oa)t.G_(e.mutations)}async function rk(n,t,e){const i=n.oa.shift(),r=Sy.from(i,t,e);await gA(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await xd(n)}async function ak(n,t){t&&Sr(n).W_&&await async function(i,r){if(function(u){return HO(u)&&u!==rt.ABORTED}(r.code)){const o=i.oa.shift();Sr(i).D_(),await gA(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await xd(i)}}(n,t),mA(n)&&pA(n)}async function UT(n,t){const e=xt(n);e.asyncQueue.verifyOperationInProgress(),ft(Aa,"RemoteStore received new credentials");const i=Ma(e);e.aa.add(3),await _c(e),i&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await Ad(e)}async function ok(n,t){const e=xt(n);t?(e.aa.delete(2),await Ad(e)):t||(e.aa.add(2),await _c(e),e.la.set("Unknown"))}function ol(n){return n.Pa||(n.Pa=function(e,i,r){const o=xt(e);return o.Y_(),new GM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{jo:XM.bind(null,n),Jo:ZM.bind(null,n),Zo:JM.bind(null,n),Q_:tk.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),Ny(n)?ky(n):n.la.set("Unknown")):(await n.Pa.stop(),dA(n))})),n.Pa}function Sr(n){return n.Ta||(n.Ta=function(e,i,r){const o=xt(e);return o.Y_(),new $M(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:ik.bind(null,n),Zo:ak.bind(null,n),z_:sk.bind(null,n),j_:rk.bind(null,n)}),n.ua.push(async t=>{t?(n.Ta.D_(),await xd(n)):(await n.Ta.stop(),n.oa.length>0&&(ft(Aa,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new Py(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ly(n,t){if(Ts("AsyncQueue",`${t}: ${n}`),rl(n))return new gt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(t){return new Vo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||vt.comparator(e.key,i.key):(e,i)=>vt.comparator(e.key,i.key),this.keyedMap=Du(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Vo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Vo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.Ia=new ge(vt.comparator)}track(t){const e=t.doc.key,i=this.Ia.get(e);i?t.type!==0&&i.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&i.type!==1?this.Ia=this.Ia.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Ia=this.Ia.remove(e):t.type===1&&i.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):wt(63341,{Vt:t,Ea:i}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ko{constructor(t,e,i,r,o,u,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new Ko(t,e,Vo.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_d(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class uk{constructor(){this.queries=BT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,i){const r=xt(e),o=r.queries;r.queries=BT(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(i)})})(this,new gt(rt.ABORTED,"Firestore shutting down"))}}function BT(){return new Oa(n=>LS(n),_d)}async function yA(n,t){const e=xt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Va()&&t.ma()&&(i=2):(o=new lk,i=t.ma()?0:1);try{switch(i){case 0:o.Aa=await e.onListen(r,!0);break;case 1:o.Aa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(u){const h=Ly(u,`Initialization of query '${ko(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.Ra.push(t),t.ga(e.onlineState),o.Aa&&t.pa(o.Aa)&&Vy(e)}async function _A(n,t){const e=xt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const u=o.Ra.indexOf(t);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?r=t.ma()?0:1:!o.Va()&&t.ma()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function ck(n,t){const e=xt(n);let i=!1;for(const r of t){const o=r.query,u=e.queries.get(o);if(u){for(const h of u.Ra)h.pa(r)&&(i=!0);u.Aa=r}}i&&Vy(e)}function hk(n,t,e){const i=xt(n),r=i.queries.get(t);if(r)for(const o of r.Ra)o.onError(e);i.queries.delete(t)}function Vy(n){n.fa.forEach(t=>{t.next()})}var Hp,jT;(jT=Hp||(Hp={})).ya="default",jT.Cache="cache";class vA{constructor(t,e,i){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Ko(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const i=e!=="Offline";return(!this.options.Fa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=Ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.key=t}}class TA{constructor(t){this.key=t}}class fk{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ut(),this.mutatedKeys=Ut(),this.Ua=VS(t),this.Ka=new Vo(this.Ua)}get Wa(){return this.qa}Ga(t,e){const i=e?e.za:new zT,r=e?e.Ka:this.Ka;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((y,v)=>{const b=r.get(y),w=vd(this.query,v)?v:null,A=!!b&&this.mutatedKeys.has(b.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;b&&w?b.data.isEqual(w.data)?A!==C&&(i.track({type:3,doc:w}),I=!0):this.ja(b,w)||(i.track({type:2,doc:w}),I=!0,(f&&this.Ua(w,f)>0||g&&this.Ua(w,g)<0)&&(h=!0)):!b&&w?(i.track({type:0,doc:w}),I=!0):b&&!w&&(i.track({type:1,doc:b}),I=!0,(f||g)&&(h=!0)),I&&(w?(u=u.add(w),o=C?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{Ka:u,za:i,ys:h,mutatedKeys:o}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const u=t.za.da();u.sort((y,v)=>function(w,A){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Vt:I})}};return C(w)-C(A)}(y.type,v.type)||this.Ua(y.doc,v.doc)),this.Ha(i),r=r!=null&&r;const h=e&&!r?this.Ja():[],f=this.$a.size===0&&this.current&&!r?1:0,g=f!==this.Qa;return this.Qa=f,u.length!==0||g?{snapshot:new Ko(this.query,t.Ka,o,u,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new zT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Ut(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const e=[];return t.forEach(i=>{this.$a.has(i)||e.push(new TA(i))}),this.$a.forEach(i=>{t.has(i)||e.push(new bA(i))}),e}Xa(t){this.qa=t.Ns,this.$a=Ut();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return Ko.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Uy="SyncEngine";class dk{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class gk{constructor(t){this.key=t,this.tu=!1}}class mk{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Oa(h=>LS(h),_d),this.iu=new Map,this.su=new Set,this.ou=new ge(vt.comparator),this._u=new Map,this.au=new Ry,this.uu={},this.cu=new Map,this.lu=Yo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function pk(n,t,e=!0){const i=RA(n);let r;const o=i.ru.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.eu()):r=await EA(i,t,e,!0),r}async function yk(n,t){const e=RA(n);await EA(e,t,!0,!1)}async function EA(n,t,e,i){const r=await VM(n.localStore,Oi(t)),o=r.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await _k(n,t,o,u==="current",r.resumeToken)),n.isPrimaryClient&&e&&hA(n.remoteStore,r),h}async function _k(n,t,e,i,r){n.Pu=(v,b,w)=>async function(C,I,M,U){let V=I.view.Ga(M);V.ys&&(V=await kT(C.localStore,I.query,!1).then(({documents:O})=>I.view.Ga(O,V)));const $=U&&U.targetChanges.get(I.targetId),X=U&&U.targetMismatches.get(I.targetId)!=null,ot=I.view.applyChanges(V,C.isPrimaryClient,$,X);return FT(C,I.targetId,ot.Ya),ot.snapshot}(n,v,b,w);const o=await kT(n.localStore,t,!0),u=new fk(t,o.Ns),h=u.Ga(o.documents),f=yc.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),g=u.applyChanges(h,n.isPrimaryClient,f);FT(n,e,g.Ya);const y=new dk(t,e,u);return n.ru.set(t,y),n.iu.has(e)?n.iu.get(e).push(t):n.iu.set(e,[t]),g.snapshot}async function vk(n,t,e){const i=xt(n),r=i.ru.get(t),o=i.iu.get(r.targetId);if(o.length>1)return i.iu.set(r.targetId,o.filter(u=>!_d(u,t))),void i.ru.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Bp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&Oy(i.remoteStore,r.targetId),Fp(i,r.targetId)}).catch(sl)):(Fp(i,r.targetId),await Bp(i.localStore,r.targetId,!0))}async function bk(n,t){const e=xt(n),i=e.ru.get(t),r=e.iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Oy(e.remoteStore,i.targetId))}async function Tk(n,t,e){const i=Ik(n);try{const r=await function(u,h){const f=xt(u),g=Le.now(),y=h.reduce((w,A)=>w.add(A.key),Ut());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Es(),C=Ut();return f.Cs.getEntries(w,y).next(I=>{A=I,A.forEach((M,U)=>{U.isValidDocument()||(C=C.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,A)).next(I=>{v=I;const M=[];for(const U of h){const V=LO(U,v.get(U.key).overlayedDocument);V!=null&&M.push(new al(U.key,V,RS(V.value.mapValue),ys.exists(!0)))}return f.mutationQueue.addMutationBatch(w,g,M,h)}).next(I=>{b=I;const M=I.applyToLocalDocumentSet(v,C);return f.documentOverlayCache.saveOverlays(w,I.batchId,M)})}).then(()=>({batchId:b.batchId,changes:zS(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(u,h,f){let g=u.uu[u.currentUser.toKey()];g||(g=new ge(Mt)),g=g.insert(h,f),u.uu[u.currentUser.toKey()]=g}(i,r.batchId,e),await vc(i,r.changes),await xd(i.remoteStore)}catch(r){const o=Ly(r,"Failed to persist write");e.reject(o)}}async function wA(n,t){const e=xt(n);try{const i=await NM(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e._u.get(o);u&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.tu=!0:r.modifiedDocuments.size>0?Yt(u.tu,14607):r.removedDocuments.size>0&&(Yt(u.tu,42227),u.tu=!1))}),await vc(e,i,t)}catch(i){await sl(i)}}function HT(n,t,e){const i=xt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.ru.forEach((o,u)=>{const h=u.view.ga(t);h.snapshot&&r.push(h.snapshot)}),function(u,h){const f=xt(u);f.onlineState=h;let g=!1;f.queries.forEach((y,v)=>{for(const b of v.Ra)b.ga(h)&&(g=!0)}),g&&Vy(f)}(i.eventManager,t),r.length&&i.nu.Q_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Ek(n,t,e){const i=xt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i._u.get(t),o=r&&r.key;if(o){let u=new ge(vt.comparator);u=u.insert(o,on.newNoDocument(o,Rt.min()));const h=Ut().add(o),f=new wd(Rt.min(),new Map,new ge(Mt),u,h);await wA(i,f),i.ou=i.ou.remove(o),i._u.delete(t),zy(i)}else await Bp(i.localStore,t,!1).then(()=>Fp(i,t,e)).catch(sl)}async function wk(n,t){const e=xt(n),i=t.batch.batchId;try{const r=await kM(e.localStore,t);AA(e,i,null),SA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await vc(e,r)}catch(r){await sl(r)}}async function Sk(n,t,e){const i=xt(n);try{const r=await function(u,h){const f=xt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next(v=>(Yt(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(g,v))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(i.localStore,t);AA(i,t,e),SA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await vc(i,r)}catch(r){await sl(r)}}function SA(n,t){(n.cu.get(t)||[]).forEach(e=>{e.resolve()}),n.cu.delete(t)}function AA(n,t,e){const i=xt(n);let r=i.uu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.uu[i.currentUser.toKey()]=r}}function Fp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.iu.get(t))n.ru.delete(i),e&&n.nu.Tu(i,e);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(i=>{n.au.containsKey(i)||xA(n,i)})}function xA(n,t){n.su.delete(t.path.canonicalString());const e=n.ou.get(t);e!==null&&(Oy(n.remoteStore,e),n.ou=n.ou.remove(t),n._u.delete(e),zy(n))}function FT(n,t,e){for(const i of e)i instanceof bA?(n.au.addReference(i.key,t),Ak(n,i)):i instanceof TA?(ft(Uy,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,t),n.au.containsKey(i.key)||xA(n,i.key)):wt(19791,{Iu:i})}function Ak(n,t){const e=t.key,i=e.path.canonicalString();n.ou.get(e)||n.su.has(i)||(ft(Uy,"New document in limbo: "+e),n.su.add(i),zy(n))}function zy(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const e=new vt(ue.fromString(t)),i=n.lu.next();n._u.set(i,new gk(e)),n.ou=n.ou.insert(e,i),hA(n.remoteStore,new ur(Oi(Ty(e.path)),i,"TargetPurposeLimboResolution",md.le))}}async function vc(n,t,e){const i=xt(n),r=[],o=[],u=[];i.ru.isEmpty()||(i.ru.forEach((h,f)=>{u.push(i.Pu(f,t,e).then(g=>{var y;if((g||e)&&i.isPrimaryClient){const v=g?!g.fromCache:(y=e==null?void 0:e.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){r.push(g);const v=Cy.Ps(f.targetId,g);o.push(v)}}))}),await Promise.all(u),i.nu.Q_(r),await async function(f,g){const y=xt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>it.forEach(g,b=>it.forEach(b.ls,w=>y.persistence.referenceDelegate.addReference(v,b.targetId,w)).next(()=>it.forEach(b.hs,w=>y.persistence.referenceDelegate.removeReference(v,b.targetId,w)))))}catch(v){if(!rl(v))throw v;ft(Dy,"Failed to update sequence numbers: "+v)}for(const v of g){const b=v.targetId;if(!v.fromCache){const w=y.Ss.get(b),A=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(A);y.Ss=y.Ss.insert(b,C)}}}(i.localStore,o))}async function xk(n,t){const e=xt(n);if(!e.currentUser.isEqual(t)){ft(Uy,"User change. New user:",t.toKey());const i=await oA(e.localStore,t);e.currentUser=t,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new gt(rt.CANCELLED,u))})}),o.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await vc(e,i.Ms)}}function Rk(n,t){const e=xt(n),i=e._u.get(t);if(i&&i.tu)return Ut().add(i.key);{let r=Ut();const o=e.iu.get(t);if(!o)return r;for(const u of o){const h=e.ru.get(u);r=r.unionWith(h.view.Wa)}return r}}function RA(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=wA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ek.bind(null,t),t.nu.Q_=ck.bind(null,t.eventManager),t.nu.Tu=hk.bind(null,t.eventManager),t}function Ik(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sk.bind(null,t),t}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sd(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return MM(this.persistence,new CM,t.initialUser,this.serializer)}Ru(t){return new aA(Iy.Ei,this.serializer)}Au(t){return new zM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class Ck extends qf{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){Yt(this.persistence.referenceDelegate instanceof Hf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new gM(i,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new aA(i=>Hf.Ei(i,e),this.serializer)}}class qp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xk.bind(null,this.syncEngine),await ok(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new uk}()}createDatastore(t){const e=Sd(t.databaseInfo.databaseId),i=function(o){return new qM(o)}(t.databaseInfo);return function(o,u,h,f){return new KM(o,u,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,u,h){return new WM(i,r,o,u,h)}(this.localStore,this.datastore,t.asyncQueue,e=>HT(this.syncEngine,e,0),function(){return LT.C()?new LT:new BM}())}createSyncEngine(t,e){return function(r,o,u,h,f,g,y){const v=new mk(r,o,u,h,f,g);return y&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=xt(r);ft(Aa,"RemoteStore shutting down."),o.aa.add(5),await _c(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}qp.provider={build:()=>new qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Ts("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class Dk{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=an.UNAUTHENTICATED,this.clientId=yS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{ft(Ar,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ft(Ar,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Ly(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function sp(n,t){n.asyncQueue.verifyOperationInProgress(),ft(Ar,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await oA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function qT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Ok(n);ft(Ar,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>UT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>UT(t.remoteStore,r)),n._onlineComponents=t}async function Ok(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(Ar,"Using user provided OfflineComponentProvider");try{await sp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;Fo("Error using user provided cache. Falling back to memory cache: "+e),await sp(n,new qf)}}else ft(Ar,"Using default OfflineComponentProvider"),await sp(n,new Ck(void 0));return n._offlineComponents}async function By(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(Ar,"Using user provided OnlineComponentProvider"),await qT(n,n._uninitializedComponentsProvider._online)):(ft(Ar,"Using default OnlineComponentProvider"),await qT(n,new qp))),n._onlineComponents}function Mk(n){return By(n).then(t=>t.syncEngine)}function kk(n){return By(n).then(t=>t.datastore)}async function Gp(n){const t=await By(n),e=t.eventManager;return e.onListen=pk.bind(null,t.syncEngine),e.onUnlisten=vk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=yk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=bk.bind(null,t.syncEngine),e}function Nk(n,t,e={}){const i=new ps;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,g){const y=new IA({next:b=>{y.yu(),u.enqueueAndForget(()=>_A(o,v)),b.fromCache&&f.source==="server"?g.reject(new gt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new vA(h,y,{includeMetadataChanges:!0,Fa:!0});return yA(o,v)}(await Gp(n),n.asyncQueue,t,e,i)),i.promise}function Pk(n,t,e){const i=new ps;return n.asyncQueue.enqueueAndForget(async()=>{try{const r=await kk(n);i.resolve(async function(u,h,f){var g;const y=xt(u),{request:v,yt:b,parent:w}=eM(y.serializer,EO(h),f);y.connection.Bo||delete v.parent;const A=(await y.Wo("RunAggregationQuery",y.serializer.databaseId,w,v,1)).filter(I=>!!I.result);Yt(A.length===1,64727);const C=(g=A[0].result)===null||g===void 0?void 0:g.aggregateFields;return Object.keys(C).reduce((I,M)=>(I[b[M]]=C[M],I),{})}(r,t,e))}catch(r){i.reject(r)}}),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n,t,e){if(!e)throw new gt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Lk(n,t,e,i){if(t===!0&&i===!0)throw new gt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function $T(n){if(!vt.isDocumentKey(n))throw new gt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function YT(n){if(vt.isDocumentKey(n))throw new gt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":wt(12329,{type:typeof n})}function pr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Rd(n);throw new gt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firestore.googleapis.com",KT=!0;class QT{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new gt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OA,this.ssl=KT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:KT;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fM)throw new gt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Lk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Id{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new jD;switch(i.type){case"firstParty":return new GD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=GT.get(e);i&&(ft("ComponentProvider","Removing Datastore"),GT.delete(e),i.terminate())}(this),Promise.resolve()}}function Vk(n,t,e,i={}){var r;const o=(n=pr(n,Id))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${t}:${e}`;o.host!==OA&&o.host!==h&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:i});if(!Ea(f,u)&&(n._setSettings(f),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=an.MOCK_USER;else{g=g2(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new gt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new an(v)}n._authCredentials=new HD(new mS(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ka(this.firestore,t,this._query)}}class kn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new kn(this.firestore,t,this._key)}}class yr extends ka{constructor(t,e,i){super(t,e,Ty(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new kn(this.firestore,null,new vt(t))}withConverter(t){return new yr(this.firestore,t,this._path)}}function Mu(n,t,...e){if(n=cn(n),DA("collection","path",t),n instanceof Id){const i=ue.fromString(t,...e);return YT(i),new yr(n,null,i)}{if(!(n instanceof kn||n instanceof yr))throw new gt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return YT(i),new yr(n.firestore,null,i)}}function Uk(n,t,...e){if(n=cn(n),arguments.length===1&&(t=yS.newId()),DA("doc","path",t),n instanceof Id){const i=ue.fromString(t,...e);return $T(i),new kn(n,null,new vt(i))}{if(!(n instanceof kn||n instanceof yr))throw new gt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return $T(i),new kn(n.firestore,n instanceof yr?n.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="AsyncQueue";class XT{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new uA(this,"async_queue_retry"),this.ju=()=>{const i=ip();i&&ft(WT,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=t;const e=ip();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=ip();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new ps;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!rl(t))throw t;ft(WT,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(i=>{throw this.Ku=i,this.Wu=!1,Ts("INTERNAL UNHANDLED ERROR: ",ZT(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=e,e}enqueueAfterDelay(t,e,i){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const r=Py.createAndSchedule(this,t,e,i,o=>this.Xu(o));return this.Uu.push(r),r}Ju(){this.Ku&&wt(47125,{ec:ZT(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function ZT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Qo extends Id{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new XT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new XT(t),this._firestoreClient=void 0,await t}}}function zk(n,t){const e=typeof n=="object"?n:rS(),i=typeof n=="string"?n:Pf,r=gy(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=f2("firestore");o&&Vk(r,...o)}return r}function Cd(n){if(n._terminated)throw new gt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Bk(n),n._firestoreClient}function Bk(n){var t,e,i;const r=n._freezeSettings(),o=function(h,f,g,y){return new oO(h,f,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,CA(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Dk(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t="count",e){this._internalFieldPath=e,this.type="AggregateField",this.aggregateType=t}}class Hk{constructor(t,e,i){this._userDataWriter=e,this._data=i,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wo(tn.fromBase64String(t))}catch(e){throw new gt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wo(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=/^__.*__$/;function NA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{oc:n})}}class Fy{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Fy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.ac({path:i,cc:!1});return r.lc(t),r}hc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.ac({path:i,cc:!1});return r._c(),r}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return $p(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(NA(this.oc)&&Fk.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class qk{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Sd(t)}dc(t,e,i,r=!1){return new Fy({oc:t,methodName:e,Ec:i,path:Ze.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gk(n){const t=n._freezeSettings(),e=Sd(n._databaseId);return new qk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function $k(n,t,e,i=!1){return qy(e,n.dc(i?4:3,t))}function qy(n,t){if(PA(n=cn(n)))return Kk("Unsupported field value:",t,n),Yk(n,t);if(n instanceof kA)return function(i,r){if(!NA(r.oc))throw r.Tc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(i,r){const o=[];let u=0;for(const h of i){let f=qy(h,r.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return DO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Le.fromDate(i);return{timestampValue:jf(r.serializer,o)}}if(i instanceof Le){const o=new Le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jf(r.serializer,o)}}if(i instanceof jy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wo)return{bytesValue:XS(r.serializer,i._byteString)};if(i instanceof kn){const o=r.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw r.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Hy)return function(u,h){return{mapValue:{fields:{[AS]:{stringValue:xS},[Lf]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw h.Tc("VectorValues must only contain numeric values.");return Ey(h.serializer,g)})}}}}}}(i,r);throw r.Tc(`Unsupported field value: ${Rd(i)}`)}(n,t)}function Yk(n,t){const e={};return vS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Da(n,(i,r)=>{const o=qy(r,t.uc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function PA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Le||n instanceof jy||n instanceof Wo||n instanceof kn||n instanceof kA||n instanceof Hy)}function Kk(n,t,e){if(!PA(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=Rd(e);throw i==="an object"?t.Tc(n+" a custom object"):t.Tc(n+" "+i)}}const Qk=new RegExp("[~\\*/\\[\\]]");function Wk(n,t,e){if(t.search(Qk)>=0)throw $p(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new MA(...t.split("."))._internalPath}catch{throw $p(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function $p(n,t,e,i,r){const o=i&&!i.isEmpty(),u=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new gt(rt.INVALID_ARGUMENT,h+n+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Gy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Xk extends LA{data(){return super.data()}}function Gy(n,t){return typeof t=="string"?Wk(n,t):t instanceof MA?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $y{}class Zk extends $y{}function wf(n,t,...e){let i=[];t instanceof $y&&i.push(t),i=i.concat(e),function(o){const u=o.filter(f=>f instanceof Yy).length,h=o.filter(f=>f instanceof Dd).length;if(u>1||u>0&&h>0)throw new gt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Dd extends Zk{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Dd(t,e,i)}_apply(t){const e=this._parse(t);return UA(t._query,e),new ka(t.firestore,t.converter,Np(t._query,e))}_parse(t){const e=Gk(t.firestore);return function(o,u,h,f,g,y,v){let b;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new gt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){nE(v,y);const A=[];for(const C of v)A.push(eE(f,o,C));b={arrayValue:{values:A}}}else b=eE(f,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||nE(v,y),b=$k(h,u,v,y==="in"||y==="not-in");return Ie.create(g,y,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function tE(n,t,e){const i=t,r=Gy("where",n);return Dd._create(r,i,e)}class Yy extends $y{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Yy(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:ri.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let u=r;const h=o.getFlattenedFilters();for(const f of h)UA(u,f),u=Np(u,f)}(t._query,e),new ka(t.firestore,t.converter,Np(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function eE(n,t,e){if(typeof(e=cn(e))=="string"){if(e==="")throw new gt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NS(t)&&e.indexOf("/")!==-1)throw new gt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ue.fromString(e));if(!vt.isDocumentKey(i))throw new gt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return gT(n,new vt(i))}if(e instanceof kn)return gT(n,e._key);throw new gt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rd(e)}.`)}function nE(n,t){if(!Array.isArray(n)||n.length===0)throw new gt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function UA(n,t){const e=function(r,o){for(const u of r)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new gt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class Jk{convertValue(t,e="none"){switch(wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Da(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[Lf].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(u=>Te(u.doubleValue));return new Hy(o)}convertGeoPoint(t){return new jy(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=yd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(tc(t));default:return null}}convertTimestamp(t){const e=Tr(t);return new Le(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ue.fromString(t);Yt(sA(i),9688,{name:t});const r=new ec(i.get(1),i.get(3)),o=new vt(i.popFirst(5));return r.isEqual(e)||Ts(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function tN(){return new jk("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zA extends LA{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Gy("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Sf extends zA{data(t={}){return super.data(t)}}class BA{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ku(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Sf(this._firestore,this._userDataWriter,i.key,i,new ku(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>{const f=new Sf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ku(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Sf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ku(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,y=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:eN(h.type),doc:f,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function eN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:n})}}class Od extends Jk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new kn(this.firestore,null,e)}}function nN(n){n=pr(n,ka);const t=pr(n.firestore,Qo),e=Cd(t),i=new Od(t);return VA(n._query),Nk(e,n._query).then(r=>new BA(t,i,n,r))}function iN(n){return rN(pr(n.firestore,Qo),[new wy(n._key,ys.none())])}function sN(n,...t){var e,i,r;n=cn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof t[u]!="object"||JT(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(JT(t[u])){const v=t[u];t[u]=(e=v.next)===null||e===void 0?void 0:e.bind(v),t[u+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),t[u+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}let f,g,y;if(n instanceof kn)g=pr(n.firestore,Qo),y=Ty(n._key.path),f={next:v=>{t[u]&&t[u](aN(g,n,v))},error:t[u+1],complete:t[u+2]};else{const v=pr(n,ka);g=pr(v.firestore,Qo),y=v._query;const b=new Od(g);f={next:w=>{t[u]&&t[u](new BA(g,b,v,w))},error:t[u+1],complete:t[u+2]},VA(n._query)}return function(b,w,A,C){const I=new IA(C),M=new vA(w,I,A);return b.asyncQueue.enqueueAndForget(async()=>yA(await Gp(b),M)),()=>{I.yu(),b.asyncQueue.enqueueAndForget(async()=>_A(await Gp(b),M))}}(Cd(g),y,h,f)}function rN(n,t){return function(i,r){const o=new ps;return i.asyncQueue.enqueueAndForget(async()=>Tk(await Mk(i),r,o)),o.promise}(Cd(n),t)}function aN(n,t,e){const i=e.docs.get(t._key),r=new Od(n);return new zA(n,r,t._key,i,new ku(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(n){return oN(n,{count:tN()})}function oN(n,t){const e=pr(n.firestore,Qo),i=Cd(e),r=rO(t,(o,u)=>new BO(u,o.aggregateType,o._internalFieldPath));return Pk(i,n._query,r).then(o=>function(h,f,g){const y=new Od(h);return new Hk(f,y,g)}(e,n,o))}(function(t,e=!0){(function(r){il=r})(nl),Ho(new wa("firestore",(i,{instanceIdentifier:r,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new Qo(new FD(i.getProvider("auth-internal")),new $D(u,i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new gt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(g.options.projectId,y)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),gr(nT,iT,t),gr(nT,iT,"esm2017")})();function Ky(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function jA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lN=jA,HA=new gc("auth","Firebase",jA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new fy("@firebase/auth");function uN(n,...t){Gf.logLevel<=Vt.WARN&&Gf.warn(`Auth (${nl}): ${n}`,...t)}function Af(n,...t){Gf.logLevel<=Vt.ERROR&&Gf.error(`Auth (${nl}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(n,...t){throw Qy(n,...t)}function ki(n,...t){return Qy(n,...t)}function FA(n,t,e){const i=Object.assign(Object.assign({},lN()),{[t]:e});return new gc("auth","Firebase",i).create(t,{appName:n.name})}function _r(n){return FA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return HA.create(n,...t)}function Et(n,t,...e){if(!n)throw Qy(t,...e)}function ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Af(t),new Error(t)}function ws(n,t){n||ds(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function cN(){return iE()==="http:"||iE()==="https:"}function iE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cN()||_2()||"connection"in navigator)?navigator.onLine:!0}function fN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,e){this.shortDelay=t,this.longDelay=e,ws(e>t,"Short delay should be less than long delay!"),this.isMobile=m2()||v2()}get(){return hN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n,t){ws(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mN=new bc(3e4,6e4);function Na(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function xs(n,t,e,i,r={}){return GA(n,r,async()=>{let o={},u={};i&&(t==="GET"?u=i:o={body:JSON.stringify(i)});const h=mc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:f},o);return y2()||(g.referrerPolicy="no-referrer"),qA.fetch()(await $A(n,n.config.apiHost,e,h),g)})}async function GA(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},dN),t);try{const r=new yN(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw tf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw tf(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw tf(n,"user-disabled",u);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw FA(n,y,g);ai(n,y)}}catch(r){if(r instanceof As)throw r;ai(n,"network-request-failed",{message:String(r)})}}async function Md(n,t,e,i,r={}){const o=await xs(n,t,e,i,r);return"mfaPendingCredential"in o&&ai(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function $A(n,t,e,i){const r=`${t}${e}?${i}`,o=n,u=o.config.emulator?Wy(n.config,r):`${n.config.apiScheme}://${r}`;return gN.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function pN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ki(this.auth,"network-request-failed")),mN.get())})}}function tf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=ki(n,t,i);return r.customData._tokenResponse=e,r}function sE(n){return n!==void 0&&n.enterprise!==void 0}class _N{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return pN(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vN(n,t){return xs(n,"GET","/v2/recaptchaConfig",Na(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(n,t){return xs(n,"POST","/v1/accounts:delete",t)}async function $f(n,t){return xs(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function TN(n,t=!1){const e=cn(n),i=await e.getIdToken(t),r=Xy(i);Et(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:qu(ap(r.auth_time)),issuedAtTime:qu(ap(r.iat)),expirationTime:qu(ap(r.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ap(n){return Number(n)*1e3}function Xy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const r=Zw(e);return r?JSON.parse(r):(Af("Failed to decode base64 JWT payload"),null)}catch(r){return Af("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function rE(n){const t=Xy(n);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof As&&EN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function EN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Xo(n,$f(e,{idToken:i}));Et(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?YA(o.providerUserInfo):[],h=AN(n.providerData,u),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function SN(n){const t=cn(n);await Yf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function AN(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function YA(n){return n.map(t=>{var{providerId:e}=t,i=Ky(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,t){const e=await GA(n,{},async()=>{const i=mc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,u=await $A(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",qA.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function RN(n,t){return xs(n,"POST","/v2/accounts:revokeToken",Na(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=rE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await xN(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,u=new Uo;return i&&(Et(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),r&&(Et(typeof r=="string","internal-error",{appName:t}),u.accessToken=r),o&&(Et(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,t){Et(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class si{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Ky(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Xo(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return TN(this,t)}reload(){return SN(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new si(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Yf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(_r(this.auth));const t=await this.getIdToken();return await Xo(this,bN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,u,h,f,g,y;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(r=e.email)!==null&&r!==void 0?r:void 0,w=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=e.photoURL)!==null&&u!==void 0?u:void 0,C=(h=e.tenantId)!==null&&h!==void 0?h:void 0,I=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,M=(g=e.createdAt)!==null&&g!==void 0?g:void 0,U=(y=e.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:V,emailVerified:$,isAnonymous:X,providerData:ot,stsTokenManager:O}=e;Et(V&&O,t,"internal-error");const R=Uo.fromJSON(this.name,O);Et(typeof V=="string",t,"internal-error"),nr(v,t.name),nr(b,t.name),Et(typeof $=="boolean",t,"internal-error"),Et(typeof X=="boolean",t,"internal-error"),nr(w,t.name),nr(A,t.name),nr(C,t.name),nr(I,t.name),nr(M,t.name),nr(U,t.name);const D=new si({uid:V,auth:t,email:b,emailVerified:$,displayName:v,isAnonymous:X,photoURL:A,phoneNumber:w,tenantId:C,stsTokenManager:R,createdAt:M,lastLoginAt:U});return ot&&Array.isArray(ot)&&(D.providerData=ot.map(N=>Object.assign({},N))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(t,e,i=!1){const r=new Uo;r.updateFromServerResponse(e);const o=new si({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Yf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Et(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?YA(r.providerUserInfo):[],u=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new Uo;h.updateFromIdToken(i);const f=new si({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:u}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Kp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;function gs(n){ws(n instanceof Function,"Expected a class definition");let t=aE.get(n);return t?(ws(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,aE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}KA.type="NONE";const oE=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n,t,e){return`firebase:${n}:${t}:${e}`}class zo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=xf(this.userKey,r.apiKey,o),this.fullPersistenceKey=xf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await $f(this.auth,{idToken:t}).catch(()=>{});return e?si._fromGetAccountInfoResponse(this.auth,e,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new zo(gs(oE),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||gs(oE);const u=xf(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const y=await g._get(u);if(y){let v;if(typeof y=="string"){const b=await $f(t,{idToken:y}).catch(()=>{});if(!b)break;v=await si._fromGetAccountInfoResponse(t,b,y)}else v=si._fromJSON(t,y);g!==o&&(h=v),o=g;break}}catch{}const f=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new zo(o,t,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new zo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ZA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(t1(t))return"Blackberry";if(e1(t))return"Webos";if(WA(t))return"Safari";if((t.includes("chrome/")||XA(t))&&!t.includes("edge/"))return"Chrome";if(JA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function QA(n=un()){return/firefox\//i.test(n)}function WA(n=un()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XA(n=un()){return/crios\//i.test(n)}function ZA(n=un()){return/iemobile/i.test(n)}function JA(n=un()){return/android/i.test(n)}function t1(n=un()){return/blackberry/i.test(n)}function e1(n=un()){return/webos/i.test(n)}function Zy(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function IN(n=un()){var t;return Zy(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function CN(){return b2()&&document.documentMode===10}function n1(n=un()){return Zy(n)||JA(n)||e1(n)||t1(n)||/windows phone/i.test(n)||ZA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(n,t=[]){let e;switch(n){case"Browser":e=lE(un());break;case"Worker":e=`${lE(un())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${nl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((u,h)=>{try{const f=t(o);u(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(n,t={}){return xs(n,"GET","/v2/passwordPolicy",Na(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=6;class kN{constructor(t){var e,i,r,o;const u=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=u.minPasswordLength)!==null&&e!==void 0?e:MN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new DN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=gs(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await zo.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await $f(this,{idToken:t}),i=await si._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ni(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(t);(!u||u===h)&&(f!=null&&f.user)&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Yf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(_r(this));const e=t?cn(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ON(this),e=new kN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new gc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await RN(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&gs(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[gs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{u=!0,f()}}else{const f=t.addObserver(e);return()=>{u=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=i1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&uN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ll(n){return cn(n)}class uE{constructor(t){this.auth=t,this.observer=null,this.addObserver=I2(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(n){kd=n}function s1(n){return kd.loadJS(n)}function LN(){return kd.recaptchaEnterpriseScript}function VN(){return kd.gapiScript}function UN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class zN{constructor(){this.enterprise=new BN}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class BN{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const jN="recaptcha-enterprise",r1="NO_RECAPTCHA";class HN{constructor(t){this.type=jN,this.auth=ll(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{vN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new _N(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,u(g.siteKey)}}).catch(f=>{h(f)})})}function r(o,u,h){const f=window.grecaptcha;sE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(g=>{u(g)}).catch(()=>{u(r1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zN().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!e&&sE(window.grecaptcha))r(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=LN();f.length!==0&&(f+=h),s1(f).then(()=>{r(h,o,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function cE(n,t,e,i=!1,r=!1){const o=new HN(n);let u;if(r)u=r1;else try{u=await o.verify(e)}catch{u=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function hE(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await cE(n,t,e,e==="getOobCode");return i(n,u)}else return i(n,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await cE(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n,t){const e=gy(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Ea(o,t??{}))return r;ai(r,"already-initialized")}return e.initialize({options:t})}function qN(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(gs);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function GN(n,t,e){const i=ll(n);Et(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=a1(t),{host:u,port:h}=$N(t),f=h===null?"":`:${h}`,g={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Et(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Et(Ea(g,i.config.emulator)&&Ea(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,YN()}function a1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function $N(n){const t=a1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:fE(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:fE(u)}}}function fE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function YN(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,e){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}async function KN(n,t){return xs(n,"POST","/v1/accounts:update",t)}async function QN(n,t){return xs(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(n,t){return Md(n,"POST","/v1/accounts:signInWithPassword",Na(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(n,t){return Md(n,"POST","/v1/accounts:signInWithEmailLink",Na(n,t))}async function ZN(n,t){return Md(n,"POST","/v1/accounts:signInWithEmailLink",Na(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Jy{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new rc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new rc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hE(t,e,"signInWithPassword",WN);case"emailLink":return XN(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hE(t,i,"signUpPassword",QN);case"emailLink":return ZN(t,{idToken:e,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n,t){return Md(n,"POST","/v1/accounts:signInWithIdp",Na(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="http://localhost";class xa extends Jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new xa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ai("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Ky(e,["providerId","signInMethod"]);if(!i||!r)return null;const u=new xa(i,r);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Bo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Bo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Bo(t,e)}buildRequest(){const t={requestUri:JN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=mc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eP(n){const t=Ru(Iu(n)).link,e=t?Ru(Iu(t)).deep_link_id:null,i=Ru(Iu(n)).deep_link_id;return(i?Ru(Iu(i)).link:null)||i||e||t||n}class t_{constructor(t){var e,i,r,o,u,h;const f=Ru(Iu(t)),g=(e=f.apiKey)!==null&&e!==void 0?e:null,y=(i=f.oobCode)!==null&&i!==void 0?i:null,v=tP((r=f.mode)!==null&&r!==void 0?r:null);Et(g&&y&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=eP(t);try{return new t_(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(t,e){return rc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=t_.parseLink(e);return Et(i,"argument-error"),rc._fromEmailAndCode(t,i.code,i.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends o1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Tc{constructor(){super("facebook.com")}static credential(t){return xa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return xa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ar.credential(e,i)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Tc{constructor(){super("github.com")}static credential(t){return xa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Tc{constructor(){super("twitter.com")}static credential(t,e){return xa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return lr.credential(e,i)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await si._fromIdTokenResponse(t,i,r),u=dE(i);return new Zo({user:o,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=dE(i);return new Zo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function dE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends As{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Kf.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Kf(t,e,i,r)}}function l1(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Kf._fromErrorAndOperation(n,o,t,i):o})}async function nP(n,t,e=!1){const i=await Xo(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Zo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(n,t,e=!1){const{auth:i}=n;if(ni(i.app))return Promise.reject(_r(i));const r="reauthenticate";try{const o=await Xo(n,l1(i,r,t,n),e);Et(o.idToken,i,"internal-error");const u=Xy(o.idToken);Et(u,i,"internal-error");const{sub:h}=u;return Et(n.uid===h,i,"user-mismatch"),Zo._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ai(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(n,t,e=!1){if(ni(n.app))return Promise.reject(_r(n));const i="signIn",r=await l1(n,i,t),o=await Zo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function iP(n,t){return c1(ll(n),t)}async function sP(n,t){return u1(cn(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(n){const t=ll(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function aP(n,t,e){return ni(n.app)?Promise.reject(_r(n)):iP(cn(n),Pa.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&rP(n),i})}function oP(n,t){return lP(cn(n),null,t)}async function lP(n,t,e){const{auth:i}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.password=e);const u=await Xo(n,KN(i,o));await n._updateTokensIfNecessary(u,!0)}function uP(n,t,e,i){return cn(n).onIdTokenChanged(t,e,i)}function cP(n,t,e){return cn(n).beforeAuthStateChanged(t,e)}function hP(n){return cn(n).signOut()}const Qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1e3,dP=10;class f1 extends h1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);CN()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,dP):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},fP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}f1.type="LOCAL";const gP=f1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1 extends h1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}d1.type="SESSION";const g1=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Nd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,u=this.handlersMap[r];if(!(u!=null&&u.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(u).map(async g=>g(e.origin,o)),f=await mP(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const g=e_("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),r.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function yP(n){Ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function _P(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function bP(){return m1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebaseLocalStorageDb",TP=1,Wf="firebaseLocalStorage",y1="fbase_key";class Ec{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Pd(n,t){return n.transaction([Wf],t?"readwrite":"readonly").objectStore(Wf)}function EP(){const n=indexedDB.deleteDatabase(p1);return new Ec(n).toPromise()}function Qp(){const n=indexedDB.open(p1,TP);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Wf,{keyPath:y1})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Wf)?t(i):(i.close(),await EP(),t(await Qp()))})})}async function gE(n,t,e){const i=Pd(n,!0).put({[y1]:t,value:e});return new Ec(i).toPromise()}async function wP(n,t){const e=Pd(n,!1).get(t),i=await new Ec(e).toPromise();return i===void 0?null:i.value}function mE(n,t){const e=Pd(n,!0).delete(t);return new Ec(e).toPromise()}const SP=800,AP=3;class _1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>AP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nd._getInstance(bP()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await _P(),!this.activeServiceWorker)return;this.sender=new pP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qp();return await gE(t,Qf,"1"),await mE(t,Qf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>gE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>wP(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>mE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Pd(r,!1).getAll();return new Ec(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_1.type="LOCAL";const xP=_1;new bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n,t){return t?gs(t):(Et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends Jy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Bo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Bo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function IP(n){return c1(n.auth,new n_(n),n.bypassAuthState)}function CP(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),u1(e,new n_(n),n.bypassAuthState)}async function DP(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),nP(e,new n_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IP;case"linkViaPopup":case"linkViaRedirect":return DP;case"reauthViaPopup":case"reauthViaRedirect":return CP;default:ai(this.auth,"internal-error")}}resolve(t){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new bc(2e3,1e4);class Po extends v1{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const t=e_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OP.get())};t()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="pendingRedirect",Rf=new Map;class kP extends v1{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Rf.get(this.auth._key());if(!t){try{const i=await NP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Rf.set(this.auth._key(),t)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NP(n,t){const e=VP(t),i=LP(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function PP(n,t){Rf.set(n._key(),t)}function LP(n){return gs(n._redirectPersistence)}function VP(n){return xf(MP,n.config.apiKey,n.name)}async function UP(n,t,e=!1){if(ni(n.app))return Promise.reject(_r(n));const i=ll(n),r=RP(i,t),u=await new kP(i,r,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=10*60*1e3;class BP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jP(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!b1(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(ki(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zP&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(t))}saveEventToCache(t){this.cachedEventUids.add(pE(t)),this.lastProcessedEventTime=Date.now()}}function pE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function b1({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function jP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(n,t={}){return xs(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qP=/^https?/;async function GP(n){if(n.config.emulator)return;const{authorizedDomains:t}=await HP(n);for(const e of t)try{if($P(e))return}catch{}ai(n,"unauthorized-domain")}function $P(n){const t=Yp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!qP.test(e))return!1;if(FP.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new bc(3e4,6e4);function yE(){const n=Ni().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function KP(n){return new Promise((t,e)=>{var i,r,o;function u(){yE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yE(),e(ki(n,"network-request-failed"))},timeout:YP.get()})}if(!((r=(i=Ni().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Ni().gapi)===null||o===void 0)&&o.load)u();else{const h=UN("iframefcb");return Ni()[h]=()=>{gapi.load?u():e(ki(n,"network-request-failed"))},s1(`${VN()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw If=null,t})}let If=null;function QP(n){return If=If||KP(n),If}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new bc(5e3,15e3),XP="__/auth/iframe",ZP="emulator/auth/iframe",JP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eL(n){const t=n.config;Et(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Wy(t,ZP):`https://${n.config.authDomain}/${XP}`,i={apiKey:t.apiKey,appName:n.name,v:nl},r=tL.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${mc(i).slice(1)}`}async function nL(n){const t=await QP(n),e=Ni().gapi;return Et(e,n,"internal-error"),t.open({where:document.body,url:eL(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JP,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const u=ki(n,"network-request-failed"),h=Ni().setTimeout(()=>{o(u)},WP.get());function f(){Ni().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sL=500,rL=600,aL="_blank",oL="http://localhost";class _E{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lL(n,t,e,i=sL,r=rL){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},iL),{width:i.toString(),height:r.toString(),top:o,left:u}),g=un().toLowerCase();e&&(h=XA(g)?aL:e),QA(g)&&(t=t||oL,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[w,A])=>`${b}${w}=${A},`,"");if(IN(g)&&h!=="_self")return uL(t||"",h),new _E(null);const v=window.open(t||"",h,y);Et(v,n,"popup-blocked");try{v.focus()}catch{}return new _E(v)}function uL(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="__/auth/handler",hL="emulator/auth/handler",fL=encodeURIComponent("fac");async function vE(n,t,e,i,r,o){Et(n.config.authDomain,n,"auth-domain-config-required"),Et(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:nl,eventId:r};if(t instanceof o1){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",R2(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof Tc){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),g=f?`#${fL}=${encodeURIComponent(f)}`:"";return`${dL(n)}?${mc(h).slice(1)}${g}`}function dL({config:n}){return n.emulator?Wy(n,hL):`https://${n.authDomain}/${cL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class gL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g1,this._completeRedirectFn=UP,this._overrideRedirectResult=PP}async _openPopup(t,e,i,r){var o;ws((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await vE(t,e,i,Yp(),r);return lL(t,u,e_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await vE(t,e,i,Yp(),r);return yP(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(ws(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await nL(t),i=new BP(t);return e.register("authEvent",r=>(Et(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(op,{type:op},r=>{var o;const u=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[op];u!==void 0&&e(!!u),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=GP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return n1()||WA()||Zy()}}const mL=gL;var bE="@firebase/auth",TE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _L(n){Ho(new wa("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Et(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i1(n)},g=new NN(i,r,o,f);return qN(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ho(new wa("auth-internal",t=>{const e=ll(t.getProvider("auth").getImmediate());return(i=>new pL(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(bE,TE,yL(n)),gr(bE,TE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=5*60,bL=eS("authIdTokenMaxAge")||vL;let EE=null;const TL=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>bL)return;const r=e==null?void 0:e.token;EE!==r&&(EE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function EL(n=rS()){const t=gy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=FN(n,{popupRedirectResolver:mL,persistence:[xP,gP,g1]}),i=eS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=TL(o.toString());cP(e,u,()=>u(e.currentUser)),uP(e,h=>u(h))}}const r=Jw("auth");return r&&GN(e,`http://${r}`),e}function wL(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}PN({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=ki("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",wL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_L("Browser");const SL={apiKey:"AIzaSyAOyXtCcIRtGRiv_xKhNnSEExlbi2ToMy4",authDomain:"meet-over-weekend.firebaseapp.com",projectId:"meet-over-weekend",storageBucket:"meet-over-weekend.firebasestorage.app",messagingSenderId:"646488031525",appId:"1:646488031525:web:3e3a7fba0b7d214f4c1acc",measurementId:"G-0LKJBZGM1G"},T1=sS(SL),Lo=zk(T1),Ld=EL(T1),E1="/assets/logo-DfKhjzwF.png",AL=({user:n})=>{const t=ud(),[e,i]=H.useState(!1),r=async()=>{try{await hP(Ld),t("/login"),Lt.success("Logged out successfully")}catch(o){Lt.error(o.message)}};return J.jsxs("div",{className:"flex h-screen bg-gray-100",children:[J.jsx("button",{type:"button",className:"md:hidden absolute p-2 m-2 text-gray-700 rounded-lg hover:bg-gray-200 z-10",onClick:()=>i(!e),children:e?J.jsx(n2,{className:"h-6 w-6"}):J.jsx(KC,{className:"h-6 w-6"})}),J.jsx("div",{className:`fixed inset-y-0 left-0 transform ${e?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-20`,children:J.jsx(i2,{user:n,onLogout:r,closeMobileMenu:()=>i(!1)})}),J.jsxs("div",{className:"flex-1 overflow-auto md:ml-64",children:[J.jsx("div",{className:"flex justify-end pt-2 pr-5",children:J.jsx("img",{src:E1,alt:"",className:"sm:w-32 sm:h-32 w-20 h-20"})}),J.jsx("div",{className:"min-h-full",children:J.jsx(OI,{})})]}),e&&J.jsx("div",{className:"fixed inset-0 bg-black/50 md:hidden z-10",onClick:()=>i(!1)})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wc(n){return n+.5|0}const cr=(n,t,e)=>Math.max(Math.min(n,e),t);function Nu(n){return cr(wc(n*2.55),0,255)}function vr(n){return cr(wc(n*255),0,255)}function hs(n){return cr(wc(n/2.55)/100,0,1)}function wE(n){return cr(wc(n*100),0,100)}const Yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Wp=[..."0123456789ABCDEF"],xL=n=>Wp[n&15],RL=n=>Wp[(n&240)>>4]+Wp[n&15],ef=n=>(n&240)>>4===(n&15),IL=n=>ef(n.r)&&ef(n.g)&&ef(n.b)&&ef(n.a);function CL(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Yn[n[1]]*17,g:255&Yn[n[2]]*17,b:255&Yn[n[3]]*17,a:t===5?Yn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Yn[n[1]]<<4|Yn[n[2]],g:Yn[n[3]]<<4|Yn[n[4]],b:Yn[n[5]]<<4|Yn[n[6]],a:t===9?Yn[n[7]]<<4|Yn[n[8]]:255})),e}const DL=(n,t)=>n<255?t(n):"";function OL(n){var t=IL(n)?xL:RL;return n?"#"+t(n.r)+t(n.g)+t(n.b)+DL(n.a,t):void 0}const ML=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function w1(n,t,e){const i=t*Math.min(e,1-e),r=(o,u=(o+n/30)%12)=>e-i*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function kL(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function NL(n,t,e){const i=w1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function PL(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function i_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),u=Math.min(e,i,r),h=(o+u)/2;let f,g,y;return o!==u&&(y=o-u,g=h>.5?y/(2-o-u):y/(o+u),f=PL(e,i,r,y,o),f=f*60+.5),[f|0,g||0,h]}function s_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(vr)}function r_(n,t,e){return s_(w1,n,t,e)}function LL(n,t,e){return s_(NL,n,t,e)}function VL(n,t,e){return s_(kL,n,t,e)}function S1(n){return(n%360+360)%360}function UL(n){const t=ML.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Nu(+t[5]):vr(+t[5]));const r=S1(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?i=LL(r,o,u):t[1]==="hsv"?i=VL(r,o,u):i=r_(r,o,u),{r:i[0],g:i[1],b:i[2],a:e}}function zL(n,t){var e=i_(n);e[0]=S1(e[0]+t),e=r_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function BL(n){if(!n)return;const t=i_(n),e=t[0],i=wE(t[1]),r=wE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${hs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const SE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jL(){const n={},t=Object.keys(AE),e=Object.keys(SE);let i,r,o,u,h;for(i=0;i<t.length;i++){for(u=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,SE[o]);o=parseInt(AE[u],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let nf;function HL(n){nf||(nf=jL(),nf.transparent=[0,0,0,0]);const t=nf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const FL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qL(n){const t=FL.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const u=+t[7];e=t[8]?Nu(u):cr(u*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Nu(i):cr(i,0,255)),r=255&(t[4]?Nu(r):cr(r,0,255)),o=255&(t[6]?Nu(o):cr(o,0,255)),{r:i,g:r,b:o,a:e}}}function GL(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${hs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const lp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Co=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function $L(n,t,e){const i=Co(hs(n.r)),r=Co(hs(n.g)),o=Co(hs(n.b));return{r:vr(lp(i+e*(Co(hs(t.r))-i))),g:vr(lp(r+e*(Co(hs(t.g))-r))),b:vr(lp(o+e*(Co(hs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function sf(n,t,e){if(n){let i=i_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=r_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function A1(n,t){return n&&Object.assign(t||{},n)}function xE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=vr(n[3]))):(t=A1(n,{r:0,g:0,b:0,a:1}),t.a=vr(t.a)),t}function YL(n){return n.charAt(0)==="r"?qL(n):UL(n)}class ac{constructor(t){if(t instanceof ac)return t;const e=typeof t;let i;e==="object"?i=xE(t):e==="string"&&(i=CL(t)||HL(t)||YL(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=A1(this._rgb);return t&&(t.a=hs(t.a)),t}set rgb(t){this._rgb=xE(t)}rgbString(){return this._valid?GL(this._rgb):void 0}hexString(){return this._valid?OL(this._rgb):void 0}hslString(){return this._valid?BL(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const u=e===o?.5:e,h=2*u-1,f=i.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=u*i.a+(1-u)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=$L(this._rgb,t._rgb,e)),this}clone(){return new ac(this.rgb)}alpha(t){return this._rgb.a=vr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=wc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return sf(this._rgb,2,t),this}darken(t){return sf(this._rgb,2,-t),this}saturate(t){return sf(this._rgb,1,t),this}desaturate(t){return sf(this._rgb,1,-t),this}rotate(t){return zL(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ls(){}const KL=(()=>{let n=0;return()=>n++})();function ln(n){return n==null}function Je(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Gt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ss(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ri(n,t){return Ss(n)?n:t}function Jt(n,t){return typeof n>"u"?t:n}const QL=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,x1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function le(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Zt(n,t,e,i){let r,o,u;if(Je(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Gt(n))for(u=Object.keys(n),o=u.length,r=0;r<o;r++)t.call(e,n[u[r]],u[r])}function Xf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Zf(n){if(Je(n))return n.map(Zf);if(Gt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Zf(n[e[r]]);return t}return n}function R1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function WL(n,t,e,i){if(!R1(n))return;const r=t[n],o=e[n];Gt(r)&&Gt(o)?oc(r,o,i):t[n]=Zf(o)}function oc(n,t,e){const i=Je(t)?t:[t],r=i.length;if(!Gt(n))return n;e=e||{};const o=e.merger||WL;let u;for(let h=0;h<r;++h){if(u=i[h],!Gt(u))continue;const f=Object.keys(u);for(let g=0,y=f.length;g<y;++g)o(f[g],n,u,e)}return n}function Gu(n,t){return oc(n,t,{merger:XL})}function XL(n,t,e){if(!R1(n))return;const i=t[n],r=e[n];Gt(i)&&Gt(r)?Gu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Zf(r))}const RE={"":n=>n,x:n=>n.x,y:n=>n.y};function ZL(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function JL(n){const t=ZL(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function lc(n,t){return(RE[t]||(RE[t]=JL(t)))(n)}function a_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Jf=n=>typeof n<"u",xr=n=>typeof n=="function",IE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function tV(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ge=Math.PI,Ce=2*Ge,td=Number.POSITIVE_INFINITY,eV=Ge/180,Pe=Ge/2,ha=Ge/4,CE=Ge*2/3,DE=Math.sign;function nV(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function iV(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ed(n){return!iV(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function _a(n){return n*(Ge/180)}function sV(n){return n*(180/Ge)}function I1(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ge&&(o+=Ce),{angle:o,distance:r}}function rV(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function fa(n){return(n%Ce+Ce)%Ce}function nd(n,t,e,i){const r=fa(n),o=fa(t),u=fa(e),h=fa(o-r),f=fa(u-r),g=fa(r-o),y=fa(r-u);return r===o||r===u||i&&o===u||h>f&&g<y}function Kn(n,t,e){return Math.max(t,Math.min(e,n))}function aV(n){return Kn(n,-32768,32767)}function Pu(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function o_(n,t,e){e=e||(u=>n[u]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Xp=(n,t,e,i)=>o_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),oV=(n,t,e)=>o_(n,e,i=>n[i][t]>=e);function lV(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const C1=["push","pop","shift","splice","unshift"];function uV(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),C1.forEach(e=>{const i="_onData"+a_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const u=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),u}})})}function OE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(C1.forEach(o=>{delete n[o]}),delete n._chartjs)}function cV(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const D1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function O1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,D1.call(window,()=>{i=!1,n.apply(t,e)}))}}function hV(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const M1=n=>n==="start"?"left":n==="end"?"right":"center",Mn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,fV=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,rf=n=>n===0||n===1,ME=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ce/e)),kE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ce/e)+1,$u={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Pe)+1,easeOutSine:n=>Math.sin(n*Pe),easeInOutSine:n=>-.5*(Math.cos(Ge*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>rf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>rf(n)?n:ME(n,.075,.3),easeOutElastic:n=>rf(n)?n:kE(n,.075,.3),easeInOutElastic(n){return rf(n)?n:n<.5?.5*ME(n*2,.1125,.45):.5+.5*kE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-$u.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?$u.easeInBounce(n*2)*.5:$u.easeOutBounce(n*2-1)*.5+.5};function k1(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function NE(n){return k1(n)?n:new ac(n)}function up(n){return k1(n)?n:new ac(n).saturate(.5).darken(.1).hexString()}const dV=["x","y","borderWidth","radius","tension"],gV=["color","borderColor","backgroundColor"];function mV(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:gV},numbers:{type:"number",properties:dV}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function pV(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const PE=new Map;function yV(n,t){t=t||{};const e=n+JSON.stringify(t);let i=PE.get(e);return i||(i=new Intl.NumberFormat(n,t),PE.set(e,i)),i}function _V(n,t,e){return yV(t,e).format(n)}const vV={values(n){return Je(n)?n:""+n}};var bV={formatters:vV};function TV(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bV.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ra=Object.create(null),Zp=Object.create(null);function Yu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function cp(n,t,e){return typeof t=="string"?oc(Yu(n,t),e):oc(Yu(n,""),t)}class EV{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>up(r.backgroundColor),this.hoverBorderColor=(i,r)=>up(r.borderColor),this.hoverColor=(i,r)=>up(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return cp(this,t,e)}get(t){return Yu(this,t)}describe(t,e){return cp(Zp,t,e)}override(t,e){return cp(Ra,t,e)}route(t,e,i,r){const o=Yu(this,t),u=Yu(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=u[r];return Gt(f)?Object.assign({},g,f):Jt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ee=new EV({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mV,pV,TV]);function wV(n){return!n||ln(n.size)||ln(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function LE(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function da(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function VE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function UE(n,t,e,i){N1(n,t,e,i,null)}function N1(n,t,e,i,r){let o,u,h,f,g,y,v,b;const w=t.pointStyle,A=t.rotation,C=t.radius;let I=(A||0)*eV;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),w){default:r?n.ellipse(e,i,r/2,C,0,0,Ce):n.arc(e,i,C,0,Ce),n.closePath();break;case"triangle":y=r?r/2:C,n.moveTo(e+Math.sin(I)*y,i-Math.cos(I)*C),I+=CE,n.lineTo(e+Math.sin(I)*y,i-Math.cos(I)*C),I+=CE,n.lineTo(e+Math.sin(I)*y,i-Math.cos(I)*C),n.closePath();break;case"rectRounded":g=C*.516,f=C-g,u=Math.cos(I+ha)*f,v=Math.cos(I+ha)*(r?r/2-g:f),h=Math.sin(I+ha)*f,b=Math.sin(I+ha)*(r?r/2-g:f),n.arc(e-v,i-h,g,I-Ge,I-Pe),n.arc(e+b,i-u,g,I-Pe,I),n.arc(e+v,i+h,g,I,I+Pe),n.arc(e-b,i+u,g,I+Pe,I+Ge),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*C,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}I+=ha;case"rectRot":v=Math.cos(I)*(r?r/2:C),u=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-v,i-h),n.lineTo(e+b,i-u),n.lineTo(e+v,i+h),n.lineTo(e-b,i+u),n.closePath();break;case"crossRot":I+=ha;case"cross":v=Math.cos(I)*(r?r/2:C),u=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"star":v=Math.cos(I)*(r?r/2:C),u=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u),I+=ha,v=Math.cos(I)*(r?r/2:C),u=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"line":u=r?r/2:Math.cos(I)*C,h=Math.sin(I)*C,n.moveTo(e-u,i-h),n.lineTo(e+u,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(r?r/2:C),i+Math.sin(I)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function P1(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function l_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function u_(n){n.restore()}function SV(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ln(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function AV(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),u=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(u,y),n.lineTo(h,y),n.stroke()}}function xV(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function id(n,t,e,i,r,o={}){const u=Je(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=r.string,SV(n,o),f=0;f<u.length;++f)g=u[f],o.backdrop&&xV(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ln(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),AV(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function Jp(n,t){const{x:e,y:i,w:r,h:o,radius:u}=t;n.arc(e+u.topLeft,i+u.topLeft,u.topLeft,1.5*Ge,Ge,!0),n.lineTo(e,i+o-u.bottomLeft),n.arc(e+u.bottomLeft,i+o-u.bottomLeft,u.bottomLeft,Ge,Pe,!0),n.lineTo(e+r-u.bottomRight,i+o),n.arc(e+r-u.bottomRight,i+o-u.bottomRight,u.bottomRight,Pe,0,!0),n.lineTo(e+r,i+u.topRight),n.arc(e+r-u.topRight,i+u.topRight,u.topRight,0,-Pe,!0),n.lineTo(e+u.topLeft,i)}const RV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,IV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function CV(n,t){const e=(""+n).match(RV);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const DV=n=>+n||0;function c_(n,t){const e={},i=Gt(t),r=i?Object.keys(t):t,o=Gt(n)?i?u=>Jt(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of r)e[u]=DV(o(u));return e}function OV(n){return c_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ku(n){return c_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function oi(n){const t=OV(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function En(n,t){n=n||{},t=t||Ee.font;let e=Jt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Jt(n.style,t.style);i&&!(""+i).match(IV)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Jt(n.family,t.family),lineHeight:CV(Jt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Jt(n.weight,t.weight),string:""};return r.string=wV(r),r}function af(n,t,e,i){let r,o,u;for(r=0,o=n.length;r<o;++r)if(u=n[r],u!==void 0&&u!==void 0)return u}function MV(n,t,e){const{min:i,max:r}=n,o=x1(t,(r-i)/2),u=(h,f)=>e&&h===0?0:h+f;return{min:u(i,-Math.abs(o)),max:u(r,o)}}function ul(n,t){return Object.assign(Object.create(n),t)}function h_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=z1("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>h_([h,...n],t,o,i)};return new Proxy(u,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return V1(h,f,()=>BV(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return BE(h).includes(f)},ownKeys(h){return BE(h)},set(h,f,g){const y=h._storage||(h._storage=r());return h[f]=y[f]=g,delete h._keys,!0}})}function Jo(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:L1(n,i),setContext:o=>Jo(n,o,e,i),override:o=>Jo(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,u){return delete o[u],delete n[u],!0},get(o,u,h){return V1(o,u,()=>NV(o,u,h))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(o,u,h){return n[u]=h,delete o[u],!0}})}function L1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:xr(e)?e:()=>e,isIndexable:xr(i)?i:()=>i}}const kV=(n,t)=>n?n+a_(t):t,f_=(n,t)=>Gt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function V1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function NV(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:u}=n;let h=i[t];return xr(h)&&u.isScriptable(t)&&(h=PV(t,h,n,e)),Je(h)&&h.length&&(h=LV(t,h,n,u.isIndexable)),f_(t,h)&&(h=Jo(h,r,o&&o[t],u)),h}function PV(n,t,e,i){const{_proxy:r,_context:o,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,u||i);return h.delete(n),f_(n,f)&&(f=d_(r._scopes,r,n,f)),f}function LV(n,t,e,i){const{_proxy:r,_context:o,_subProxy:u,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Gt(t[0])){const f=t,g=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const v=d_(g,r,n,y);t.push(Jo(v,o,u&&u[n],h))}}return t}function U1(n,t,e){return xr(n)?n(t,e):n}const VV=(n,t)=>n===!0?t:typeof n=="string"?lc(t,n):void 0;function UV(n,t,e,i,r){for(const o of t){const u=VV(e,o);if(u){n.add(u);const h=U1(u._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(u===!1&&typeof i<"u"&&e!==i)return null}return!1}function d_(n,t,e,i){const r=t._rootScopes,o=U1(t._fallback,e,i),u=[...n,...r],h=new Set;h.add(i);let f=zE(h,u,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=zE(h,u,o,f,i),f===null)?!1:h_(Array.from(h),[""],r,o,()=>zV(t,e,i))}function zE(n,t,e,i,r){for(;e;)e=UV(n,t,e,i,r);return e}function zV(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Je(r)&&Gt(e)?e:r||{}}function BV(n,t,e,i){let r;for(const o of t)if(r=z1(kV(o,n),e),typeof r<"u")return f_(n,r)?d_(e,i,n,r):r}function z1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function BE(n){let t=n._keys;return t||(t=n._keys=jV(n._scopes)),t}function jV(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function g_(){return typeof window<"u"&&typeof document<"u"}function m_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function sd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Vd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function HV(n,t){return Vd(n).getPropertyValue(t)}const FV=["top","right","bottom","left"];function ba(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=FV[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const qV=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function GV(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let u=!1,h,f;if(qV(r,o,n.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,u=!0}return{x:h,y:f,box:u}}function pa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Vd(e),o=r.boxSizing==="border-box",u=ba(r,"padding"),h=ba(r,"border","width"),{x:f,y:g,box:y}=GV(n,e),v=u.left+(y&&h.left),b=u.top+(y&&h.top);let{width:w,height:A}=t;return o&&(w-=u.width+h.width,A-=u.height+h.height),{x:Math.round((f-v)/w*e.width/i),y:Math.round((g-b)/A*e.height/i)}}function $V(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&m_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const u=o.getBoundingClientRect(),h=Vd(o),f=ba(h,"border","width"),g=ba(h,"padding");t=u.width-g.width-f.width,e=u.height-g.height-f.height,i=sd(h.maxWidth,o,"clientWidth"),r=sd(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||td,maxHeight:r||td}}const of=n=>Math.round(n*10)/10;function YV(n,t,e,i){const r=Vd(n),o=ba(r,"margin"),u=sd(r.maxWidth,n,"clientWidth")||td,h=sd(r.maxHeight,n,"clientHeight")||td,f=$V(n,t,e);let{width:g,height:y}=f;if(r.boxSizing==="content-box"){const b=ba(r,"border","width"),w=ba(r,"padding");g-=w.width+b.width,y-=w.height+b.height}return g=Math.max(0,g-o.width),y=Math.max(0,i?g/i:y-o.height),g=of(Math.min(g,u,f.maxWidth)),y=of(Math.min(y,h,f.maxHeight)),g&&!y&&(y=of(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,g=of(Math.floor(y*i))),{width:g,height:y}}function jE(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||u.height!==r||u.width!==o?(n.currentDevicePixelRatio=i,u.height=r,u.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const KV=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};g_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function HE(n,t){const e=HV(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const QV=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},WV=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function jo(n,t,e){return n?QV(t,e):WV()}function B1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function j1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function lf(n,t,e){return n.options.clip?n[e]:t[e]}function XV(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:lf(e,t,"left"),right:lf(e,t,"right"),top:lf(i,t,"top"),bottom:lf(i,t,"bottom")}:t}function ZV(n,t){const e=t._clip;if(e.disabled)return!1;const i=XV(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class JV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],u=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(i-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=D1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let u=o.length-1,h=!1,f;for(;u>=0;--u)f=o[u],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[u]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var us=new JV;const FE="transparent",t4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=NE(n||FE),r=i.valid&&NE(t||FE);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class e4{constructor(t,e,i,r){const o=e[i];r=af([t.to,r,o,t.from]);const u=af([t.from,o,r]);this._active=!0,this._fn=t.fn||t4[t.type||typeof u],this._easing=$u[t.easing]||$u.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,u=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=af([t.to,e,r,t.from]),this._from=af([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,u=this._loop,h=this._to;let f;if(this._active=o!==h&&(u||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=u&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class H1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Gt(t))return;const e=Object.keys(Ee.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Gt(o))return;const u={};for(const h of e)u[h]=o[h];(Je(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,u)})})}_animateOptions(t,e){const i=e.options,r=i4(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&n4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let f;for(f=u.length-1;f>=0;--f){const g=u[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[g];let v=o[g];const b=i.get(g);if(v)if(b&&v.active()){v.update(b,y,h);continue}else v.cancel();if(!b||!b.duration){t[g]=y;continue}o[g]=v=new e4(b,t,g,y),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return us.add(this._chart,i),!0}}function n4(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function i4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function qE(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function s4(n,t,e){if(e===!1)return!1;const i=qE(n,e),r=qE(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function r4(n){let t,e,i,r;return Gt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function F1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function GE(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let u,h,f,g;if(t===null)return;let y=!1;for(u=0,h=r.length;u<h;++u){if(f=+r[u],f===e){if(y=!0,i.all)continue;break}g=n.values[f],Ss(g)&&(o||t===0||DE(t)===DE(g))&&(t+=g)}return!y&&!i.all?0:t}function a4(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let f,g,y;for(f=0,g=u.length;f<g;++f)y=u[f],h[f]={[r]:y,[o]:n[y]};return h}function hp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function o4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function l4(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function u4(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function $E(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function YE(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:u,index:h}=i,f=o.axis,g=u.axis,y=o4(o,u,i),v=t.length;let b;for(let w=0;w<v;++w){const A=t[w],{[f]:C,[g]:I}=A,M=A._stacks||(A._stacks={});b=M[g]=u4(r,y,C),b[h]=I,b._top=$E(b,u,!0,i.type),b._bottom=$E(b,u,!1,i.type);const U=b._visualValues||(b._visualValues={});U[h]=I}}function fp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function c4(n,t){return ul(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function h4(n,t,e){return ul(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Eu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const dp=n=>n==="reset"||n==="none",KE=(n,t)=>t?n:Object.assign({},n),f4=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:F1(e,!0),values:null};class Qu{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=hp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Eu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,b,w,A)=>v==="x"?b:v==="r"?A:w,o=e.xAxisID=Jt(i.xAxisID,fp(t,"x")),u=e.yAxisID=Jt(i.yAxisID,fp(t,"y")),h=e.rAxisID=Jt(i.rAxisID,fp(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,u,h),y=e.vAxisID=r(f,u,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&OE(this._data,this),t._stacked&&Eu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Gt(e)){const r=this._cachedMeta;this._data=a4(e,r)}else if(i!==e){if(i){OE(i,this);const r=this._cachedMeta;Eu(r),r._parsed=[]}e&&Object.isExtensible(e)&&uV(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=hp(e.vScale,e),e.stack!==i.stack&&(r=!0,Eu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(YE(this,e._parsed),e._stacked=hp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:u}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],y,v,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Je(r[t])?b=this.parseArrayData(i,r,t,e):Gt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const w=()=>v[h]===null||g&&v[h]<g[h];for(y=0;y<e;++y)i._parsed[y+t]=v=b[y],f&&(w()&&(f=!1),g=v);i._sorted=f}u&&YE(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:u}=t,h=o.axis,f=u.axis,g=o.getLabels(),y=o===u,v=new Array(r);let b,w,A;for(b=0,w=r;b<w;++b)A=b+i,v[b]={[h]:y||o.parse(g[A],A),[f]:u.parse(e[A],A)};return v}parseArrayData(t,e,i,r){const{xScale:o,yScale:u}=t,h=new Array(r);let f,g,y,v;for(f=0,g=r;f<g;++f)y=f+i,v=e[y],h[f]={x:o.parse(v[0],y),y:u.parse(v[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let y,v,b,w;for(y=0,v=r;y<v;++y)b=y+i,w=e[b],g[y]={x:o.parse(lc(w,h),b),y:u.parse(lc(w,f),b)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,u=e[t.axis],h={keys:F1(r,!0),values:e._stacks[t.axis]._visualValues};return GE(h,u,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let u=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,u=GE(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,u=r.length,h=this._getOtherScale(t),f=f4(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=l4(h);let b,w;function A(){w=r[b];const C=w[h.axis];return!Ss(w[t.axis])||y>C||v<C}for(b=0;b<u&&!(!A()&&(this.updateRangeFromParsed(g,t,w,f),o));++b);if(o){for(b=u-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(g,t,w,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,u;for(r=0,o=e.length;r<o;++r)u=e[r][t.axis],Ss(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=r4(Jt(this.options.clip,s4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,u=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const v=r[y];v.hidden||(v.active&&g?u.push(v):v.draw(t,o))}for(y=0;y<u.length;++y)u[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=h4(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=c4(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,u=t+"-"+e,h=o[u],f=this.enableOptionSharing&&Jf(i);if(h)return KE(h,f);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],b=g.getOptionScopes(this.getDataset(),y),w=Object.keys(Ee.elements[t]),A=()=>this.getContext(i,r,e),C=g.resolveNamedOptions(b,w,A,v);return C.$shared&&(C.$shared=f,o[u]=Object.freeze(KE(C,f))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,u=`animation-${e}`,h=o[u];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),b=y.getOptionScopes(this.getDataset(),v);f=y.createResolver(b,this.getContext(t,i,e))}const g=new H1(r,f&&f.animations);return f&&f._cacheable&&(o[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||dp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),u=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:u}}updateElement(t,e,i,r){dp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!dp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=i.length,o=e.length,u=Math.min(o,r);u&&this.parse(0,u),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,u=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(f(o),h=t;h<u;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Eu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Dt(Qu,"defaults",{}),Dt(Qu,"datasetElementType",null),Dt(Qu,"dataElementType",null);function d4(n,t,e){let i=1,r=1,o=0,u=0;if(t<Ce){const h=n,f=h+t,g=Math.cos(h),y=Math.sin(h),v=Math.cos(f),b=Math.sin(f),w=(V,$,X)=>nd(V,h,f,!0)?1:Math.max($,$*e,X,X*e),A=(V,$,X)=>nd(V,h,f,!0)?-1:Math.min($,$*e,X,X*e),C=w(0,g,v),I=w(Pe,y,b),M=A(Ge,g,v),U=A(Ge+Pe,y,b);i=(C-M)/2,r=(I-U)/2,o=-(C+M)/2,u=-(I+U)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:u}}class Lu extends Qu{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Gt(i[t])){const{key:f="value"}=this._parsing;o=g=>+lc(i[g],f)}let u,h;for(u=t,h=t+e;u<h;++u)r._parsed[u]=o(u)}}_getRotation(){return _a(this.options.rotation-90)}_getCircumference(){return _a(this.options.circumference)}_getRotationExtents(){let t=Ce,e=-Ce;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),u=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+u)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,u=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-u)/2,0),f=Math.min(QL(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:y,rotation:v}=this._getRotationExtents(),{ratioX:b,ratioY:w,offsetX:A,offsetY:C}=d4(v,y,f),I=(i.width-u)/b,M=(i.height-u)/w,U=Math.max(Math.min(I,M)/2,0),V=x1(this.options.radius,U),$=Math.max(V*f,0),X=(V-$)/this._getVisibleDatasetWeightTotal();this.offsetX=A*V,this.offsetY=C*V,r.total=this.calculateTotal(),this.outerRadius=V-X*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-X*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/Ce)}updateElements(t,e,i,r){const o=r==="reset",u=this.chart,h=u.chartArea,g=u.options.animation,y=(h.left+h.right)/2,v=(h.top+h.bottom)/2,b=o&&g.animateScale,w=b?0:this.innerRadius,A=b?0:this.outerRadius,{sharedOptions:C,includeOptions:I}=this._getSharedOptions(e,r);let M=this._getRotation(),U;for(U=0;U<e;++U)M+=this._circumference(U,o);for(U=e;U<e+i;++U){const V=this._circumference(U,o),$=t[U],X={x:y+this.offsetX,y:v+this.offsetY,startAngle:M,endAngle:M+V,circumference:V,outerRadius:A,innerRadius:w};I&&(X.options=C||this.resolveDataElementOptions(U,$.active?"active":r)),M+=V,this.updateElement($,U,X,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ce*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=_V(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,u,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){u=i.getDatasetMeta(r),t=u.data,h=u.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Jt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Dt(Lu,"id","doughnut"),Dt(Lu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Dt(Lu,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Dt(Lu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,u)=>{const f=t.getDatasetMeta(0).controller.getStyle(u);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class ty extends Lu{}Dt(ty,"id","pie"),Dt(ty,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function ga(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class p_{constructor(t){Dt(this,"options");this.options=t||{}}static override(t){Object.assign(p_.prototype,t)}init(){}formats(){return ga()}parse(){return ga()}format(){return ga()}add(){return ga()}diff(){return ga()}startOf(){return ga()}endOf(){return ga()}}var g4={_date:p_};function m4(n,t,e,i){const{controller:r,data:o,_sorted:u}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&o.length){const g=h._reversePixels?oV:Xp;if(i){if(r._sharedOptions){const y=o[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const b=g(o,t,e-v),w=g(o,t,e+v);return{lo:b.lo,hi:w.hi}}}}else{const y=g(o,t,e);if(f){const{vScale:v}=r._cachedMeta,{_parsed:b}=n,w=b.slice(0,y.lo+1).reverse().findIndex(C=>!ln(C[v.axis]));y.lo-=Math.max(0,w);const A=b.slice(y.hi).findIndex(C=>!ln(C[v.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function Ud(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:y}=o[h],{lo:v,hi:b}=m4(o[h],t,u,r);for(let w=v;w<=b;++w){const A=y[w];A.skip||i(A,g,w)}}}function p4(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,u=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function gp(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Ud(n,e,t,function(h,f,g){!r&&!P1(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function y4(n,t,e,i){let r=[];function o(u,h,f){const{startAngle:g,endAngle:y}=u.getProps(["startAngle","endAngle"],i),{angle:v}=I1(u,{x:t.x,y:t.y});nd(v,g,y)&&r.push({element:u,datasetIndex:h,index:f})}return Ud(n,e,t,o),r}function _4(n,t,e,i,r,o){let u=[];const h=p4(e);let f=Number.POSITIVE_INFINITY;function g(y,v,b){const w=y.inRange(t.x,t.y,r);if(i&&!w)return;const A=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!w)return;const I=h(t,A);I<f?(u=[{element:y,datasetIndex:v,index:b}],f=I):I===f&&u.push({element:y,datasetIndex:v,index:b})}return Ud(n,e,t,g),u}function mp(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?y4(n,t,e,r):_4(n,t,e,i,r,o)}function QE(n,t,e,i,r){const o=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return Ud(n,e,t,(f,g,y)=>{f[u]&&f[u](t[e],r)&&(o.push({element:f,datasetIndex:g,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var v4={modes:{index(n,t,e,i){const r=pa(t,n),o=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?gp(n,r,o,i,u):mp(n,r,o,!1,i,u),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,v=g.data[y];v&&!v.skip&&f.push({element:v,datasetIndex:g.index,index:y})}),f):[]},dataset(n,t,e,i){const r=pa(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?gp(n,r,o,i,u):mp(n,r,o,!1,i,u);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=pa(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return gp(n,r,o,i,u)},nearest(n,t,e,i){const r=pa(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return mp(n,r,o,e.intersect,i,u)},x(n,t,e,i){const r=pa(t,n);return QE(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=pa(t,n);return QE(n,r,"y",e.intersect,i)}}};const q1=["left","top","right","bottom"];function wu(n,t){return n.filter(e=>e.pos===t)}function WE(n,t){return n.filter(e=>q1.indexOf(e.pos)===-1&&e.box.axis===t)}function Su(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function b4(n){const t=[];let e,i,r,o,u,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:u,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&o+u,stackWeight:h});return t}function T4(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!q1.includes(r))continue;const u=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function E4(n,t){const e=T4(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,u,h;for(o=0,u=n.length;o<u;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function w4(n){const t=b4(n),e=Su(t.filter(g=>g.box.fullSize),!0),i=Su(wu(t,"left"),!0),r=Su(wu(t,"right")),o=Su(wu(t,"top"),!0),u=Su(wu(t,"bottom")),h=WE(t,"x"),f=WE(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(u).concat(h),chartArea:wu(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(u).concat(h)}}function XE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function G1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function S4(n,t,e,i){const{pos:r,box:o}=e,u=n.maxPadding;if(!Gt(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&G1(u,o.getPadding());const h=Math.max(0,t.outerWidth-XE(u,n,"left","right")),f=Math.max(0,t.outerHeight-XE(u,n,"top","bottom")),g=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:y}:{same:y,other:g}}function A4(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function x4(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{o[u]=Math.max(t[u],e[u])}),o}return i(n?["left","right"]:["top","bottom"])}function Vu(n,t,e,i){const r=[];let o,u,h,f,g,y;for(o=0,u=n.length,g=0;o<u;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,x4(h.horizontal,t));const{same:v,other:b}=S4(t,e,h,i);g|=v&&r.length,y=y||b,f.fullSize||r.push(h)}return g&&Vu(r,t,e,i)||y}function uf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function ZE(n,t,e,i){const r=e.padding;let{x:o,y:u}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*y,b=g.size||f.height;Jf(g.start)&&(u=g.start),f.fullSize?uf(f,r.left,u,e.outerWidth-r.right-r.left,b):uf(f,t.left+g.placed,u,v,b),g.start=u,g.placed+=v,u=f.bottom}else{const v=t.h*y,b=g.size||f.width;Jf(g.start)&&(o=g.start),f.fullSize?uf(f,o,r.top,b,e.outerHeight-r.bottom-r.top):uf(f,o,t.top+g.placed,b,v),g.start=o,g.placed+=v,o=f.right}}t.x=o,t.y=u}var hr={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=oi(n.options.layout.padding),o=Math.max(t-r.width,0),u=Math.max(e-r.height,0),h=w4(n.boxes),f=h.vertical,g=h.horizontal;Zt(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const y=f.reduce((C,I)=>I.box.options&&I.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/y,hBoxMaxHeight:u/2}),b=Object.assign({},r);G1(b,oi(i));const w=Object.assign({maxPadding:b,w:o,h:u,x:r.left,y:r.top},r),A=E4(f.concat(g),v);Vu(h.fullSize,w,v,A),Vu(f,w,v,A),Vu(g,w,v,A)&&Vu(f,w,v,A),A4(w),ZE(h.leftAndTop,w,v,A),w.x+=w.w,w.y+=w.h,ZE(h.rightAndBottom,w,v,A),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Zt(h.chartArea,C=>{const I=C.box;Object.assign(I,n.chartArea),I.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class $1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class R4 extends $1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Cf="$chartjs",I4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},JE=n=>n===null||n==="";function C4(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Cf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",JE(r)){const o=HE(n,"width");o!==void 0&&(n.width=o)}if(JE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=HE(n,"height");o!==void 0&&(n.height=o)}return n}const Y1=KV?{passive:!0}:!1;function D4(n,t,e){n&&n.addEventListener(t,e,Y1)}function O4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Y1)}function M4(n,t){const e=I4[n.type]||n.type,{x:i,y:r}=pa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function rd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function k4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||rd(h.addedNodes,i),u=u&&!rd(h.removedNodes,i);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function N4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||rd(h.removedNodes,i),u=u&&!rd(h.addedNodes,i);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const uc=new Map;let tw=0;function K1(){const n=window.devicePixelRatio;n!==tw&&(tw=n,uc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function P4(n,t){uc.size||window.addEventListener("resize",K1),uc.set(n,t)}function L4(n){uc.delete(n),uc.size||window.removeEventListener("resize",K1)}function V4(n,t,e){const i=n.canvas,r=i&&m_(i);if(!r)return;const o=O1((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),u=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,y=f.contentRect.height;g===0&&y===0||o(g,y)});return u.observe(r),P4(n,o),u}function pp(n,t,e){e&&e.disconnect(),t==="resize"&&L4(n)}function U4(n,t,e){const i=n.canvas,r=O1(o=>{n.ctx!==null&&e(M4(o,n))},n);return D4(i,t,r),r}class z4 extends $1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(C4(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Cf])return!1;const i=e[Cf].initial;["height","width"].forEach(o=>{const u=i[o];ln(u)?e.removeAttribute(o):e.setAttribute(o,u)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Cf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),u={attach:k4,detach:N4,resize:V4}[e]||U4;r[e]=u(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:pp,detach:pp,resize:pp}[e]||O4)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return YV(t,e,i,r)}isAttached(t){const e=t&&m_(t);return!!(e&&e.isConnected)}}function B4(n){return!g_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?R4:z4}class Ia{constructor(){Dt(this,"x");Dt(this,"y");Dt(this,"active",!1);Dt(this,"options");Dt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ed(this.x)&&ed(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}Dt(Ia,"defaults",{}),Dt(Ia,"defaultRoutes");function j4(n,t){const e=n.options.ticks,i=H4(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?q4(t):[],u=o.length,h=o[0],f=o[u-1],g=[];if(u>r)return G4(t,g,o,u/r),g;const y=F4(o,t,r);if(u>0){let v,b;const w=u>1?Math.round((f-h)/(u-1)):null;for(cf(t,g,y,ln(w)?0:h-w,h),v=0,b=u-1;v<b;v++)cf(t,g,y,o[v],o[v+1]);return cf(t,g,y,f,ln(w)?t.length:f+w),g}return cf(t,g,y),g}function H4(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function F4(n,t,e){const i=$4(n),r=t.length/e;if(!i)return Math.max(r,1);const o=nV(i);for(let u=0,h=o.length-1;u<h;u++){const f=o[u];if(f>r)return f}return Math.max(r,1)}function q4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function G4(n,t,e,i){let r=0,o=e[0],u;for(i=Math.ceil(i),u=0;u<n.length;u++)u===o&&(t.push(n[u]),r++,o=e[r*i])}function cf(n,t,e,i,r){const o=Jt(i,0),u=Math.min(Jt(r,n.length),n.length);let h=0,f,g,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(g=Math.max(o,0);g<u;g++)g===y&&(t.push(n[g]),h++,y=Math.round(o+h*e))}function $4(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const Y4=n=>n==="left"?"right":n==="right"?"left":n,ew=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,nw=(n,t)=>Math.min(t||n,n);function iw(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function K4(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,u=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(f-o,u-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>u+h)))return f}function Q4(n,t){Zt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Au(n){return n.drawTicks?n.tickLength:0}function sw(n,t){if(!n.display)return 0;const e=En(n.font,t),i=oi(n.padding);return(Je(n.text)?n.text.length:1)*e.lineHeight+i.height}function W4(n,t){return ul(n,{scale:t,type:"scale"})}function X4(n,t,e){return ul(n,{tick:e,index:t,type:"tick"})}function Z4(n,t,e){let i=M1(n);return(e&&t!=="right"||!e&&t==="right")&&(i=Y4(i)),i}function J4(n,t,e,i){const{top:r,left:o,bottom:u,right:h,chart:f}=n,{chartArea:g,scales:y}=f;let v=0,b,w,A;const C=u-r,I=h-o;if(n.isHorizontal()){if(w=Mn(i,o,h),Gt(e)){const M=Object.keys(e)[0],U=e[M];A=y[M].getPixelForValue(U)+C-t}else e==="center"?A=(g.bottom+g.top)/2+C-t:A=ew(n,e,t);b=h-o}else{if(Gt(e)){const M=Object.keys(e)[0],U=e[M];w=y[M].getPixelForValue(U)-I+t}else e==="center"?w=(g.left+g.right)/2-I+t:w=ew(n,e,t);A=Mn(i,u,r),v=e==="left"?-Pe:Pe}return{titleX:w,titleY:A,maxWidth:b,rotation:v}}class zd extends Ia{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ri(t,Number.POSITIVE_INFINITY),e=Ri(e,Number.NEGATIVE_INFINITY),i=Ri(i,Number.POSITIVE_INFINITY),r=Ri(r,Number.NEGATIVE_INFINITY),{min:Ri(t,i),max:Ri(e,r),minDefined:Ss(t),maxDefined:Ss(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),u;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)u=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,u.min)),o||(i=Math.max(i,u.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ri(e,Ri(i,e)),max:Ri(i,Ri(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){le(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=MV(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?iw(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=j4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){le(this.options.afterUpdate,[this])}beforeSetDimensions(){le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){le(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),le(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=le(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=nw(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let u=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),v=y.widest.width,b=y.highest.height,w=Kn(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:w/(i-1),v+6>h&&(h=w/(i-(t.offset?.5:1)),f=this.maxHeight-Au(t.grid)-e.padding-sw(t.title,this.chart.options.font),g=Math.sqrt(v*v+b*b),u=sV(Math.min(Math.asin(Kn((y.highest.height+6)/h,-1,1)),Math.asin(Kn(f/g,-1,1))-Math.asin(Kn(b/g,-1,1)))),u=Math.max(r,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){le(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const f=sw(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Au(o)+f):(t.height=this.maxHeight,t.width=Au(o)+f),i.display&&this.ticks.length){const{first:g,last:y,widest:v,highest:b}=this._getLabelSizes(),w=i.padding*2,A=_a(this.labelRotation),C=Math.cos(A),I=Math.sin(A);if(h){const M=i.mirror?0:I*v.width+C*b.height;t.height=Math.min(this.maxHeight,t.height+M+w)}else{const M=i.mirror?0:C*v.width+I*b.height;t.width=Math.min(this.maxWidth,t.width+M+w)}this._calculatePadding(g,y,I,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:u},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;f?g?(b=r*t.width,w=i*e.height):(b=i*t.height,w=r*e.width):o==="start"?w=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,w=e.width/2),this.paddingLeft=Math.max((b-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((w-v+u)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;o==="start"?(y=0,v=t.height):o==="end"&&(y=e.height,v=0),this.paddingTop=y+u,this.paddingBottom=v+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){le(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ln(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=iw(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,u=[],h=[],f=Math.floor(e/nw(e,i));let g=0,y=0,v,b,w,A,C,I,M,U,V,$,X;for(v=0;v<e;v+=f){if(A=t[v].label,C=this._resolveTickFontOptions(v),r.font=I=C.string,M=o[I]=o[I]||{data:{},gc:[]},U=C.lineHeight,V=$=0,!ln(A)&&!Je(A))V=LE(r,M.data,M.gc,V,A),$=U;else if(Je(A))for(b=0,w=A.length;b<w;++b)X=A[b],!ln(X)&&!Je(X)&&(V=LE(r,M.data,M.gc,V,X),$+=U);u.push(V),h.push($),g=Math.max(V,g),y=Math.max($,y)}Q4(o,e);const ot=u.indexOf(g),O=h.indexOf(y),R=D=>({width:u[D]||0,height:h[D]||0});return{first:R(0),last:R(e-1),widest:R(ot),highest:R(O),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return aV(this._alignToPixels?da(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=X4(this.getContext(),t,i))}return this.$context||(this.$context=W4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=_a(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,h=o?o.widest.width+u:0,f=o?o.highest.height+u:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:u,border:h}=r,f=o.offset,g=this.isHorizontal(),v=this.ticks.length+(f?1:0),b=Au(o),w=[],A=h.setContext(this.getContext()),C=A.display?A.width:0,I=C/2,M=function(Q){return da(i,Q,C)};let U,V,$,X,ot,O,R,D,N,L,z,k;if(u==="top")U=M(this.bottom),O=this.bottom-b,D=U-I,L=M(t.top)+I,k=t.bottom;else if(u==="bottom")U=M(this.top),L=t.top,k=M(t.bottom)-I,O=U+I,D=this.top+b;else if(u==="left")U=M(this.right),ot=this.right-b,R=U-I,N=M(t.left)+I,z=t.right;else if(u==="right")U=M(this.left),N=t.left,z=M(t.right)-I,ot=U+I,R=this.left+b;else if(e==="x"){if(u==="center")U=M((t.top+t.bottom)/2+.5);else if(Gt(u)){const Q=Object.keys(u)[0],at=u[Q];U=M(this.chart.scales[Q].getPixelForValue(at))}L=t.top,k=t.bottom,O=U+I,D=O+b}else if(e==="y"){if(u==="center")U=M((t.left+t.right)/2);else if(Gt(u)){const Q=Object.keys(u)[0],at=u[Q];U=M(this.chart.scales[Q].getPixelForValue(at))}ot=U-I,R=ot-b,N=t.left,z=t.right}const Ft=Jt(r.ticks.maxTicksLimit,v),yt=Math.max(1,Math.ceil(v/Ft));for(V=0;V<v;V+=yt){const Q=this.getContext(V),at=o.setContext(Q),ht=h.setContext(Q),St=at.lineWidth,B=at.color,st=ht.dash||[],ct=ht.dashOffset,lt=at.tickWidth,mt=at.tickColor,It=at.tickBorderDash||[],_t=at.tickBorderDashOffset;$=K4(this,V,f),$!==void 0&&(X=da(i,$,St),g?ot=R=N=z=X:O=D=L=k=X,w.push({tx1:ot,ty1:O,tx2:R,ty2:D,x1:N,y1:L,x2:z,y2:k,width:St,color:B,borderDash:st,borderDashOffset:ct,tickWidth:lt,tickColor:mt,tickBorderDash:It,tickBorderDashOffset:_t}))}return this._ticksLength=v,this._borderValue=U,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,u=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:y,mirror:v}=o,b=Au(i.grid),w=b+y,A=v?-y:w,C=-_a(this.labelRotation),I=[];let M,U,V,$,X,ot,O,R,D,N,L,z,k="middle";if(r==="top")ot=this.bottom-A,O=this._getXAxisLabelAlignment();else if(r==="bottom")ot=this.top+A,O=this._getXAxisLabelAlignment();else if(r==="left"){const yt=this._getYAxisLabelAlignment(b);O=yt.textAlign,X=yt.x}else if(r==="right"){const yt=this._getYAxisLabelAlignment(b);O=yt.textAlign,X=yt.x}else if(e==="x"){if(r==="center")ot=(t.top+t.bottom)/2+w;else if(Gt(r)){const yt=Object.keys(r)[0],Q=r[yt];ot=this.chart.scales[yt].getPixelForValue(Q)+w}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")X=(t.left+t.right)/2-w;else if(Gt(r)){const yt=Object.keys(r)[0],Q=r[yt];X=this.chart.scales[yt].getPixelForValue(Q)}O=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?k="top":f==="end"&&(k="bottom"));const Ft=this._getLabelSizes();for(M=0,U=h.length;M<U;++M){V=h[M],$=V.label;const yt=o.setContext(this.getContext(M));R=this.getPixelForTick(M)+o.labelOffset,D=this._resolveTickFontOptions(M),N=D.lineHeight,L=Je($)?$.length:1;const Q=L/2,at=yt.color,ht=yt.textStrokeColor,St=yt.textStrokeWidth;let B=O;u?(X=R,O==="inner"&&(M===U-1?B=this.options.reverse?"left":"right":M===0?B=this.options.reverse?"right":"left":B="center"),r==="top"?g==="near"||C!==0?z=-L*N+N/2:g==="center"?z=-Ft.highest.height/2-Q*N+N:z=-Ft.highest.height+N/2:g==="near"||C!==0?z=N/2:g==="center"?z=Ft.highest.height/2-Q*N:z=Ft.highest.height-L*N,v&&(z*=-1),C!==0&&!yt.showLabelBackdrop&&(X+=N/2*Math.sin(C))):(ot=R,z=(1-L)*N/2);let st;if(yt.showLabelBackdrop){const ct=oi(yt.backdropPadding),lt=Ft.heights[M],mt=Ft.widths[M];let It=z-ct.top,_t=0-ct.left;switch(k){case"middle":It-=lt/2;break;case"bottom":It-=lt;break}switch(O){case"center":_t-=mt/2;break;case"right":_t-=mt;break;case"inner":M===U-1?_t-=mt:M>0&&(_t-=mt/2);break}st={left:_t,top:It,width:mt+ct.width,height:lt+ct.height,color:yt.backdropColor}}I.push({label:$,font:D,textOffset:z,options:{rotation:C,color:at,strokeColor:ht,strokeWidth:St,textAlign:B,textBaseline:k,translation:[X,ot],backdrop:st}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-_a(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,u=this._getLabelSizes(),h=t+o,f=u.widest.width;let g,y;return e==="left"?r?(y=this.right+o,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y+=f)):(y=this.right-h,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y-=f)):(y=this.left+h,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const h=(f,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,u=r.length;o<u;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),u=i.display?o.width:0;if(!u)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,y,v,b;this.isHorizontal()?(g=da(t,this.left,u)-u/2,y=da(t,this.right,h)+h/2,v=b=f):(v=da(t,this.top,u)-u/2,b=da(t,this.bottom,h)+h/2,g=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,v),e.lineTo(y,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&l_(i,r);const o=this.getLabelItems(t);for(const u of o){const h=u.options,f=u.font,g=u.label,y=u.textOffset;id(i,g,0,y,f,h)}r&&u_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=En(i.font),u=oi(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Gt(e)?(f+=u.bottom,Je(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=u.top;const{titleX:g,titleY:y,maxWidth:v,rotation:b}=J4(this,f,e,h);id(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:b,textAlign:Z4(h,e,r),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Jt(t.grid&&t.grid.z,-1),r=Jt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==zd.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,u;for(o=0,u=e.length;o<u;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return En(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class hf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;n5(e)&&(i=this.register(e));const r=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,t5(t,u,i),this.override&&Ee.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ee[r]&&(delete Ee[r][i],this.override&&delete Ra[i])}}function t5(n,t,e){const i=oc(Object.create(null),[e?Ee.get(e):{},Ee.get(t),n.defaults]);Ee.set(t,i),n.defaultRoutes&&e5(t,n.defaultRoutes),n.descriptors&&Ee.describe(t,n.descriptors)}function e5(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),u=t[e].split("."),h=u.pop(),f=u.join(".");Ee.route(o,r,f,h)})}function n5(n){return"id"in n&&"defaults"in n}class i5{constructor(){this.controllers=new hf(Qu,"datasets",!0),this.elements=new hf(Ia,"elements"),this.plugins=new hf(Object,"plugins"),this.scales=new hf(zd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Zt(r,u=>{const h=i||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,i){const r=a_(t);le(i["before"+r],[],i),e[t](i),le(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ci=new i5;class s5{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),u=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,i,r){r=r||{};for(const o of t){const u=o.plugin,h=u[i],f=[e,r,o.options];if(le(h,f,u)===!1&&r.cancelable)return!1}return!0}invalidate(){ln(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Jt(i.options&&i.options.plugins,{}),o=r5(i);return r===!1&&!e?[]:o5(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,u)=>o.filter(h=>!u.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function r5(n){const t={},e=[],i=Object.keys(Ci.plugins.items);for(let o=0;o<i.length;o++)e.push(Ci.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const u=r[o];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function a5(n,t){return!t&&n===!1?null:n===!0?{}:n}function o5(n,{plugins:t,localIds:e},i,r){const o=[],u=n.getContext();for(const h of t){const f=h.id,g=a5(i[f],r);g!==null&&o.push({plugin:h,options:l5(n.config,{plugin:h,local:e[f]},g,u)})}return o}function l5(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),u=n.getOptionScopes(i,o);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ey(n,t){const e=Ee.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function u5(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function c5(n,t){return n===t?"_index_":"_value_"}function rw(n){if(n==="x"||n==="y"||n==="r")return n}function h5(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ny(n,...t){if(rw(n))return n;for(const e of t){const i=e.axis||h5(e.position)||n.length>1&&rw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function aw(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function f5(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return aw(n,"x",e[0])||aw(n,"y",e[0])}return{}}function d5(n,t){const e=Ra[n.type]||{scales:{}},i=t.scales||{},r=ey(n.type,t),o=Object.create(null);return Object.keys(i).forEach(u=>{const h=i[u];if(!Gt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const f=ny(u,h,f5(u,n),Ee.scales[h.type]),g=c5(f,r),y=e.scales||{};o[u]=Gu(Object.create(null),[{axis:f},h,y[f],y[g]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,f=u.indexAxis||ey(h,t),y=(Ra[h]||{}).scales||{};Object.keys(y).forEach(v=>{const b=u5(v,f),w=u[b+"AxisID"]||b;o[w]=o[w]||Object.create(null),Gu(o[w],[{axis:b},i[w],y[v]])})}),Object.keys(o).forEach(u=>{const h=o[u];Gu(h,[Ee.scales[h.type],Ee.scale])}),o}function Q1(n){const t=n.options||(n.options={});t.plugins=Jt(t.plugins,{}),t.scales=d5(n,t)}function W1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function g5(n){return n=n||{},n.data=W1(n.data),Q1(n),n}const ow=new Map,X1=new Set;function ff(n,t){let e=ow.get(n);return e||(e=t(),ow.set(n,e),X1.add(e)),e}const xu=(n,t,e)=>{const i=lc(t,e);i!==void 0&&n.add(i)};class m5{constructor(t){this._config=g5(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=W1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Q1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ff(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ff(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ff(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return ff(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,u=this._cachedScopes(t,i),h=u.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(v=>xu(f,t,v))),y.forEach(v=>xu(f,r,v)),y.forEach(v=>xu(f,Ra[o]||{},v)),y.forEach(v=>xu(f,Ee,v)),y.forEach(v=>xu(f,Zp,v))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),X1.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ra[e]||{},Ee.datasets[e]||{},{type:e},Ee,Zp]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:u,subPrefixes:h}=lw(this._resolverCache,t,r);let f=u;if(y5(u,e)){o.$shared=!1,i=xr(i)?i():i;const g=this.createResolver(t,i,h);f=Jo(u,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=lw(this._resolverCache,t,i);return Gt(e)?Jo(o,e,void 0,r):o}}function lw(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:h_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const p5=n=>Gt(n)&&Object.getOwnPropertyNames(n).some(t=>xr(n[t]));function y5(n,t){const{isScriptable:e,isIndexable:i}=L1(n);for(const r of t){const o=e(r),u=i(r),h=(u||o)&&n[r];if(o&&(xr(h)||p5(h))||u&&Je(h))return!0}return!1}var _5="4.4.9";const v5=["top","bottom","left","right","chartArea"];function uw(n,t){return n==="top"||n==="bottom"||v5.indexOf(n)===-1&&t==="x"}function cw(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function hw(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),le(e&&e.onComplete,[n],t)}function b5(n){const t=n.chart,e=t.options.animation;le(e&&e.onProgress,[n],t)}function Z1(n){return g_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Df={},fw=n=>{const t=Z1(n);return Object.values(Df).filter(e=>e.canvas===t).pop()};function T5(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const u=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=u)}}}function E5(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var ir;let Bd=(ir=class{static register(...t){Ci.add(...t),dw()}static unregister(...t){Ci.remove(...t),dw()}constructor(t,e){const i=this.config=new m5(e),r=Z1(t),o=fw(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||B4(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,u.aspectRatio),f=h&&h.canvas,g=f&&f.height,y=f&&f.width;if(this.id=KL(),this.ctx=h,this.canvas=f,this.width=y,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new s5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hV(v=>this.update(v),u.resizeDelay||0),this._dataChanges=[],Df[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}us.listen(this,"complete",hw),us.listen(this,"progress",b5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return ln(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ci}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():jE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VE(this.canvas,this.ctx),this}stop(){return us.stop(this),this}resize(t,e){us.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,jE(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),le(i.onResize,[this,u],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Zt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((u,h)=>(u[h]=!1,u),{});let o=[];e&&(o=o.concat(Object.keys(e).map(u=>{const h=e[u],f=ny(u,h),g=f==="r",y=f==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),Zt(o,u=>{const h=u.options,f=h.id,g=ny(f,h),y=Jt(h.type,u.dtype);(h.position===void 0||uw(h.position,g)!==uw(u.dposition))&&(h.position=u.dposition),r[f]=!0;let v=null;if(f in i&&i[f].type===y)v=i[f];else{const b=Ci.getScale(y);v=new b({id:f,type:y,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Zt(r,(u,h)=>{u||delete i[h]}),Zt(i,u=>{hr.configure(this,u,u.options),hr.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(cw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let u=this.getDatasetMeta(i);const h=o.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(i),u=this.getDatasetMeta(i)),u.type=h,u.indexAxis=o.indexAxis||ey(h,this.options),u.order=o.order||0,u.index=i,u.label=""+o.label,u.visible=this.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const f=Ci.getController(h),{datasetElementType:g,dataElementType:y}=Ee.datasets[h];Object.assign(f,{dataElementType:Ci.getElement(y),datasetElementType:g&&Ci.getElement(g)}),u.controller=new f(this,i),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Zt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:v}=this.getDatasetMeta(g),b=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(b),u=Math.max(+v.getMaxOverflow(),u)}u=this._minPadding=i.layout.autoPadding?u:0,this._updateLayout(u),r||Zt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(cw("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Zt(this.scales,t=>{hr.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!IE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const u=i==="_removeElements"?-o:o;T5(t,r,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(u=>u[0]===o).map((u,h)=>h+","+u.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!IE(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;hr.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Zt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,xr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(us.has(this)?this.attached&&!us.running(this)&&us.start(this):(this.draw(),hw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const u=e[r];(!t||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=ZV(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&l_(e,r),t.controller.draw(),r&&u_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return P1(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=v4.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ul(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,r);Jf(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),u.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),us.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),VE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Df[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,u)=>{e.addEventListener(this,o,u),t[o]=u},r=(o,u,h)=>{o.offsetX=u,o.offsetY=h,this._eventHandler(o)};Zt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let u;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",u)};u=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Zt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Zt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,u,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[r+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:u})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[u],index:u}});!Xf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,g)=>f.filter(y=>!g.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),u=o(e,t),h=i?t:o(t,e);u.length&&this.updateHoverStyle(u,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,u=e,h=this._getActiveElements(t,r,i,u),f=tV(t),g=E5(t,this._lastEvent,i,f);i&&(this._lastEvent=null,le(o.onHover,[t,h,this],this),f&&le(o.onClick,[t,h,this],this));const y=!Xf(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}},Dt(ir,"defaults",Ee),Dt(ir,"instances",Df),Dt(ir,"overrides",Ra),Dt(ir,"registry",Ci),Dt(ir,"version",_5),Dt(ir,"getChart",fw),ir);function dw(){return Zt(Bd.instances,n=>n._plugins.invalidate())}function w5(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:u,outerRadius:h,innerRadius:f}=t;let g=r/h;n.beginPath(),n.arc(o,u,h,i-g,e+g),f>r?(g=r/f,n.arc(o,u,f,e+g,i-g,!0)):n.arc(o,u,r,e+Pe,i-Pe),n.closePath(),n.clip()}function S5(n){return c_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function A5(n,t,e,i){const r=S5(n.options.borderRadius),o=(e-t)/2,u=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return Kn(f,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Kn(r.innerStart,0,u),innerEnd:Kn(r.innerEnd,0,u)}}function Do(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function ad(n,t,e,i,r,o){const{x:u,y:h,startAngle:f,pixelMargin:g,innerRadius:y}=t,v=Math.max(t.outerRadius+i+e-g,0),b=y>0?y+i+e+g:0;let w=0;const A=r-f;if(i){const yt=y>0?y-i:0,Q=v>0?v-i:0,at=(yt+Q)/2,ht=at!==0?A*at/(at+i):A;w=(A-ht)/2}const C=Math.max(.001,A*v-e/Ge)/v,I=(A-C)/2,M=f+I+w,U=r-I-w,{outerStart:V,outerEnd:$,innerStart:X,innerEnd:ot}=A5(t,b,v,U-M),O=v-V,R=v-$,D=M+V/O,N=U-$/R,L=b+X,z=b+ot,k=M+X/L,Ft=U-ot/z;if(n.beginPath(),o){const yt=(D+N)/2;if(n.arc(u,h,v,D,yt),n.arc(u,h,v,yt,N),$>0){const St=Do(R,N,u,h);n.arc(St.x,St.y,$,N,U+Pe)}const Q=Do(z,U,u,h);if(n.lineTo(Q.x,Q.y),ot>0){const St=Do(z,Ft,u,h);n.arc(St.x,St.y,ot,U+Pe,Ft+Math.PI)}const at=(U-ot/b+(M+X/b))/2;if(n.arc(u,h,b,U-ot/b,at,!0),n.arc(u,h,b,at,M+X/b,!0),X>0){const St=Do(L,k,u,h);n.arc(St.x,St.y,X,k+Math.PI,M-Pe)}const ht=Do(O,M,u,h);if(n.lineTo(ht.x,ht.y),V>0){const St=Do(O,D,u,h);n.arc(St.x,St.y,V,M-Pe,D)}}else{n.moveTo(u,h);const yt=Math.cos(D)*v+u,Q=Math.sin(D)*v+h;n.lineTo(yt,Q);const at=Math.cos(N)*v+u,ht=Math.sin(N)*v+h;n.lineTo(at,ht)}n.closePath()}function x5(n,t,e,i,r){const{fullCircles:o,startAngle:u,circumference:h}=t;let f=t.endAngle;if(o){ad(n,t,e,i,f,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=u+(h%Ce||Ce))}return ad(n,t,e,i,f,r),n.fill(),f}function R5(n,t,e,i,r){const{fullCircles:o,startAngle:u,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:y,borderDash:v,borderDashOffset:b}=f,w=f.borderAlign==="inner";if(!g)return;n.setLineDash(v||[]),n.lineDashOffset=b,w?(n.lineWidth=g*2,n.lineJoin=y||"round"):(n.lineWidth=g,n.lineJoin=y||"bevel");let A=t.endAngle;if(o){ad(n,t,e,i,A,r);for(let C=0;C<o;++C)n.stroke();isNaN(h)||(A=u+(h%Ce||Ce))}w&&w5(n,t,A),o||(ad(n,t,e,i,A,r),n.stroke())}class Uu extends Ia{constructor(e){super();Dt(this,"circumference");Dt(this,"endAngle");Dt(this,"fullCircles");Dt(this,"innerRadius");Dt(this,"outerRadius");Dt(this,"pixelMargin");Dt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.getProps(["x","y"],r),{angle:u,distance:h}=I1(o,{x:e,y:i}),{startAngle:f,endAngle:g,innerRadius:y,outerRadius:v,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),w=(this.options.spacing+this.options.borderWidth)/2,A=Jt(b,g-f),C=nd(u,f,g)&&f!==g,I=A>=Ce||C,M=Pu(h,y+w,v+w);return I&&M}getCenterPoint(e){const{x:i,y:r,startAngle:o,endAngle:u,innerRadius:h,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:y}=this.options,v=(o+u)/2,b=(h+f+y+g)/2;return{x:i+Math.cos(v)*b,y:r+Math.sin(v)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,o=(i.offset||0)/4,u=(i.spacing||0)/2,h=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Ce?Math.floor(r/Ce):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*o,Math.sin(f)*o);const g=1-Math.sin(Math.min(Ge,r||0)),y=o*g;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,x5(e,this,y,u,h),R5(e,this,y,u,h),e.restore()}}Dt(Uu,"id","arc"),Dt(Uu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Dt(Uu,"defaultRoutes",{backgroundColor:"backgroundColor"}),Dt(Uu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});const gw=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},I5=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class mw extends Ia{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=le(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=En(i.font),o=r.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=gw(i,o);let g,y;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(u,o,h,f)+10):(y=this.maxHeight,g=this._fitCols(u,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],y=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let b=-1,w=-y;return this.legendItems.forEach((A,C)=>{const I=i+e/2+o.measureText(A.text).width;(C===0||g[g.length-1]+I+2*h>u)&&(v+=y,g[g.length-(C>0?0:1)]=0,w+=y,b++),f[C]={left:0,top:w,row:b,width:I,height:r},g[g.length-1]+=I+h}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],y=u-t;let v=h,b=0,w=0,A=0,C=0;return this.legendItems.forEach((I,M)=>{const{itemWidth:U,itemHeight:V}=C5(i,e,o,I,r);M>0&&w+V+2*h>y&&(v+=b+h,g.push({width:b,height:w}),A+=b+h,C++,b=w=0),f[M]={left:A,top:w,col:C,width:U,height:V},b=Math.max(b,U),w+=V+h}),v+=b,g.push({width:b,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,u=jo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=Mn(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=Mn(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=u.leftForLtr(u.x(f),g.width),f+=g.width+r}else{let h=0,f=Mn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=Mn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=u.leftForLtr(u.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;l_(t,this),this._draw(),u_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:u}=t,h=Ee.color,f=jo(t.rtl,this.left,this.width),g=En(u.font),{padding:y}=u,v=g.size,b=v/2;let w;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:A,boxHeight:C,itemHeight:I}=gw(u,v),M=function(ot,O,R){if(isNaN(A)||A<=0||isNaN(C)||C<0)return;r.save();const D=Jt(R.lineWidth,1);if(r.fillStyle=Jt(R.fillStyle,h),r.lineCap=Jt(R.lineCap,"butt"),r.lineDashOffset=Jt(R.lineDashOffset,0),r.lineJoin=Jt(R.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Jt(R.strokeStyle,h),r.setLineDash(Jt(R.lineDash,[])),u.usePointStyle){const N={radius:C*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:D},L=f.xPlus(ot,A/2),z=O+b;N1(r,N,L,z,u.pointStyleWidth&&A)}else{const N=O+Math.max((v-C)/2,0),L=f.leftForLtr(ot,A),z=Ku(R.borderRadius);r.beginPath(),Object.values(z).some(k=>k!==0)?Jp(r,{x:L,y:N,w:A,h:C,radius:z}):r.rect(L,N,A,C),r.fill(),D!==0&&r.stroke()}r.restore()},U=function(ot,O,R){id(r,R.text,ot,O+I/2,g,{strikethrough:R.hidden,textAlign:f.textAlign(R.textAlign)})},V=this.isHorizontal(),$=this._computeTitleHeight();V?w={x:Mn(o,this.left+y,this.right-i[0]),y:this.top+y+$,line:0}:w={x:this.left+y,y:Mn(o,this.top+$+y,this.bottom-e[0].height),line:0},B1(this.ctx,t.textDirection);const X=I+y;this.legendItems.forEach((ot,O)=>{r.strokeStyle=ot.fontColor,r.fillStyle=ot.fontColor;const R=r.measureText(ot.text).width,D=f.textAlign(ot.textAlign||(ot.textAlign=u.textAlign)),N=A+b+R;let L=w.x,z=w.y;f.setWidth(this.width),V?O>0&&L+N+y>this.right&&(z=w.y+=X,w.line++,L=w.x=Mn(o,this.left+y,this.right-i[w.line])):O>0&&z+X>this.bottom&&(L=w.x=L+e[w.line].width+y,w.line++,z=w.y=Mn(o,this.top+$+y,this.bottom-e[w.line].height));const k=f.x(L);if(M(k,z,ot),L=fV(D,L+A+b,V?L+N:this.right,t.rtl),U(f.x(L),z,ot),V)w.x+=N+y;else if(typeof ot.text!="string"){const Ft=g.lineHeight;w.y+=J1(ot,Ft)+y}else w.y+=X}),j1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=En(e.font),r=oi(e.padding);if(!e.display)return;const o=jo(t.rtl,this.left,this.width),u=this.ctx,h=e.position,f=i.size/2,g=r.top+f;let y,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+g,v=Mn(t.align,v,this.right-b);else{const A=this.columnSizes.reduce((C,I)=>Math.max(C,I.height),0);y=g+Mn(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const w=Mn(h,v,v+b);u.textAlign=o.textAlign(M1(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=i.string,id(u,e.text,w,y,i)}_computeTitleHeight(){const t=this.options.title,e=En(t.font),i=oi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Pu(t,this.left,this.right)&&Pu(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Pu(t,r.left,r.left+r.width)&&Pu(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!M5(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=I5(r,i);r&&!o&&le(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&le(e.onHover,[t,i,this],this)}else i&&le(e.onClick,[t,i,this],this)}}function C5(n,t,e,i,r){const o=D5(i,n,t,e),u=O5(r,i,t.lineHeight);return{itemWidth:o,itemHeight:u}}function D5(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,u)=>o.length>u.length?o:u)),t+e.size/2+i.measureText(r).width}function O5(n,t,e){let i=n;return typeof t.text!="string"&&(i=J1(t,e)),i}function J1(n,t){const e=n.text?n.text.length:0;return t*e}function M5(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var k5={id:"legend",_element:mw,start(n,t,e){const i=n.legend=new mw({ctx:n.ctx,options:e,chart:n});hr.configure(n,i,e),hr.addBox(n,i)},stop(n){hr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;hr.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),y=oi(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const zu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,u,h;for(o=0,u=n.length;o<u;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),y=rV(t,g);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Ii(n,t){return t&&(Je(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function cs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function N5(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:u,value:h}=o.getLabelAndValue(r);return{chart:n,label:u,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function pw(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:u,boxHeight:h}=t,f=En(t.bodyFont),g=En(t.titleFont),y=En(t.footerFont),v=o.length,b=r.length,w=i.length,A=oi(t.padding);let C=A.height,I=0,M=i.reduce(($,X)=>$+X.before.length+X.lines.length+X.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,v&&(C+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),M){const $=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;C+=w*$+(M-w)*f.lineHeight+(M-1)*t.bodySpacing}b&&(C+=t.footerMarginTop+b*y.lineHeight+(b-1)*t.footerSpacing);let U=0;const V=function($){I=Math.max(I,e.measureText($).width+U)};return e.save(),e.font=g.string,Zt(n.title,V),e.font=f.string,Zt(n.beforeBody.concat(n.afterBody),V),U=t.displayColors?u+2+t.boxPadding:0,Zt(i,$=>{Zt($.before,V),Zt($.lines,V),Zt($.after,V)}),U=0,e.font=y.string,Zt(n.footer,V),e.restore(),I+=A.width,{width:I,height:C}}function P5(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function L5(n,t,e,i){const{x:r,width:o}=i,u=e.caretSize+e.caretPadding;if(n==="left"&&r+o+u>t.width||n==="right"&&r-o-u<0)return!0}function V5(n,t,e,i){const{x:r,width:o}=e,{width:u,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=u-o/2&&(g="right"),L5(g,n,t,e)&&(g="center"),g}function yw(n,t,e){const i=e.yAlign||t.yAlign||P5(n,e);return{xAlign:e.xAlign||t.xAlign||V5(n,t,e,i),yAlign:i}}function U5(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function z5(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function _w(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:u}=n,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:w}=Ku(u);let A=U5(t,h);const C=z5(t,f,g);return f==="center"?h==="left"?A+=g:h==="right"&&(A-=g):h==="left"?A-=Math.max(y,b)+r:h==="right"&&(A+=Math.max(v,w)+r),{x:Kn(A,0,i.width-t.width),y:Kn(C,0,i.height-t.height)}}function df(n,t,e){const i=oi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function vw(n){return Ii([],cs(n))}function B5(n,t,e){return ul(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function bw(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const tx={beforeTitle:ls,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ls,beforeBody:ls,beforeLabel:ls,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ln(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ls,afterBody:ls,beforeFooter:ls,footer:ls,afterFooter:ls};function vn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?tx[t].call(e,i):r}class iy extends Ia{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new H1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=B5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=vn(i,"beforeTitle",this,t),o=vn(i,"title",this,t),u=vn(i,"afterTitle",this,t);let h=[];return h=Ii(h,cs(r)),h=Ii(h,cs(o)),h=Ii(h,cs(u)),h}getBeforeBody(t,e){return vw(vn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Zt(t,o=>{const u={before:[],lines:[],after:[]},h=bw(i,o);Ii(u.before,cs(vn(h,"beforeLabel",this,o))),Ii(u.lines,vn(h,"label",this,o)),Ii(u.after,cs(vn(h,"afterLabel",this,o))),r.push(u)}),r}getAfterBody(t,e){return vw(vn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=vn(i,"beforeFooter",this,t),o=vn(i,"footer",this,t),u=vn(i,"afterFooter",this,t);let h=[];return h=Ii(h,cs(r)),h=Ii(h,cs(o)),h=Ii(h,cs(u)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],u=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(N5(this.chart,e[f]));return t.filter&&(h=h.filter((y,v,b)=>t.filter(y,v,b,i))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,i))),Zt(h,y=>{const v=bw(t.callbacks,y);r.push(vn(v,"labelColor",this,y)),o.push(vn(v,"labelPointStyle",this,y)),u.push(vn(v,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,u=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=zu[i.position].call(this,r,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const f=this._size=pw(this,i),g=Object.assign({},h,f),y=yw(this.chart,i,g),v=_w(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:u,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:v}=Ku(h),{x:b,y:w}=t,{width:A,height:C}=e;let I,M,U,V,$,X;return o==="center"?($=w+C/2,r==="left"?(I=b,M=I-u,V=$+u,X=$-u):(I=b+A,M=I+u,V=$-u,X=$+u),U=I):(r==="left"?M=b+Math.max(f,y)+u:r==="right"?M=b+A-Math.max(g,v)-u:M=this.caretX,o==="top"?(V=w,$=V-u,I=M-u,U=M+u):(V=w+C,$=V+u,I=M+u,U=M-u),X=V),{x1:I,x2:M,x3:U,y1:V,y2:$,y3:X}}drawTitle(t,e,i){const r=this.title,o=r.length;let u,h,f;if(o){const g=jo(i.rtl,this.x,this.width);for(t.x=df(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",u=En(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=u.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const u=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,y=En(o.bodyFont),v=df(this,"left",o),b=r.x(v),w=f<y.lineHeight?(y.lineHeight-f)/2:0,A=e.y+w;if(o.usePointStyle){const C={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},I=r.leftForLtr(b,g)+g/2,M=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,UE(t,C,I,M),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,UE(t,C,I,M)}else{t.lineWidth=Gt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const C=r.leftForLtr(b,g),I=r.leftForLtr(r.xPlus(b,1),g-2),M=Ku(u.borderRadius);Object.values(M).some(U=>U!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Jp(t,{x:C,y:A,w:g,h:f,radius:M}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Jp(t,{x:I,y:A+1,w:g-2,h:f-2,radius:M}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,A,g,f),t.strokeRect(C,A,g,f),t.fillStyle=u.backgroundColor,t.fillRect(I,A+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:u,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:y}=i,v=En(i.bodyFont);let b=v.lineHeight,w=0;const A=jo(i.rtl,this.x,this.width),C=function(R){e.fillText(R,A.x(t.x+w),t.y+b/2),t.y+=b+o},I=A.textAlign(u);let M,U,V,$,X,ot,O;for(e.textAlign=u,e.textBaseline="middle",e.font=v.string,t.x=df(this,I,i),e.fillStyle=i.bodyColor,Zt(this.beforeBody,C),w=h&&I!=="right"?u==="center"?g/2+y:g+2+y:0,$=0,ot=r.length;$<ot;++$){for(M=r[$],U=this.labelTextColors[$],e.fillStyle=U,Zt(M.before,C),V=M.lines,h&&V.length&&(this._drawColorBox(e,t,$,A,i),b=Math.max(v.lineHeight,f)),X=0,O=V.length;X<O;++X)C(V[X]),b=v.lineHeight;Zt(M.after,C)}w=0,b=v.lineHeight,Zt(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let u,h;if(o){const f=jo(i.rtl,this.x,this.width);for(t.x=df(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",u=En(i.footerFont),e.fillStyle=i.footerColor,e.font=u.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:u}=this,{x:h,y:f}=t,{width:g,height:y}=i,{topLeft:v,topRight:b,bottomLeft:w,bottomRight:A}=Ku(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,f),u==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-b,f),e.quadraticCurveTo(h+g,f,h+g,f+b),u==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,f+y-A),e.quadraticCurveTo(h+g,f+y,h+g-A,f+y),u==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+w,f+y),e.quadraticCurveTo(h,f+y,h,f+y-w),u==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const u=zu[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=pw(this,t),f=Object.assign({},u,this._size),g=yw(e,t,f),y=_w(t,f,g,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=oi(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),B1(t,e.textDirection),o.y+=u.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),j1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Xf(i,r),u=this._positionChanged(r,e);(o||u)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],u=this._getActiveElements(t,o,e,i),h=this._positionChanged(u,t),f=e||!Xf(u,o)||h;return f&&(this._active=u,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,u=zu[o.position].call(this,t,e);return u!==!1&&(i!==u.x||r!==u.y)}}Dt(iy,"positioners",zu);var j5={id:"tooltip",_element:iy,positioners:zu,afterInit(n,t,e){e&&(n.tooltip=new iy({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const jd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Tn=Object.keys(jd);function Tw(n,t){return n-t}function Ew(n,t){if(ln(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let u=t;return typeof i=="function"&&(u=i(u)),Ss(u)||(u=typeof i=="string"?e.parse(u,i):e.parse(u)),u===null?null:(r&&(u=r==="week"&&(ed(o)||o===!0)?e.startOf(u,"isoWeek",o):e.startOf(u,r)),+u)}function ww(n,t,e,i){const r=Tn.length;for(let o=Tn.indexOf(n);o<r-1;++o){const u=jd[Tn[o]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=i)return Tn[o]}return Tn[r-1]}function H5(n,t,e,i,r){for(let o=Tn.length-1;o>=Tn.indexOf(e);o--){const u=Tn[o];if(jd[u].common&&n._adapter.diff(r,i,u)>=t-1)return u}return Tn[e?Tn.indexOf(e):0]}function F5(n){for(let t=Tn.indexOf(n)+1,e=Tn.length;t<e;++t)if(jd[Tn[t]].common)return Tn[t]}function Sw(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=o_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function q5(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),u=t[t.length-1].value;let h,f;for(h=o;h<=u;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function Aw(n,t,e){const i=[],r={},o=t.length;let u,h;for(u=0;u<o;++u)h=t[u],r[h]=u,i.push({value:h,major:!1});return o===0||!e?i:q5(n,i,r,e)}class od extends zd{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new g4._date(t.adapters.date);r.init(e),Gu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Ew(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:u,maxDefined:h}=this.getUserBounds();function f(g){!u&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!u||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Ss(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Ss(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,u=this.max,h=lV(r,o,u);return this._unit=e.unit||(i.autoSkip?ww(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):H5(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:F5(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),Aw(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=Kn(e,0,u),i=Kn(i,0,u),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,u=o.unit||ww(o.minUnit,e,i,this._getLabelCapacity(e)),h=Jt(r.ticks.stepSize,1),f=u==="week"?o.isoWeekday:!1,g=ed(f)||f===!0,y={};let v=e,b,w;if(g&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,g?"day":u),t.diff(i,e,u)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+u);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(b=v,w=0;b<i;b=+t.add(b,h,u),w++)Sw(y,b,A);return(b===i||r.bounds==="ticks"||w===1)&&Sw(y,b,A),Object.keys(y).sort(Tw).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,u=e||r[o];return this._adapter.format(t,u)}_tickFormatFunction(t,e,i,r){const o=this.options,u=o.ticks.callback;if(u)return le(u,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,y=f&&h[f],v=g&&h[g],b=i[e],w=g&&v&&b&&b.major;return this._adapter.format(t,r||(w?v:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=_a(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),u=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*u,h:i*u+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Aw(this,[t],this._majorUnit),r),u=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(Ew(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return cV(t.sort(Tw))}}Dt(od,"id","time"),Dt(od,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gf(n,t,e){let i=0,r=n.length-1,o,u,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Xp(n,"pos",t)),{pos:o,time:h}=n[i],{pos:u,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Xp(n,"time",t)),{time:o,pos:h}=n[i],{time:u,pos:f}=n[r]);const g=u-o;return g?h+(f-h)*(t-o)/g:h}class xw extends od{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=gf(e,this.min),this._tableRange=gf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let u,h,f,g,y;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(u=0,h=r.length;u<h;++u)y=r[u+1],f=r[u-1],g=r[u],Math.round((y+f)/2)!==g&&o.push({time:g,pos:u/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(gf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return gf(this._table,i*this._tableRange+this._minPos,!0)}}Dt(xw,"id","timeseries"),Dt(xw,"defaults",od.defaults);const ex="label";function Rw(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function G5(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function nx(n,t){n.labels=t}function ix(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ex;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(u=>u[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function $5(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ex;const e={labels:[],datasets:[]};return nx(e,n.labels),ix(e,n.datasets,t),e}function Y5(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:u,data:h,options:f,plugins:g=[],fallbackContent:y,updateMode:v,...b}=n,w=H.useRef(null),A=H.useRef(null),C=()=>{w.current&&(A.current=new Bd(w.current,{type:u,data:$5(h,o),options:f&&{...f},plugins:g}),Rw(t,A.current))},I=()=>{Rw(t,null),A.current&&(A.current.destroy(),A.current=null)};return H.useEffect(()=>{!r&&A.current&&f&&G5(A.current,f)},[r,f]),H.useEffect(()=>{!r&&A.current&&nx(A.current.config.data,h.labels)},[r,h.labels]),H.useEffect(()=>{!r&&A.current&&h.datasets&&ix(A.current.config.data,h.datasets,o)},[r,h.datasets]),H.useEffect(()=>{A.current&&(r?(I(),setTimeout(C)):A.current.update(v))},[r,f,h.labels,h.datasets,v]),H.useEffect(()=>{A.current&&(I(),setTimeout(C))},[u]),H.useEffect(()=>(C(),()=>I()),[]),re.createElement("canvas",{ref:w,role:"img",height:e,width:i,...b},y)}const K5=H.forwardRef(Y5);function Q5(n,t){return Bd.register(t),H.forwardRef((e,i)=>re.createElement(K5,{...e,ref:i,type:n}))}const W5=Q5("pie",ty);Bd.register(Uu,j5,k5);const X5=()=>{const[n,t]=H.useState({totalBookings:0,todayBookings:0,thisMonthBookings:0,tourStats:[]}),[e,i]=H.useState(!0);if(H.useEffect(()=>{(async()=>{try{const f=wf(Mu(Lo,"bookings")),g=await rp(f),y=new Date;y.setHours(0,0,0,0);const v=wf(Mu(Lo,"bookings"),tE("createdAt",">=",y)),b=await rp(v),w=new Date(y.getFullYear(),y.getMonth(),1),A=wf(Mu(Lo,"bookings"),tE("createdAt",">=",w)),C=await rp(A),M=(await nN(Mu(Lo,"bookings"))).docs.map($=>$.data()),U={};M.forEach($=>{const X=$.tourTitle||"Unknown Tour";U[X]=(U[X]||0)+1});const V=Object.keys(U).map($=>({tour:$,count:U[$]}));V.sort(($,X)=>X.count-$.count),t({totalBookings:g.data().count,todayBookings:b.data().count,thisMonthBookings:C.data().count,tourStats:V}),i(!1)}catch(f){console.error("Error fetching stats:",f),i(!1)}})()},[]),e)return J.jsx("div",{className:"p-6",children:"Loading dashboard..."});const o=(h=>{const f=[];for(let g=0;g<h;g++){const y=g*(360/h)%360;f.push(`hsla(${y}, 70%, 50%, 0.7)`),f.push(`hsla(${y}, 70%, 50%, 1)`)}return f})(n.tourStats.length),u={labels:n.tourStats.map(h=>h.tour),datasets:[{label:"Bookings by Tour",data:n.tourStats.map(h=>h.count),backgroundColor:o.filter((h,f)=>f%2===0),borderColor:o.filter((h,f)=>f%2!==0),borderWidth:1}]};return J.jsxs("div",{className:"p-6",children:[J.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dashboard Overview"}),J.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[J.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow",children:[J.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-500",children:"Total Bookings"}),J.jsx("p",{className:"text-2xl sm:text-3xl font-bold mt-2",children:n.totalBookings})]}),J.jsxs("div",{className:"bg-white p-6 sm:p-6 rounded-lg shadow",children:[J.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-500",children:"Today's Bookings"}),J.jsx("p",{className:"text-2xl sm:text-3xl font-bold mt-2",children:n.todayBookings})]}),J.jsxs("div",{className:"bg-white p-6 sm:p-6 rounded-lg shadow",children:[J.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-500",children:"This Month"}),J.jsx("p",{className:"text-2xl sm:text-3xl font-bold mt-2",children:n.thisMonthBookings})]})]}),J.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow",children:[J.jsx("h2",{className:"text-xl font-bold mb-4",children:"Bookings by Tour"}),J.jsx("div",{className:"h-64",children:n.tourStats.length>0?J.jsx(W5,{data:u,options:{maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}}):J.jsx("p",{className:"text-gray-500 text-center py-8",children:"No booking data available"})})]})]})},Z5=()=>J.jsx("div",{className:"flex justify-center items-center h-screen",children:J.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"})}),J5=()=>{const[n,t]=H.useState([]),[e,i]=H.useState(!0),[r,o]=H.useState("");H.useEffect(()=>{const f=wf(Mu(Lo,"bookings")),g=sN(f,y=>{const v=[];y.forEach(b=>{v.push({id:b.id,...b.data()})}),t(v),i(!1)});return()=>g()},[]);const u=async f=>{if(window.confirm("Are you sure you want to delete this booking?"))try{await iN(Uk(Lo,"bookings",f)),Lt.success("Booking deleted successfully")}catch{Lt.error("Error deleting booking")}},h=n.filter(f=>f.fullName.toLowerCase().includes(r.toLowerCase())||f.tourTitle.toLowerCase().includes(r.toLowerCase())||f.whatsapp.includes(r));return e?J.jsx(Z5,{}):J.jsxs("div",{className:"p-6",children:[J.jsxs("div",{className:"mb-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[J.jsx("h1",{className:"text-2xl font-bold",children:"Bookings Management"}),J.jsx("input",{type:"text",placeholder:"Search bookings...",className:"px-4 py-2 border rounded-lg w-full md:w-64",value:r,onChange:f=>o(f.target.value)})]}),J.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:J.jsx("div",{className:"overflow-x-auto",children:J.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[J.jsx("thead",{className:"bg-gray-50",children:J.jsxs("tr",{children:[J.jsx("th",{className:"px-3 py-3  text-xs font-medium text-gray-500 uppercase textleft",children:"Name"}),J.jsx("th",{className:"px-3 py-3 text-xs font-medium text-gray-500 uppercase textleft",children:"Tour"}),J.jsx("th",{className:"px-3 py-3 text-xs font-medium text-gray-500 uppercase textleft",children:"Date"}),J.jsx("th",{className:"px-3 py-3 text-xs font-medium text-gray-500 uppercase textleft",children:"Persons"}),J.jsx("th",{className:"px-3 py-3 text-xs font-medium text-gray-500 uppercase textleft",children:"Contact"}),J.jsx("th",{className:"px-3 py-3 text-xs font-medium text-gray-500 uppercase textleft",children:"Actions"})]})}),J.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(f=>J.jsxs("tr",{children:[J.jsx("td",{className:"px-3 py-4 textleft whitespace-nowrap",children:f.fullName}),J.jsx("td",{className:"px-3 py-4 textleft whitespace-nowrap",children:f.tourTitle}),J.jsx("td",{className:"px-3 py-4 textleft whitespace-nowrap",children:new Date(f.startDate).toLocaleDateString()}),J.jsx("td",{className:"px-3 py-4 textleft whitespace-nowrap",children:f.numberOfPersons}),J.jsxs("td",{className:"px-3 py-4 textleft whitespace-nowrap",children:[J.jsxs("div",{children:[" ",f.whatsapp]}),J.jsxs("div",{children:[" ",f.email]})]}),J.jsx("td",{className:"px-6 py-4 textleft whitespace-nowrap",children:J.jsx("button",{onClick:()=>u(f.id),className:"text-red-600 hover:text-red-900",children:"Delete"})})]},f.id))})]})})})]})},t3=()=>{const[n,t]=H.useState(""),[e,i]=H.useState(""),[r,o]=H.useState(!1),u=ud(),h=async f=>{f.preventDefault(),o(!0);try{await aP(Ld,n,e),u("/"),Lt.success("Logged in successfully")}catch{Lt.error("Invalid Credentials"),o(!1)}};return J.jsx(J.Fragment,{children:J.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:J.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[J.jsx("div",{className:"flex justify-center mb-4",children:J.jsx("img",{src:E1,alt:"Logo",className:"w-32 h-32"})}),J.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Portal Login"}),J.jsxs("form",{onSubmit:h,className:"space-y-4",children:[J.jsxs("div",{children:[J.jsx("label",{className:"block text-gray-700 mb-1",children:"Email"}),J.jsx("input",{type:"email",value:n,onChange:f=>t(f.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-gray-700 mb-1",children:"Password"}),J.jsx("input",{type:"password",value:e,onChange:f=>i(f.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),J.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:r?"Logging in...":"Login"})]})]})})})},e3=()=>{const[n,t]=H.useState(""),[e,i]=H.useState(""),[r,o]=H.useState(""),[u,h]=H.useState(!1),[f,g]=H.useState(!1),y=async v=>{if(v.preventDefault(),e!==r){Lt.error("Passwords don't match");return}if(e.length<6){Lt.error("Password must be at least 6 characters");return}h(!0);try{const b=Ld.currentUser,w=Pa.credential(b.email,n);await sP(b,w),await oP(b,e),Lt.success("Password updated successfully"),t(""),i(""),o("")}catch(b){Lt.error(b.message)}finally{h(!1)}};return J.jsxs("div",{className:"p-4 sm:p-6",children:[J.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Settings"}),!f&&J.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:J.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow cursor-pointer",onClick:()=>g(!f),children:J.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Change Password"})})}),f&&J.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow max-w-md",children:[J.jsx("p",{onClick:()=>g(!f),className:"cursor-pointer pb-3",children:J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6",children:J.jsx("path",{fillRule:"evenodd",d:"M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})})}),J.jsx("h2",{className:"text-xl font-bold mb-4",children:"Change Password"}),J.jsxs("form",{onSubmit:y,className:"space-y-4",children:[J.jsxs("div",{children:[J.jsx("label",{className:"block text-gray-700 mb-1",children:"Current Password"}),J.jsx("input",{type:"password",value:n,onChange:v=>t(v.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-gray-700 mb-1",children:"New Password"}),J.jsx("input",{type:"password",value:e,onChange:v=>i(v.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-gray-700 mb-1",children:"Confirm New Password"}),J.jsx("input",{type:"password",value:r,onChange:v=>o(v.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),J.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:u?"Updating...":"Update Password"})]})]})]})};function n3(){const[n,t]=H.useState(null),[e,i]=H.useState(!0);return H.useEffect(()=>{const r=Ld.onAuthStateChanged(o=>{t(o),i(!1)});return()=>r()},[]),e?J.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):J.jsxs(iC,{children:[J.jsx($C,{}),J.jsxs(kI,{children:[J.jsx(Oo,{path:"/login",element:n?J.jsx(Hb,{to:"/"}):J.jsx(t3,{})}),J.jsxs(Oo,{path:"/",element:n?J.jsx(AL,{user:n}):J.jsx(Hb,{to:"/login"}),children:[J.jsx(Oo,{index:!0,element:J.jsx(J5,{})}),J.jsx(Oo,{path:"dashboard",element:J.jsx(X5,{})}),J.jsx(Oo,{path:"settings",element:J.jsx(e3,{})})]})]})]})}BR.createRoot(document.getElementById("root")).render(J.jsx(H.StrictMode,{children:J.jsx(n3,{})}));
